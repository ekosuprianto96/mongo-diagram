(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Di(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Pe={},Gn=[],Rt=()=>{},qa=()=>!1,Js=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Oi=e=>e.startsWith("onUpdate:"),Ke=Object.assign,Pi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},jd=Object.prototype.hasOwnProperty,De=(e,t)=>jd.call(e,t),de=Array.isArray,Yn=e=>qo(e)==="[object Map]",Za=e=>qo(e)==="[object Set]",hl=e=>qo(e)==="[object Date]",ge=e=>typeof e=="function",Le=e=>typeof e=="string",wt=e=>typeof e=="symbol",Ae=e=>e!==null&&typeof e=="object",Ja=e=>(Ae(e)||ge(e))&&ge(e.then)&&ge(e.catch),Qa=Object.prototype.toString,qo=e=>Qa.call(e),Ud=e=>qo(e).slice(8,-1),eu=e=>qo(e)==="[object Object]",Qs=e=>Le(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,So=Di(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),er=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Kd=/-\w/g,mt=er(e=>e.replace(Kd,t=>t.slice(1).toUpperCase())),Gd=/\B([A-Z])/g,mn=er(e=>e.replace(Gd,"-$1").toLowerCase()),tr=er(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ir=er(e=>e?`on${tr(e)}`:""),qt=(e,t)=>!Object.is(e,t),ws=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},tu=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Ri=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Yd=e=>{const t=Le(e)?Number(e):NaN;return isNaN(t)?e:t};let pl;const nr=()=>pl||(pl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function We(e){if(de(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],s=Le(o)?Zd(o):We(o);if(s)for(const r in s)t[r]=s[r]}return t}else if(Le(e)||Ae(e))return e}const Wd=/;(?![^(]*\))/g,Xd=/:([^]+)/,qd=/\/\*[^]*?\*\//g;function Zd(e){const t={};return e.replace(qd,"").split(Wd).forEach(n=>{if(n){const o=n.split(Xd);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Ee(e){let t="";if(Le(e))t=e;else if(de(e))for(let n=0;n<e.length;n++){const o=Ee(e[n]);o&&(t+=o+" ")}else if(Ae(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Jd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qd=Di(Jd);function nu(e){return!!e||e===""}function ef(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=zi(e[o],t[o]);return n}function zi(e,t){if(e===t)return!0;let n=hl(e),o=hl(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=wt(e),o=wt(t),n||o)return e===t;if(n=de(e),o=de(t),n||o)return n&&o?ef(e,t):!1;if(n=Ae(e),o=Ae(t),n||o){if(!n||!o)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const i in e){const l=e.hasOwnProperty(i),a=t.hasOwnProperty(i);if(l&&!a||!l&&a||!zi(e[i],t[i]))return!1}}return String(e)===String(t)}const ou=e=>!!(e&&e.__v_isRef===!0),Ce=e=>Le(e)?e:e==null?"":de(e)||Ae(e)&&(e.toString===Qa||!ge(e.toString))?ou(e)?Ce(e.value):JSON.stringify(e,su,2):String(e),su=(e,t)=>ou(t)?su(e,t.value):Yn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,s],r)=>(n[Nr(o,r)+" =>"]=s,n),{})}:Za(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Nr(n))}:wt(t)?Nr(t):Ae(t)&&!de(t)&&!eu(t)?String(t):t,Nr=(e,t="")=>{var n;return wt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let et;class ru{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=et,!t&&et&&(this.index=(et.scopes||(et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=et;try{return et=this,t()}finally{et=n}}}on(){++this._on===1&&(this.prevScope=et,et=this)}off(){this._on>0&&--this._on===0&&(et=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function or(e){return new ru(e)}function sr(){return et}function Co(e,t=!1){et&&et.cleanups.push(e)}let ze;const $r=new WeakSet;class iu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,et&&et.active&&et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$r.has(this)&&($r.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||au(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gl(this),uu(this);const t=ze,n=bt;ze=this,bt=!0;try{return this.fn()}finally{cu(this),ze=t,bt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Fi(t);this.deps=this.depsTail=void 0,gl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$r.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ni(this)&&this.run()}get dirty(){return ni(this)}}let lu=0,Eo,Io;function au(e,t=!1){if(e.flags|=8,t){e.next=Io,Io=e;return}e.next=Eo,Eo=e}function Hi(){lu++}function Vi(){if(--lu>0)return;if(Io){let t=Io;for(Io=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Eo;){let t=Eo;for(Eo=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function uu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cu(e){let t,n=e.depsTail,o=n;for(;o;){const s=o.prevDep;o.version===-1?(o===n&&(n=s),Fi(o),tf(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=s}e.deps=t,e.depsTail=n}function ni(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(du(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function du(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ro)||(e.globalVersion=Ro,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ni(e))))return;e.flags|=2;const t=e.dep,n=ze,o=bt;ze=e,bt=!0;try{uu(e);const s=e.fn(e._value);(t.version===0||qt(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{ze=n,bt=o,cu(e),e.flags&=-3}}function Fi(e,t=!1){const{dep:n,prevSub:o,nextSub:s}=e;if(o&&(o.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Fi(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function tf(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let bt=!0;const fu=[];function Jt(){fu.push(bt),bt=!1}function Qt(){const e=fu.pop();bt=e===void 0?!0:e}function gl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ze;ze=void 0;try{t()}finally{ze=n}}}let Ro=0;class nf{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class rr{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ze||!bt||ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ze)n=this.activeLink=new nf(ze,this),ze.deps?(n.prevDep=ze.depsTail,ze.depsTail.nextDep=n,ze.depsTail=n):ze.deps=ze.depsTail=n,hu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=ze.depsTail,n.nextDep=void 0,ze.depsTail.nextDep=n,ze.depsTail=n,ze.deps===n&&(ze.deps=o)}return n}trigger(t){this.version++,Ro++,this.notify(t)}notify(t){Hi();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Vi()}}}function hu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)hu(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ks=new WeakMap,Cn=Symbol(""),oi=Symbol(""),zo=Symbol("");function tt(e,t,n){if(bt&&ze){let o=ks.get(e);o||ks.set(e,o=new Map);let s=o.get(n);s||(o.set(n,s=new rr),s.map=o,s.key=n),s.track()}}function Ut(e,t,n,o,s,r){const i=ks.get(e);if(!i){Ro++;return}const l=a=>{a&&a.trigger()};if(Hi(),t==="clear")i.forEach(l);else{const a=de(e),u=a&&Qs(n);if(a&&n==="length"){const c=Number(o);i.forEach((d,p)=>{(p==="length"||p===zo||!wt(p)&&p>=c)&&l(d)})}else switch((n!==void 0||i.has(void 0))&&l(i.get(n)),u&&l(i.get(zo)),t){case"add":a?u&&l(i.get("length")):(l(i.get(Cn)),Yn(e)&&l(i.get(oi)));break;case"delete":a||(l(i.get(Cn)),Yn(e)&&l(i.get(oi)));break;case"set":Yn(e)&&l(i.get(Cn));break}}Vi()}function of(e,t){const n=ks.get(e);return n&&n.get(t)}function Pn(e){const t=Ie(e);return t===e?t:(tt(t,"iterate",zo),ht(e)?t:t.map(_t))}function ir(e){return tt(e=Ie(e),"iterate",zo),e}function cn(e,t){return en(e)?eo(Zt(e)?_t(t):t):_t(t)}const sf={__proto__:null,[Symbol.iterator](){return Mr(this,Symbol.iterator,e=>cn(this,e))},concat(...e){return Pn(this).concat(...e.map(t=>de(t)?Pn(t):t))},entries(){return Mr(this,"entries",e=>(e[1]=cn(this,e[1]),e))},every(e,t){return Ft(this,"every",e,t,void 0,arguments)},filter(e,t){return Ft(this,"filter",e,t,n=>n.map(o=>cn(this,o)),arguments)},find(e,t){return Ft(this,"find",e,t,n=>cn(this,n),arguments)},findIndex(e,t){return Ft(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ft(this,"findLast",e,t,n=>cn(this,n),arguments)},findLastIndex(e,t){return Ft(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ft(this,"forEach",e,t,void 0,arguments)},includes(...e){return kr(this,"includes",e)},indexOf(...e){return kr(this,"indexOf",e)},join(e){return Pn(this).join(e)},lastIndexOf(...e){return kr(this,"lastIndexOf",e)},map(e,t){return Ft(this,"map",e,t,void 0,arguments)},pop(){return uo(this,"pop")},push(...e){return uo(this,"push",e)},reduce(e,...t){return ml(this,"reduce",e,t)},reduceRight(e,...t){return ml(this,"reduceRight",e,t)},shift(){return uo(this,"shift")},some(e,t){return Ft(this,"some",e,t,void 0,arguments)},splice(...e){return uo(this,"splice",e)},toReversed(){return Pn(this).toReversed()},toSorted(e){return Pn(this).toSorted(e)},toSpliced(...e){return Pn(this).toSpliced(...e)},unshift(...e){return uo(this,"unshift",e)},values(){return Mr(this,"values",e=>cn(this,e))}};function Mr(e,t,n){const o=ir(e),s=o[t]();return o!==e&&!ht(e)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.done||(r.value=n(r.value)),r}),s}const rf=Array.prototype;function Ft(e,t,n,o,s,r){const i=ir(e),l=i!==e&&!ht(e),a=i[t];if(a!==rf[t]){const d=a.apply(e,r);return l?_t(d):d}let u=n;i!==e&&(l?u=function(d,p){return n.call(this,cn(e,d),p,e)}:n.length>2&&(u=function(d,p){return n.call(this,d,p,e)}));const c=a.call(i,u,o);return l&&s?s(c):c}function ml(e,t,n,o){const s=ir(e);let r=n;return s!==e&&(ht(e)?n.length>3&&(r=function(i,l,a){return n.call(this,i,l,a,e)}):r=function(i,l,a){return n.call(this,i,cn(e,l),a,e)}),s[t](r,...o)}function kr(e,t,n){const o=Ie(e);tt(o,"iterate",zo);const s=o[t](...n);return(s===-1||s===!1)&&lr(n[0])?(n[0]=Ie(n[0]),o[t](...n)):s}function uo(e,t,n=[]){Jt(),Hi();const o=Ie(e)[t].apply(e,n);return Vi(),Qt(),o}const lf=Di("__proto__,__v_isRef,__isVue"),pu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(wt));function af(e){wt(e)||(e=String(e));const t=Ie(this);return tt(t,"has",e),t.hasOwnProperty(e)}class gu{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return o===(s?r?yf:bu:r?yu:vu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const i=de(t);if(!s){let a;if(i&&(a=sf[n]))return a;if(n==="hasOwnProperty")return af}const l=Reflect.get(t,n,He(t)?t:o);if((wt(n)?pu.has(n):lf(n))||(s||tt(t,"get",n),r))return l;if(He(l)){const a=i&&Qs(n)?l:l.value;return s&&Ae(a)?Qn(a):a}return Ae(l)?s?Qn(l):Zo(l):l}}class mu extends gu{constructor(t=!1){super(!1,t)}set(t,n,o,s){let r=t[n];const i=de(t)&&Qs(n);if(!this._isShallow){const u=en(r);if(!ht(o)&&!en(o)&&(r=Ie(r),o=Ie(o)),!i&&He(r)&&!He(o))return u||(r.value=o),!0}const l=i?Number(n)<t.length:De(t,n),a=Reflect.set(t,n,o,He(t)?t:s);return t===Ie(s)&&(l?qt(o,r)&&Ut(t,"set",n,o):Ut(t,"add",n,o)),a}deleteProperty(t,n){const o=De(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&o&&Ut(t,"delete",n,void 0),s}has(t,n){const o=Reflect.has(t,n);return(!wt(n)||!pu.has(n))&&tt(t,"has",n),o}ownKeys(t){return tt(t,"iterate",de(t)?"length":Cn),Reflect.ownKeys(t)}}class uf extends gu{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const cf=new mu,df=new uf,ff=new mu(!0);const si=e=>e,ss=e=>Reflect.getPrototypeOf(e);function hf(e,t,n){return function(...o){const s=this.__v_raw,r=Ie(s),i=Yn(r),l=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,u=s[e](...o),c=n?si:t?eo:_t;return!t&&tt(r,"iterate",a?oi:Cn),Ke(Object.create(u),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:l?[c(d[0]),c(d[1])]:c(d),done:p}}})}}function rs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function pf(e,t){const n={get(s){const r=this.__v_raw,i=Ie(r),l=Ie(s);e||(qt(s,l)&&tt(i,"get",s),tt(i,"get",l));const{has:a}=ss(i),u=t?si:e?eo:_t;if(a.call(i,s))return u(r.get(s));if(a.call(i,l))return u(r.get(l));r!==i&&r.get(s)},get size(){const s=this.__v_raw;return!e&&tt(Ie(s),"iterate",Cn),s.size},has(s){const r=this.__v_raw,i=Ie(r),l=Ie(s);return e||(qt(s,l)&&tt(i,"has",s),tt(i,"has",l)),s===l?r.has(s):r.has(s)||r.has(l)},forEach(s,r){const i=this,l=i.__v_raw,a=Ie(l),u=t?si:e?eo:_t;return!e&&tt(a,"iterate",Cn),l.forEach((c,d)=>s.call(r,u(c),u(d),i))}};return Ke(n,e?{add:rs("add"),set:rs("set"),delete:rs("delete"),clear:rs("clear")}:{add(s){!t&&!ht(s)&&!en(s)&&(s=Ie(s));const r=Ie(this);return ss(r).has.call(r,s)||(r.add(s),Ut(r,"add",s,s)),this},set(s,r){!t&&!ht(r)&&!en(r)&&(r=Ie(r));const i=Ie(this),{has:l,get:a}=ss(i);let u=l.call(i,s);u||(s=Ie(s),u=l.call(i,s));const c=a.call(i,s);return i.set(s,r),u?qt(r,c)&&Ut(i,"set",s,r):Ut(i,"add",s,r),this},delete(s){const r=Ie(this),{has:i,get:l}=ss(r);let a=i.call(r,s);a||(s=Ie(s),a=i.call(r,s)),l&&l.call(r,s);const u=r.delete(s);return a&&Ut(r,"delete",s,void 0),u},clear(){const s=Ie(this),r=s.size!==0,i=s.clear();return r&&Ut(s,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=hf(s,e,t)}),n}function Bi(e,t){const n=pf(e,t);return(o,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(De(n,s)&&s in o?n:o,s,r)}const gf={get:Bi(!1,!1)},mf={get:Bi(!1,!0)},vf={get:Bi(!0,!1)};const vu=new WeakMap,yu=new WeakMap,bu=new WeakMap,yf=new WeakMap;function bf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xf(e){return e.__v_skip||!Object.isExtensible(e)?0:bf(Ud(e))}function Zo(e){return en(e)?e:Li(e,!1,cf,gf,vu)}function wf(e){return Li(e,!1,ff,mf,yu)}function Qn(e){return Li(e,!0,df,vf,bu)}function Li(e,t,n,o,s){if(!Ae(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=xf(e);if(r===0)return e;const i=s.get(e);if(i)return i;const l=new Proxy(e,r===2?o:n);return s.set(e,l),l}function Zt(e){return en(e)?Zt(e.__v_raw):!!(e&&e.__v_isReactive)}function en(e){return!!(e&&e.__v_isReadonly)}function ht(e){return!!(e&&e.__v_isShallow)}function lr(e){return e?!!e.__v_raw:!1}function Ie(e){const t=e&&e.__v_raw;return t?Ie(t):e}function hn(e){return!De(e,"__v_skip")&&Object.isExtensible(e)&&tu(e,"__v_skip",!0),e}const _t=e=>Ae(e)?Zo(e):e,eo=e=>Ae(e)?Qn(e):e;function He(e){return e?e.__v_isRef===!0:!1}function xe(e){return xu(e,!1)}function Yt(e){return xu(e,!0)}function xu(e,t){return He(e)?e:new _f(e,t)}class _f{constructor(t,n){this.dep=new rr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ie(t),this._value=n?t:_t(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||ht(t)||en(t);t=o?t:Ie(t),qt(t,n)&&(this._rawValue=t,this._value=o?t:_t(t),this.dep.trigger())}}function L(e){return He(e)?e.value:e}function ve(e){return ge(e)?e():L(e)}const Sf={get:(e,t,n)=>t==="__v_raw"?e:L(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const s=e[t];return He(s)&&!He(n)?(s.value=n,!0):Reflect.set(e,t,n,o)}};function wu(e){return Zt(e)?e:new Proxy(e,Sf)}class Cf{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new rr,{get:o,set:s}=t(n.track.bind(n),n.trigger.bind(n));this._get=o,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function _u(e){return new Cf(e)}function Su(e){const t=de(e)?new Array(e.length):{};for(const n in e)t[n]=Cu(e,n);return t}class Ef{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0,this._raw=Ie(t);let s=!0,r=t;if(!de(t)||!Qs(String(n)))do s=!lr(r)||ht(r);while(s&&(r=r.__v_raw));this._shallow=s}get value(){let t=this._object[this._key];return this._shallow&&(t=L(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&He(this._raw[this._key])){const n=this._object[this._key];if(He(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return of(this._raw,this._key)}}class If{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Oe(e,t,n){return He(e)?e:ge(e)?new If(e):Ae(e)&&arguments.length>1?Cu(e,t,n):xe(e)}function Cu(e,t,n){return new Ef(e,t,n)}class Nf{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new rr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ro-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&ze!==this)return au(this,!0),!0}get value(){const t=this.dep.track();return du(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function $f(e,t,n=!1){let o,s;return ge(e)?o=e:(o=e.get,s=e.set),new Nf(o,s,n)}const is={},Ts=new WeakMap;let wn;function Mf(e,t=!1,n=wn){if(n){let o=Ts.get(n);o||Ts.set(n,o=[]),o.push(e)}}function kf(e,t,n=Pe){const{immediate:o,deep:s,once:r,scheduler:i,augmentJob:l,call:a}=n,u=I=>s?I:ht(I)||s===!1||s===0?Kt(I,1):Kt(I);let c,d,p,m,_=!1,C=!1;if(He(e)?(d=()=>e.value,_=ht(e)):Zt(e)?(d=()=>u(e),_=!0):de(e)?(C=!0,_=e.some(I=>Zt(I)||ht(I)),d=()=>e.map(I=>{if(He(I))return I.value;if(Zt(I))return u(I);if(ge(I))return a?a(I,2):I()})):ge(e)?t?d=a?()=>a(e,2):e:d=()=>{if(p){Jt();try{p()}finally{Qt()}}const I=wn;wn=c;try{return a?a(e,3,[m]):e(m)}finally{wn=I}}:d=Rt,t&&s){const I=d,O=s===!0?1/0:s;d=()=>Kt(I(),O)}const $=sr(),A=()=>{c.stop(),$&&$.active&&Pi($.effects,c)};if(r&&t){const I=t;t=(...O)=>{I(...O),A()}}let D=C?new Array(e.length).fill(is):is;const w=I=>{if(!(!(c.flags&1)||!c.dirty&&!I))if(t){const O=c.run();if(s||_||(C?O.some((B,j)=>qt(B,D[j])):qt(O,D))){p&&p();const B=wn;wn=c;try{const j=[O,D===is?void 0:C&&D[0]===is?[]:D,m];D=O,a?a(t,3,j):t(...j)}finally{wn=B}}}else c.run()};return l&&l(w),c=new iu(d),c.scheduler=i?()=>i(w,!1):w,m=I=>Mf(I,!1,c),p=c.onStop=()=>{const I=Ts.get(c);if(I){if(a)a(I,4);else for(const O of I)O();Ts.delete(c)}},t?o?w(!0):D=c.run():i?i(w.bind(null,!0),!0):c.run(),A.pause=c.pause.bind(c),A.resume=c.resume.bind(c),A.stop=A,A}function Kt(e,t=1/0,n){if(t<=0||!Ae(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,He(e))Kt(e.value,t,n);else if(de(e))for(let o=0;o<e.length;o++)Kt(e[o],t,n);else if(Za(e)||Yn(e))e.forEach(o=>{Kt(o,t,n)});else if(eu(e)){for(const o in e)Kt(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Kt(e[o],t,n)}return e}function Jo(e,t,n,o){try{return o?e(...o):e()}catch(s){ar(s,t,n)}}function St(e,t,n,o){if(ge(e)){const s=Jo(e,t,n,o);return s&&Ja(s)&&s.catch(r=>{ar(r,t,n)}),s}if(de(e)){const s=[];for(let r=0;r<e.length;r++)s.push(St(e[r],t,n,o));return s}}function ar(e,t,n,o=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Pe;if(t){let l=t.parent;const a=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const c=l.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,a,u)===!1)return}l=l.parent}if(r){Jt(),Jo(r,null,10,[e,a,u]),Qt();return}}Tf(e,n,s,o,i)}function Tf(e,t,n,o=!0,s=!1){if(s)throw e;console.error(e)}const rt=[];let Tt=-1;const Wn=[];let dn=null,Fn=0;const Eu=Promise.resolve();let As=null;function ct(e){const t=As||Eu;return e?t.then(this?e.bind(this):e):t}function Af(e){let t=Tt+1,n=rt.length;for(;t<n;){const o=t+n>>>1,s=rt[o],r=Ho(s);r<e||r===e&&s.flags&2?t=o+1:n=o}return t}function ji(e){if(!(e.flags&1)){const t=Ho(e),n=rt[rt.length-1];!n||!(e.flags&2)&&t>=Ho(n)?rt.push(e):rt.splice(Af(t),0,e),e.flags|=1,Iu()}}function Iu(){As||(As=Eu.then($u))}function Df(e){de(e)?Wn.push(...e):dn&&e.id===-1?dn.splice(Fn+1,0,e):e.flags&1||(Wn.push(e),e.flags|=1),Iu()}function vl(e,t,n=Tt+1){for(;n<rt.length;n++){const o=rt[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;rt.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Nu(e){if(Wn.length){const t=[...new Set(Wn)].sort((n,o)=>Ho(n)-Ho(o));if(Wn.length=0,dn){dn.push(...t);return}for(dn=t,Fn=0;Fn<dn.length;Fn++){const n=dn[Fn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}dn=null,Fn=0}}const Ho=e=>e.id==null?e.flags&2?-1:1/0:e.id;function $u(e){try{for(Tt=0;Tt<rt.length;Tt++){const t=rt[Tt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Jo(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Tt<rt.length;Tt++){const t=rt[Tt];t&&(t.flags&=-2)}Tt=-1,rt.length=0,Nu(),As=null,(rt.length||Wn.length)&&$u()}}let Xe=null,Mu=null;function Ds(e){const t=Xe;return Xe=e,Mu=e&&e.type.__scopeId||null,t}function ft(e,t=Xe,n){if(!t||e._n)return e;const o=(...s)=>{o._d&&zs(-1);const r=Ds(t);let i;try{i=e(...s)}finally{Ds(r),o._d&&zs(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function Os(e,t){if(Xe===null)return e;const n=hr(Xe),o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,i,l,a=Pe]=t[s];r&&(ge(r)&&(r={mounted:r,updated:r}),r.deep&&Kt(i),o.push({dir:r,instance:n,value:i,oldValue:void 0,arg:l,modifiers:a}))}return e}function yn(e,t,n,o){const s=e.dirs,r=t&&t.dirs;for(let i=0;i<s.length;i++){const l=s[i];r&&(l.oldValue=r[i].value);let a=l.dir[o];a&&(Jt(),St(a,n,8,[e.el,l,e,t]),Qt())}}function Mn(e,t){if(nt){let n=nt.provides;const o=nt.parent&&nt.parent.provides;o===n&&(n=nt.provides=Object.create(o)),n[e]=t}}function xt(e,t,n=!1){const o=Ct();if(o||En){let s=En?En._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ge(t)?t.call(o&&o.proxy):t}}function Of(){return!!(Ct()||En)}const Pf=Symbol.for("v-scx"),Rf=()=>xt(Pf);function ye(e,t,n){return ku(e,t,n)}function ku(e,t,n=Pe){const{immediate:o,deep:s,flush:r,once:i}=n,l=Ke({},n),a=t&&o||!t&&r!=="post";let u;if(Bo){if(r==="sync"){const m=Rf();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!a){const m=()=>{};return m.stop=Rt,m.resume=Rt,m.pause=Rt,m}}const c=nt;l.call=(m,_,C)=>St(m,c,_,C);let d=!1;r==="post"?l.scheduler=m=>{Qe(m,c&&c.suspense)}:r!=="sync"&&(d=!0,l.scheduler=(m,_)=>{_?m():ji(m)}),l.augmentJob=m=>{t&&(m.flags|=4),d&&(m.flags|=2,c&&(m.id=c.uid,m.i=c))};const p=kf(e,t,l);return Bo&&(u?u.push(p):a&&p()),p}function zf(e,t,n){const o=this.proxy,s=Le(e)?e.includes(".")?Tu(o,e):()=>o[e]:e.bind(o,o);let r;ge(t)?r=t:(r=t.handler,n=t);const i=Qo(this),l=ku(s,r.bind(o),n);return i(),l}function Tu(e,t){const n=t.split(".");return()=>{let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}const Au=Symbol("_vte"),Hf=e=>e.__isTeleport,No=e=>e&&(e.disabled||e.disabled===""),yl=e=>e&&(e.defer||e.defer===""),bl=e=>typeof SVGElement<"u"&&e instanceof SVGElement,xl=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,ri=(e,t)=>{const n=e&&e.to;return Le(n)?t?t(n):null:n},Du={name:"Teleport",__isTeleport:!0,process(e,t,n,o,s,r,i,l,a,u){const{mc:c,pc:d,pbc:p,o:{insert:m,querySelector:_,createText:C,createComment:$}}=u,A=No(t.props);let{shapeFlag:D,children:w,dynamicChildren:I}=t;if(e==null){const O=t.el=C(""),B=t.anchor=C("");m(O,n,o),m(B,n,o);const j=(h,G)=>{D&16&&c(w,h,G,s,r,i,l,a)},f=()=>{const h=t.target=ri(t.props,_),G=ii(h,t,C,m);h&&(i!=="svg"&&bl(h)?i="svg":i!=="mathml"&&xl(h)&&(i="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(h),A||(j(h,G),_s(t,!1)))};A&&(j(n,B),_s(t,!0)),yl(t.props)?(t.el.__isMounted=!1,Qe(()=>{f(),delete t.el.__isMounted},r)):f()}else{if(yl(t.props)&&e.el.__isMounted===!1){Qe(()=>{Du.process(e,t,n,o,s,r,i,l,a,u)},r);return}t.el=e.el,t.targetStart=e.targetStart;const O=t.anchor=e.anchor,B=t.target=e.target,j=t.targetAnchor=e.targetAnchor,f=No(e.props),h=f?n:B,G=f?O:j;if(i==="svg"||bl(B)?i="svg":(i==="mathml"||xl(B))&&(i="mathml"),I?(p(e.dynamicChildren,I,h,s,r,i,l),Yi(e,t,!0)):a||d(e,t,h,G,s,r,i,l,!1),A)f?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ls(t,n,O,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const K=t.target=ri(t.props,_);K&&ls(t,K,null,u,0)}else f&&ls(t,B,j,u,1);_s(t,A)}},remove(e,t,n,{um:o,o:{remove:s}},r){const{shapeFlag:i,children:l,anchor:a,targetStart:u,targetAnchor:c,target:d,props:p}=e;if(d&&(s(u),s(c)),r&&s(a),i&16){const m=r||!No(p);for(let _=0;_<l.length;_++){const C=l[_];o(C,t,n,m,!!C.dynamicChildren)}}},move:ls,hydrate:Vf};function ls(e,t,n,{o:{insert:o},m:s},r=2){r===0&&o(e.targetAnchor,t,n);const{el:i,anchor:l,shapeFlag:a,children:u,props:c}=e,d=r===2;if(d&&o(i,t,n),(!d||No(c))&&a&16)for(let p=0;p<u.length;p++)s(u[p],t,n,2);d&&o(l,t,n)}function Vf(e,t,n,o,s,r,{o:{nextSibling:i,parentNode:l,querySelector:a,insert:u,createText:c}},d){function p($,A){let D=A;for(;D;){if(D&&D.nodeType===8){if(D.data==="teleport start anchor")t.targetStart=D;else if(D.data==="teleport anchor"){t.targetAnchor=D,$._lpa=t.targetAnchor&&i(t.targetAnchor);break}}D=i(D)}}function m($,A){A.anchor=d(i($),A,l($),n,o,s,r)}const _=t.target=ri(t.props,a),C=No(t.props);if(_){const $=_._lpa||_.firstChild;t.shapeFlag&16&&(C?(m(e,t),p(_,$),t.targetAnchor||ii(_,t,c,u,l(e)===_?e:null)):(t.anchor=i(e),p(_,$),t.targetAnchor||ii(_,t,c,u),d($&&i($),t,_,n,o,s,r))),_s(t,C)}else C&&t.shapeFlag&16&&(m(e,t),t.targetStart=e,t.targetAnchor=i(e));return t.anchor&&i(t.anchor)}const Ff=Du;function _s(e,t){const n=e.ctx;if(n&&n.ut){let o,s;for(t?(o=e.el,s=e.anchor):(o=e.targetStart,s=e.targetAnchor);o&&o!==s;)o.nodeType===1&&o.setAttribute("data-v-owner",n.uid),o=o.nextSibling;n.ut()}}function ii(e,t,n,o,s=null){const r=t.targetStart=n(""),i=t.targetAnchor=n("");return r[Au]=i,e&&(o(r,e,s),o(i,e,s)),i}const rn=Symbol("_leaveCb"),co=Symbol("_enterCb");function Bf(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return lt(()=>{e.isMounted=!0}),cr(()=>{e.isUnmounting=!0}),e}const gt=[Function,Array],Lf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gt,onEnter:gt,onAfterEnter:gt,onEnterCancelled:gt,onBeforeLeave:gt,onLeave:gt,onAfterLeave:gt,onLeaveCancelled:gt,onBeforeAppear:gt,onAppear:gt,onAfterAppear:gt,onAppearCancelled:gt};function jf(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function li(e,t,n,o,s){const{appear:r,mode:i,persisted:l=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:p,onLeave:m,onAfterLeave:_,onLeaveCancelled:C,onBeforeAppear:$,onAppear:A,onAfterAppear:D,onAppearCancelled:w}=t,I=String(e.key),O=jf(n,e),B=(h,G)=>{h&&St(h,o,9,G)},j=(h,G)=>{const K=G[1];B(h,G),de(h)?h.every(N=>N.length<=1)&&K():h.length<=1&&K()},f={mode:i,persisted:l,beforeEnter(h){let G=a;if(!n.isMounted)if(r)G=$||a;else return;h[rn]&&h[rn](!0);const K=O[I];K&&Ln(e,K)&&K.el[rn]&&K.el[rn](),B(G,[h])},enter(h){let G=u,K=c,N=d;if(!n.isMounted)if(r)G=A||u,K=D||c,N=w||d;else return;let q=!1;h[co]=P=>{q||(q=!0,P?B(N,[h]):B(K,[h]),f.delayedLeave&&f.delayedLeave(),h[co]=void 0)};const y=h[co].bind(null,!1);G?j(G,[h,y]):y()},leave(h,G){const K=String(e.key);if(h[co]&&h[co](!0),n.isUnmounting)return G();B(p,[h]);let N=!1;h[rn]=y=>{N||(N=!0,G(),y?B(C,[h]):B(_,[h]),h[rn]=void 0,O[K]===e&&delete O[K])};const q=h[rn].bind(null,!1);O[K]=e,m?j(m,[h,q]):q()},clone(h){return li(h,t,n,o)}};return f}function Vo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Vo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ou(e,t=!1,n){let o=[],s=0;for(let r=0;r<e.length;r++){let i=e[r];const l=n==null?i.key:String(n)+String(i.key!=null?i.key:r);i.type===ce?(i.patchFlag&128&&s++,o=o.concat(Ou(i.children,t,l))):(t||i.type!==Ht)&&o.push(l!=null?kn(i,{key:l}):i)}if(s>1)for(let r=0;r<o.length;r++)o[r].patchFlag=-2;return o}function Fe(e,t){return ge(e)?Ke({name:e.name},t,{setup:e}):e}function Pu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function wl(e,t){let n;return!!((n=Object.getOwnPropertyDescriptor(e,t))&&!n.configurable)}const Ps=new WeakMap;function $o(e,t,n,o,s=!1){if(de(e)){e.forEach((C,$)=>$o(C,t&&(de(t)?t[$]:t),n,o,s));return}if(Xn(o)&&!s){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&$o(e,t,n,o.component.subTree);return}const r=o.shapeFlag&4?hr(o.component):o.el,i=s?null:r,{i:l,r:a}=e,u=t&&t.r,c=l.refs===Pe?l.refs={}:l.refs,d=l.setupState,p=Ie(d),m=d===Pe?qa:C=>wl(c,C)?!1:De(p,C),_=(C,$)=>!($&&wl(c,$));if(u!=null&&u!==a){if(_l(t),Le(u))c[u]=null,m(u)&&(d[u]=null);else if(He(u)){const C=t;_(u,C.k)&&(u.value=null),C.k&&(c[C.k]=null)}}if(ge(a))Jo(a,l,12,[i,c]);else{const C=Le(a),$=He(a);if(C||$){const A=()=>{if(e.f){const D=C?m(a)?d[a]:c[a]:_()||!e.k?a.value:c[e.k];if(s)de(D)&&Pi(D,r);else if(de(D))D.includes(r)||D.push(r);else if(C)c[a]=[r],m(a)&&(d[a]=c[a]);else{const w=[r];_(a,e.k)&&(a.value=w),e.k&&(c[e.k]=w)}}else C?(c[a]=i,m(a)&&(d[a]=i)):$&&(_(a,e.k)&&(a.value=i),e.k&&(c[e.k]=i))};if(i){const D=()=>{A(),Ps.delete(e)};D.id=-1,Ps.set(e,D),Qe(D,n)}else _l(e),A()}}}function _l(e){const t=Ps.get(e);t&&(t.flags|=8,Ps.delete(e))}nr().requestIdleCallback;nr().cancelIdleCallback;const Xn=e=>!!e.type.__asyncLoader,Ru=e=>e.type.__isKeepAlive;function Uf(e,t){zu(e,"a",t)}function Kf(e,t){zu(e,"da",t)}function zu(e,t,n=nt){const o=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(ur(t,o,n),n){let s=n.parent;for(;s&&s.parent;)Ru(s.parent.vnode)&&Gf(o,t,n,s),s=s.parent}}function Gf(e,t,n,o){const s=ur(t,e,o,!0);vn(()=>{Pi(o[t],s)},n)}function ur(e,t,n=nt,o=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{Jt();const l=Qo(n),a=St(t,n,e,i);return l(),Qt(),a});return o?s.unshift(r):s.push(r),r}}const nn=e=>(t,n=nt)=>{(!Bo||e==="sp")&&ur(e,(...o)=>t(...o),n)},Hu=nn("bm"),lt=nn("m"),Yf=nn("bu"),Vu=nn("u"),cr=nn("bum"),vn=nn("um"),Wf=nn("sp"),Xf=nn("rtg"),qf=nn("rtc");function Zf(e,t=nt){ur("ec",e,t)}const Fu="components";function Ui(e,t){return Lu(Fu,e,!0,t)||e}const Bu=Symbol.for("v-ndc");function Bn(e){return Le(e)?Lu(Fu,e,!1)||e:e||Bu}function Lu(e,t,n=!0,o=!1){const s=Xe||nt;if(s){const r=s.type;{const l=Rh(r,!1);if(l&&(l===t||l===mt(t)||l===tr(mt(t))))return r}const i=Sl(s[e]||r[e],t)||Sl(s.appContext[e],t);return!i&&o?r:i}}function Sl(e,t){return e&&(e[t]||e[mt(t)]||e[tr(mt(t))])}function Te(e,t,n,o){let s;const r=n&&n[o],i=de(e);if(i||Le(e)){const l=i&&Zt(e);let a=!1,u=!1;l&&(a=!ht(e),u=en(e),e=ir(e)),s=new Array(e.length);for(let c=0,d=e.length;c<d;c++)s[c]=t(a?u?eo(_t(e[c])):_t(e[c]):e[c],c,void 0,r&&r[c])}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,r&&r[l])}else if(Ae(e))if(e[Symbol.iterator])s=Array.from(e,(l,a)=>t(l,a,void 0,r&&r[a]));else{const l=Object.keys(e);s=new Array(l.length);for(let a=0,u=l.length;a<u;a++){const c=l[a];s[a]=t(e[c],c,a,r&&r[a])}}else s=[];return n&&(n[o]=s),s}function Be(e,t,n={},o,s){if(Xe.ce||Xe.parent&&Xn(Xe.parent)&&Xe.parent.ce){const u=Object.keys(n).length>0;return t!=="default"&&(n.name=t),F(),Ve(ce,null,[se("slot",n,o&&o())],u?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),F();const i=r&&ju(r(n)),l=n.key||i&&i.key,a=Ve(ce,{key:(l&&!wt(l)?l:`_${t}`)+(!i&&o?"_fb":"")},i||(o?o():[]),i&&e._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function ju(e){return e.some(t=>Fo(t)?!(t.type===Ht||t.type===ce&&!ju(t.children)):!0)?e:null}const ai=e=>e?uc(e)?hr(e):ai(e.parent):null,Mo=Ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ai(e.parent),$root:e=>ai(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Gu(e),$forceUpdate:e=>e.f||(e.f=()=>{ji(e.update)}),$nextTick:e=>e.n||(e.n=ct.bind(e.proxy)),$watch:e=>zf.bind(e)}),Tr=(e,t)=>e!==Pe&&!e.__isScriptSetup&&De(e,t),Jf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:s,props:r,accessCache:i,type:l,appContext:a}=e;if(t[0]!=="$"){const p=i[t];if(p!==void 0)switch(p){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(Tr(o,t))return i[t]=1,o[t];if(s!==Pe&&De(s,t))return i[t]=2,s[t];if(De(r,t))return i[t]=3,r[t];if(n!==Pe&&De(n,t))return i[t]=4,n[t];ui&&(i[t]=0)}}const u=Mo[t];let c,d;if(u)return t==="$attrs"&&tt(e.attrs,"get",""),u(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(n!==Pe&&De(n,t))return i[t]=4,n[t];if(d=a.config.globalProperties,De(d,t))return d[t]},set({_:e},t,n){const{data:o,setupState:s,ctx:r}=e;return Tr(s,t)?(s[t]=n,!0):o!==Pe&&De(o,t)?(o[t]=n,!0):De(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:s,props:r,type:i}},l){let a;return!!(n[l]||e!==Pe&&l[0]!=="$"&&De(e,l)||Tr(t,l)||De(r,l)||De(o,l)||De(Mo,l)||De(s.config.globalProperties,l)||(a=i.__cssModules)&&a[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:De(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Qf(){return Uu().slots}function eh(){return Uu().attrs}function Uu(e){const t=Ct();return t.setupContext||(t.setupContext=dc(t))}function Cl(e){return de(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function th(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}let ui=!0;function nh(e){const t=Gu(e),n=e.proxy,o=e.ctx;ui=!1,t.beforeCreate&&El(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:i,watch:l,provide:a,inject:u,created:c,beforeMount:d,mounted:p,beforeUpdate:m,updated:_,activated:C,deactivated:$,beforeDestroy:A,beforeUnmount:D,destroyed:w,unmounted:I,render:O,renderTracked:B,renderTriggered:j,errorCaptured:f,serverPrefetch:h,expose:G,inheritAttrs:K,components:N,directives:q,filters:y}=t;if(u&&oh(u,o,null),i)for(const R in i){const U=i[R];ge(U)&&(o[R]=U.bind(n))}if(s){const R=s.call(n,n);Ae(R)&&(e.data=Zo(R))}if(ui=!0,r)for(const R in r){const U=r[R],J=ge(U)?U.bind(n,n):ge(U.get)?U.get.bind(n,n):Rt,Q=!ge(U)&&ge(U.set)?U.set.bind(n):Rt,ne=ue({get:J,set:Q});Object.defineProperty(o,R,{enumerable:!0,configurable:!0,get:()=>ne.value,set:ie=>ne.value=ie})}if(l)for(const R in l)Ku(l[R],o,n,R);if(a){const R=ge(a)?a.call(n):a;Reflect.ownKeys(R).forEach(U=>{Mn(U,R[U])})}c&&El(c,e,"c");function T(R,U){de(U)?U.forEach(J=>R(J.bind(n))):U&&R(U.bind(n))}if(T(Hu,d),T(lt,p),T(Yf,m),T(Vu,_),T(Uf,C),T(Kf,$),T(Zf,f),T(qf,B),T(Xf,j),T(cr,D),T(vn,I),T(Wf,h),de(G))if(G.length){const R=e.exposed||(e.exposed={});G.forEach(U=>{Object.defineProperty(R,U,{get:()=>n[U],set:J=>n[U]=J,enumerable:!0})})}else e.exposed||(e.exposed={});O&&e.render===Rt&&(e.render=O),K!=null&&(e.inheritAttrs=K),N&&(e.components=N),q&&(e.directives=q),h&&Pu(e)}function oh(e,t,n=Rt){de(e)&&(e=ci(e));for(const o in e){const s=e[o];let r;Ae(s)?"default"in s?r=xt(s.from||o,s.default,!0):r=xt(s.from||o):r=xt(s),He(r)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[o]=r}}function El(e,t,n){St(de(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ku(e,t,n,o){let s=o.includes(".")?Tu(n,o):()=>n[o];if(Le(e)){const r=t[e];ge(r)&&ye(s,r)}else if(ge(e))ye(s,e.bind(n));else if(Ae(e))if(de(e))e.forEach(r=>Ku(r,t,n,o));else{const r=ge(e.handler)?e.handler.bind(n):t[e.handler];ge(r)&&ye(s,r,e)}}function Gu(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let a;return l?a=l:!s.length&&!n&&!o?a=t:(a={},s.length&&s.forEach(u=>Rs(a,u,i,!0)),Rs(a,t,i)),Ae(t)&&r.set(t,a),a}function Rs(e,t,n,o=!1){const{mixins:s,extends:r}=t;r&&Rs(e,r,n,!0),s&&s.forEach(i=>Rs(e,i,n,!0));for(const i in t)if(!(o&&i==="expose")){const l=sh[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const sh={data:Il,props:Nl,emits:Nl,methods:yo,computed:yo,beforeCreate:ot,created:ot,beforeMount:ot,mounted:ot,beforeUpdate:ot,updated:ot,beforeDestroy:ot,beforeUnmount:ot,destroyed:ot,unmounted:ot,activated:ot,deactivated:ot,errorCaptured:ot,serverPrefetch:ot,components:yo,directives:yo,watch:ih,provide:Il,inject:rh};function Il(e,t){return t?e?function(){return Ke(ge(e)?e.call(this,this):e,ge(t)?t.call(this,this):t)}:t:e}function rh(e,t){return yo(ci(e),ci(t))}function ci(e){if(de(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ot(e,t){return e?[...new Set([].concat(e,t))]:t}function yo(e,t){return e?Ke(Object.create(null),e,t):t}function Nl(e,t){return e?de(e)&&de(t)?[...new Set([...e,...t])]:Ke(Object.create(null),Cl(e),Cl(t??{})):t}function ih(e,t){if(!e)return t;if(!t)return e;const n=Ke(Object.create(null),e);for(const o in t)n[o]=ot(e[o],t[o]);return n}function Yu(){return{app:null,config:{isNativeTag:qa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lh=0;function ah(e,t){return function(o,s=null){ge(o)||(o=Ke({},o)),s!=null&&!Ae(s)&&(s=null);const r=Yu(),i=new WeakSet,l=[];let a=!1;const u=r.app={_uid:lh++,_component:o,_props:s,_container:null,_context:r,_instance:null,version:Vh,get config(){return r.config},set config(c){},use(c,...d){return i.has(c)||(c&&ge(c.install)?(i.add(c),c.install(u,...d)):ge(c)&&(i.add(c),c(u,...d))),u},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),u},component(c,d){return d?(r.components[c]=d,u):r.components[c]},directive(c,d){return d?(r.directives[c]=d,u):r.directives[c]},mount(c,d,p){if(!a){const m=u._ceVNode||se(o,s);return m.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),e(m,c,p),a=!0,u._container=c,c.__vue_app__=u,hr(m.component)}},onUnmount(c){l.push(c)},unmount(){a&&(St(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return r.provides[c]=d,u},runWithContext(c){const d=En;En=u;try{return c()}finally{En=d}}};return u}}let En=null;const uh=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${mt(t)}Modifiers`]||e[`${mn(t)}Modifiers`];function ch(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||Pe;let s=n;const r=t.startsWith("update:"),i=r&&uh(o,t.slice(7));i&&(i.trim&&(s=n.map(c=>Le(c)?c.trim():c)),i.number&&(s=n.map(Ri)));let l,a=o[l=Ir(t)]||o[l=Ir(mt(t))];!a&&r&&(a=o[l=Ir(mn(t))]),a&&St(a,e,6,s);const u=o[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,St(u,e,6,s)}}const dh=new WeakMap;function Wu(e,t,n=!1){const o=n?dh:t.emitsCache,s=o.get(e);if(s!==void 0)return s;const r=e.emits;let i={},l=!1;if(!ge(e)){const a=u=>{const c=Wu(u,t,!0);c&&(l=!0,Ke(i,c))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!l?(Ae(e)&&o.set(e,null),null):(de(r)?r.forEach(a=>i[a]=null):Ke(i,r),Ae(e)&&o.set(e,i),i)}function dr(e,t){return!e||!Js(t)?!1:(t=t.slice(2).replace(/Once$/,""),De(e,t[0].toLowerCase()+t.slice(1))||De(e,mn(t))||De(e,t))}function $l(e){const{type:t,vnode:n,proxy:o,withProxy:s,propsOptions:[r],slots:i,attrs:l,emit:a,render:u,renderCache:c,props:d,data:p,setupState:m,ctx:_,inheritAttrs:C}=e,$=Ds(e);let A,D;try{if(n.shapeFlag&4){const I=s||o,O=I;A=Dt(u.call(O,I,c,d,m,p,_)),D=l}else{const I=t;A=Dt(I.length>1?I(d,{attrs:l,slots:i,emit:a}):I(d,null)),D=t.props?l:fh(l)}}catch(I){ko.length=0,ar(I,e,1),A=se(Ht)}let w=A;if(D&&C!==!1){const I=Object.keys(D),{shapeFlag:O}=w;I.length&&O&7&&(r&&I.some(Oi)&&(D=hh(D,r)),w=kn(w,D,!1,!0))}return n.dirs&&(w=kn(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&Vo(w,n.transition),A=w,Ds($),A}const fh=e=>{let t;for(const n in e)(n==="class"||n==="style"||Js(n))&&((t||(t={}))[n]=e[n]);return t},hh=(e,t)=>{const n={};for(const o in e)(!Oi(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function ph(e,t,n){const{props:o,children:s,component:r}=e,{props:i,children:l,patchFlag:a}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return o?Ml(o,i,u):!!i;if(a&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const p=c[d];if(Xu(i,o,p)&&!dr(u,p))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:o===i?!1:o?i?Ml(o,i,u):!0:!!i;return!1}function Ml(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let s=0;s<o.length;s++){const r=o[s];if(Xu(t,e,r)&&!dr(n,r))return!0}return!1}function Xu(e,t,n){const o=e[n],s=t[n];return n==="style"&&Ae(o)&&Ae(s)?!zi(o,s):o!==s}function gh({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const qu={},Zu=()=>Object.create(qu),Ju=e=>Object.getPrototypeOf(e)===qu;function mh(e,t,n,o=!1){const s={},r=Zu();e.propsDefaults=Object.create(null),Qu(e,t,s,r);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);n?e.props=o?s:wf(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function vh(e,t,n,o){const{props:s,attrs:r,vnode:{patchFlag:i}}=e,l=Ie(s),[a]=e.propsOptions;let u=!1;if((o||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let p=c[d];if(dr(e.emitsOptions,p))continue;const m=t[p];if(a)if(De(r,p))m!==r[p]&&(r[p]=m,u=!0);else{const _=mt(p);s[_]=di(a,l,_,m,e,!1)}else m!==r[p]&&(r[p]=m,u=!0)}}}else{Qu(e,t,s,r)&&(u=!0);let c;for(const d in l)(!t||!De(t,d)&&((c=mn(d))===d||!De(t,c)))&&(a?n&&(n[d]!==void 0||n[c]!==void 0)&&(s[d]=di(a,l,d,void 0,e,!0)):delete s[d]);if(r!==l)for(const d in r)(!t||!De(t,d))&&(delete r[d],u=!0)}u&&Ut(e.attrs,"set","")}function Qu(e,t,n,o){const[s,r]=e.propsOptions;let i=!1,l;if(t)for(let a in t){if(So(a))continue;const u=t[a];let c;s&&De(s,c=mt(a))?!r||!r.includes(c)?n[c]=u:(l||(l={}))[c]=u:dr(e.emitsOptions,a)||(!(a in o)||u!==o[a])&&(o[a]=u,i=!0)}if(r){const a=Ie(n),u=l||Pe;for(let c=0;c<r.length;c++){const d=r[c];n[d]=di(s,a,d,u[d],e,!De(u,d))}}return i}function di(e,t,n,o,s,r){const i=e[n];if(i!=null){const l=De(i,"default");if(l&&o===void 0){const a=i.default;if(i.type!==Function&&!i.skipFactory&&ge(a)){const{propsDefaults:u}=s;if(n in u)o=u[n];else{const c=Qo(s);o=u[n]=a.call(null,t),c()}}else o=a;s.ce&&s.ce._setProp(n,o)}i[0]&&(r&&!l?o=!1:i[1]&&(o===""||o===mn(n))&&(o=!0))}return o}const yh=new WeakMap;function ec(e,t,n=!1){const o=n?yh:t.propsCache,s=o.get(e);if(s)return s;const r=e.props,i={},l=[];let a=!1;if(!ge(e)){const c=d=>{a=!0;const[p,m]=ec(d,t,!0);Ke(i,p),m&&l.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!r&&!a)return Ae(e)&&o.set(e,Gn),Gn;if(de(r))for(let c=0;c<r.length;c++){const d=mt(r[c]);kl(d)&&(i[d]=Pe)}else if(r)for(const c in r){const d=mt(c);if(kl(d)){const p=r[c],m=i[d]=de(p)||ge(p)?{type:p}:Ke({},p),_=m.type;let C=!1,$=!0;if(de(_))for(let A=0;A<_.length;++A){const D=_[A],w=ge(D)&&D.name;if(w==="Boolean"){C=!0;break}else w==="String"&&($=!1)}else C=ge(_)&&_.name==="Boolean";m[0]=C,m[1]=$,(C||De(m,"default"))&&l.push(d)}}const u=[i,l];return Ae(e)&&o.set(e,u),u}function kl(e){return e[0]!=="$"&&!So(e)}const Ki=e=>e==="_"||e==="_ctx"||e==="$stable",Gi=e=>de(e)?e.map(Dt):[Dt(e)],bh=(e,t,n)=>{if(t._n)return t;const o=ft((...s)=>Gi(t(...s)),n);return o._c=!1,o},tc=(e,t,n)=>{const o=e._ctx;for(const s in e){if(Ki(s))continue;const r=e[s];if(ge(r))t[s]=bh(s,r,o);else if(r!=null){const i=Gi(r);t[s]=()=>i}}},nc=(e,t)=>{const n=Gi(t);e.slots.default=()=>n},oc=(e,t,n)=>{for(const o in t)(n||!Ki(o))&&(e[o]=t[o])},xh=(e,t,n)=>{const o=e.slots=Zu();if(e.vnode.shapeFlag&32){const s=t._;s?(oc(o,t,n),n&&tu(o,"_",s,!0)):tc(t,o)}else t&&nc(e,t)},wh=(e,t,n)=>{const{vnode:o,slots:s}=e;let r=!0,i=Pe;if(o.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:oc(s,t,n):(r=!t.$stable,tc(t,s)),i=t}else t&&(nc(e,t),i={default:1});if(r)for(const l in s)!Ki(l)&&i[l]==null&&delete s[l]},Qe=Ih;function _h(e){return Sh(e)}function Sh(e,t){const n=nr();n.__VUE__=!0;const{insert:o,remove:s,patchProp:r,createElement:i,createText:l,createComment:a,setText:u,setElementText:c,parentNode:d,nextSibling:p,setScopeId:m=Rt,insertStaticContent:_}=e,C=(S,k,g,v=null,x=null,E=null,M=void 0,V=null,H=!!k.dynamicChildren)=>{if(S===k)return;S&&!Ln(S,k)&&(v=ae(S),ie(S,x,E,!0),S=null),k.patchFlag===-2&&(H=!1,k.dynamicChildren=null);const{type:z,ref:W,shapeFlag:Y}=k;switch(z){case fr:$(S,k,g,v);break;case Ht:A(S,k,g,v);break;case Dr:S==null&&D(k,g,v,M);break;case ce:N(S,k,g,v,x,E,M,V,H);break;default:Y&1?O(S,k,g,v,x,E,M,V,H):Y&6?q(S,k,g,v,x,E,M,V,H):(Y&64||Y&128)&&z.process(S,k,g,v,x,E,M,V,H,pe)}W!=null&&x?$o(W,S&&S.ref,E,k||S,!k):W==null&&S&&S.ref!=null&&$o(S.ref,null,E,S,!0)},$=(S,k,g,v)=>{if(S==null)o(k.el=l(k.children),g,v);else{const x=k.el=S.el;k.children!==S.children&&u(x,k.children)}},A=(S,k,g,v)=>{S==null?o(k.el=a(k.children||""),g,v):k.el=S.el},D=(S,k,g,v)=>{[S.el,S.anchor]=_(S.children,k,g,v,S.el,S.anchor)},w=({el:S,anchor:k},g,v)=>{let x;for(;S&&S!==k;)x=p(S),o(S,g,v),S=x;o(k,g,v)},I=({el:S,anchor:k})=>{let g;for(;S&&S!==k;)g=p(S),s(S),S=g;s(k)},O=(S,k,g,v,x,E,M,V,H)=>{if(k.type==="svg"?M="svg":k.type==="math"&&(M="mathml"),S==null)B(k,g,v,x,E,M,V,H);else{const z=S.el&&S.el._isVueCE?S.el:null;try{z&&z._beginPatch(),h(S,k,x,E,M,V,H)}finally{z&&z._endPatch()}}},B=(S,k,g,v,x,E,M,V)=>{let H,z;const{props:W,shapeFlag:Y,transition:Z,dirs:ee}=S;if(H=S.el=i(S.type,E,W&&W.is,W),Y&8?c(H,S.children):Y&16&&f(S.children,H,null,v,x,Ar(S,E),M,V),ee&&yn(S,null,v,"created"),j(H,S,S.scopeId,M,v),W){for(const _e in W)_e!=="value"&&!So(_e)&&r(H,_e,null,W[_e],E,v);"value"in W&&r(H,"value",null,W.value,E),(z=W.onVnodeBeforeMount)&&Mt(z,v,S)}ee&&yn(S,null,v,"beforeMount");const me=Ch(x,Z);me&&Z.beforeEnter(H),o(H,k,g),((z=W&&W.onVnodeMounted)||me||ee)&&Qe(()=>{z&&Mt(z,v,S),me&&Z.enter(H),ee&&yn(S,null,v,"mounted")},x)},j=(S,k,g,v,x)=>{if(g&&m(S,g),v)for(let E=0;E<v.length;E++)m(S,v[E]);if(x){let E=x.subTree;if(k===E||ic(E.type)&&(E.ssContent===k||E.ssFallback===k)){const M=x.vnode;j(S,M,M.scopeId,M.slotScopeIds,x.parent)}}},f=(S,k,g,v,x,E,M,V,H=0)=>{for(let z=H;z<S.length;z++){const W=S[z]=V?jt(S[z]):Dt(S[z]);C(null,W,k,g,v,x,E,M,V)}},h=(S,k,g,v,x,E,M)=>{const V=k.el=S.el;let{patchFlag:H,dynamicChildren:z,dirs:W}=k;H|=S.patchFlag&16;const Y=S.props||Pe,Z=k.props||Pe;let ee;if(g&&bn(g,!1),(ee=Z.onVnodeBeforeUpdate)&&Mt(ee,g,k,S),W&&yn(k,S,g,"beforeUpdate"),g&&bn(g,!0),(Y.innerHTML&&Z.innerHTML==null||Y.textContent&&Z.textContent==null)&&c(V,""),z?G(S.dynamicChildren,z,V,g,v,Ar(k,x),E):M||U(S,k,V,null,g,v,Ar(k,x),E,!1),H>0){if(H&16)K(V,Y,Z,g,x);else if(H&2&&Y.class!==Z.class&&r(V,"class",null,Z.class,x),H&4&&r(V,"style",Y.style,Z.style,x),H&8){const me=k.dynamicProps;for(let _e=0;_e<me.length;_e++){const ke=me[_e],Ze=Y[ke],Je=Z[ke];(Je!==Ze||ke==="value")&&r(V,ke,Ze,Je,x,g)}}H&1&&S.children!==k.children&&c(V,k.children)}else!M&&z==null&&K(V,Y,Z,g,x);((ee=Z.onVnodeUpdated)||W)&&Qe(()=>{ee&&Mt(ee,g,k,S),W&&yn(k,S,g,"updated")},v)},G=(S,k,g,v,x,E,M)=>{for(let V=0;V<k.length;V++){const H=S[V],z=k[V],W=H.el&&(H.type===ce||!Ln(H,z)||H.shapeFlag&198)?d(H.el):g;C(H,z,W,null,v,x,E,M,!0)}},K=(S,k,g,v,x)=>{if(k!==g){if(k!==Pe)for(const E in k)!So(E)&&!(E in g)&&r(S,E,k[E],null,x,v);for(const E in g){if(So(E))continue;const M=g[E],V=k[E];M!==V&&E!=="value"&&r(S,E,V,M,x,v)}"value"in g&&r(S,"value",k.value,g.value,x)}},N=(S,k,g,v,x,E,M,V,H)=>{const z=k.el=S?S.el:l(""),W=k.anchor=S?S.anchor:l("");let{patchFlag:Y,dynamicChildren:Z,slotScopeIds:ee}=k;ee&&(V=V?V.concat(ee):ee),S==null?(o(z,g,v),o(W,g,v),f(k.children||[],g,W,x,E,M,V,H)):Y>0&&Y&64&&Z&&S.dynamicChildren&&S.dynamicChildren.length===Z.length?(G(S.dynamicChildren,Z,g,x,E,M,V),(k.key!=null||x&&k===x.subTree)&&Yi(S,k,!0)):U(S,k,g,W,x,E,M,V,H)},q=(S,k,g,v,x,E,M,V,H)=>{k.slotScopeIds=V,S==null?k.shapeFlag&512?x.ctx.activate(k,g,v,M,H):y(k,g,v,x,E,M,H):P(S,k,H)},y=(S,k,g,v,x,E,M)=>{const V=S.component=Ah(S,v,x);if(Ru(S)&&(V.ctx.renderer=pe),Dh(V,!1,M),V.asyncDep){if(x&&x.registerDep(V,T,M),!S.el){const H=V.subTree=se(Ht);A(null,H,k,g),S.placeholder=H.el}}else T(V,S,k,g,x,E,M)},P=(S,k,g)=>{const v=k.component=S.component;if(ph(S,k,g))if(v.asyncDep&&!v.asyncResolved){R(v,k,g);return}else v.next=k,v.update();else k.el=S.el,v.vnode=k},T=(S,k,g,v,x,E,M)=>{const V=()=>{if(S.isMounted){let{next:Y,bu:Z,u:ee,parent:me,vnode:_e}=S;{const Nt=sc(S);if(Nt){Y&&(Y.el=_e.el,R(S,Y,M)),Nt.asyncDep.then(()=>{Qe(()=>{S.isUnmounted||z()},x)});return}}let ke=Y,Ze;bn(S,!1),Y?(Y.el=_e.el,R(S,Y,M)):Y=_e,Z&&ws(Z),(Ze=Y.props&&Y.props.onVnodeBeforeUpdate)&&Mt(Ze,me,Y,_e),bn(S,!0);const Je=$l(S),It=S.subTree;S.subTree=Je,C(It,Je,d(It.el),ae(It),S,x,E),Y.el=Je.el,ke===null&&gh(S,Je.el),ee&&Qe(ee,x),(Ze=Y.props&&Y.props.onVnodeUpdated)&&Qe(()=>Mt(Ze,me,Y,_e),x)}else{let Y;const{el:Z,props:ee}=k,{bm:me,m:_e,parent:ke,root:Ze,type:Je}=S,It=Xn(k);bn(S,!1),me&&ws(me),!It&&(Y=ee&&ee.onVnodeBeforeMount)&&Mt(Y,ke,k),bn(S,!0);{Ze.ce&&Ze.ce._hasShadowRoot()&&Ze.ce._injectChildStyle(Je);const Nt=S.subTree=$l(S);C(null,Nt,g,v,S,x,E),k.el=Nt.el}if(_e&&Qe(_e,x),!It&&(Y=ee&&ee.onVnodeMounted)){const Nt=k;Qe(()=>Mt(Y,ke,Nt),x)}(k.shapeFlag&256||ke&&Xn(ke.vnode)&&ke.vnode.shapeFlag&256)&&S.a&&Qe(S.a,x),S.isMounted=!0,k=g=v=null}};S.scope.on();const H=S.effect=new iu(V);S.scope.off();const z=S.update=H.run.bind(H),W=S.job=H.runIfDirty.bind(H);W.i=S,W.id=S.uid,H.scheduler=()=>ji(W),bn(S,!0),z()},R=(S,k,g)=>{k.component=S;const v=S.vnode.props;S.vnode=k,S.next=null,vh(S,k.props,v,g),wh(S,k.children,g),Jt(),vl(S),Qt()},U=(S,k,g,v,x,E,M,V,H=!1)=>{const z=S&&S.children,W=S?S.shapeFlag:0,Y=k.children,{patchFlag:Z,shapeFlag:ee}=k;if(Z>0){if(Z&128){Q(z,Y,g,v,x,E,M,V,H);return}else if(Z&256){J(z,Y,g,v,x,E,M,V,H);return}}ee&8?(W&16&&oe(z,x,E),Y!==z&&c(g,Y)):W&16?ee&16?Q(z,Y,g,v,x,E,M,V,H):oe(z,x,E,!0):(W&8&&c(g,""),ee&16&&f(Y,g,v,x,E,M,V,H))},J=(S,k,g,v,x,E,M,V,H)=>{S=S||Gn,k=k||Gn;const z=S.length,W=k.length,Y=Math.min(z,W);let Z;for(Z=0;Z<Y;Z++){const ee=k[Z]=H?jt(k[Z]):Dt(k[Z]);C(S[Z],ee,g,null,x,E,M,V,H)}z>W?oe(S,x,E,!0,!1,Y):f(k,g,v,x,E,M,V,H,Y)},Q=(S,k,g,v,x,E,M,V,H)=>{let z=0;const W=k.length;let Y=S.length-1,Z=W-1;for(;z<=Y&&z<=Z;){const ee=S[z],me=k[z]=H?jt(k[z]):Dt(k[z]);if(Ln(ee,me))C(ee,me,g,null,x,E,M,V,H);else break;z++}for(;z<=Y&&z<=Z;){const ee=S[Y],me=k[Z]=H?jt(k[Z]):Dt(k[Z]);if(Ln(ee,me))C(ee,me,g,null,x,E,M,V,H);else break;Y--,Z--}if(z>Y){if(z<=Z){const ee=Z+1,me=ee<W?k[ee].el:v;for(;z<=Z;)C(null,k[z]=H?jt(k[z]):Dt(k[z]),g,me,x,E,M,V,H),z++}}else if(z>Z)for(;z<=Y;)ie(S[z],x,E,!0),z++;else{const ee=z,me=z,_e=new Map;for(z=me;z<=Z;z++){const dt=k[z]=H?jt(k[z]):Dt(k[z]);dt.key!=null&&_e.set(dt.key,z)}let ke,Ze=0;const Je=Z-me+1;let It=!1,Nt=0;const ao=new Array(Je);for(z=0;z<Je;z++)ao[z]=0;for(z=ee;z<=Y;z++){const dt=S[z];if(Ze>=Je){ie(dt,x,E,!0);continue}let $t;if(dt.key!=null)$t=_e.get(dt.key);else for(ke=me;ke<=Z;ke++)if(ao[ke-me]===0&&Ln(dt,k[ke])){$t=ke;break}$t===void 0?ie(dt,x,E,!0):(ao[$t-me]=z+1,$t>=Nt?Nt=$t:It=!0,C(dt,k[$t],g,null,x,E,M,V,H),Ze++)}const cl=It?Eh(ao):Gn;for(ke=cl.length-1,z=Je-1;z>=0;z--){const dt=me+z,$t=k[dt],dl=k[dt+1],fl=dt+1<W?dl.el||rc(dl):v;ao[z]===0?C(null,$t,g,fl,x,E,M,V,H):It&&(ke<0||z!==cl[ke]?ne($t,g,fl,2):ke--)}}},ne=(S,k,g,v,x=null)=>{const{el:E,type:M,transition:V,children:H,shapeFlag:z}=S;if(z&6){ne(S.component.subTree,k,g,v);return}if(z&128){S.suspense.move(k,g,v);return}if(z&64){M.move(S,k,g,pe);return}if(M===ce){o(E,k,g);for(let Y=0;Y<H.length;Y++)ne(H[Y],k,g,v);o(S.anchor,k,g);return}if(M===Dr){w(S,k,g);return}if(v!==2&&z&1&&V)if(v===0)V.beforeEnter(E),o(E,k,g),Qe(()=>V.enter(E),x);else{const{leave:Y,delayLeave:Z,afterLeave:ee}=V,me=()=>{S.ctx.isUnmounted?s(E):o(E,k,g)},_e=()=>{E._isLeaving&&E[rn](!0),Y(E,()=>{me(),ee&&ee()})};Z?Z(E,me,_e):_e()}else o(E,k,g)},ie=(S,k,g,v=!1,x=!1)=>{const{type:E,props:M,ref:V,children:H,dynamicChildren:z,shapeFlag:W,patchFlag:Y,dirs:Z,cacheIndex:ee}=S;if(Y===-2&&(x=!1),V!=null&&(Jt(),$o(V,null,g,S,!0),Qt()),ee!=null&&(k.renderCache[ee]=void 0),W&256){k.ctx.deactivate(S);return}const me=W&1&&Z,_e=!Xn(S);let ke;if(_e&&(ke=M&&M.onVnodeBeforeUnmount)&&Mt(ke,k,S),W&6)re(S.component,g,v);else{if(W&128){S.suspense.unmount(g,v);return}me&&yn(S,null,k,"beforeUnmount"),W&64?S.type.remove(S,k,g,pe,v):z&&!z.hasOnce&&(E!==ce||Y>0&&Y&64)?oe(z,k,g,!1,!0):(E===ce&&Y&384||!x&&W&16)&&oe(H,k,g),v&&he(S)}(_e&&(ke=M&&M.onVnodeUnmounted)||me)&&Qe(()=>{ke&&Mt(ke,k,S),me&&yn(S,null,k,"unmounted")},g)},he=S=>{const{type:k,el:g,anchor:v,transition:x}=S;if(k===ce){be(g,v);return}if(k===Dr){I(S);return}const E=()=>{s(g),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(S.shapeFlag&1&&x&&!x.persisted){const{leave:M,delayLeave:V}=x,H=()=>M(g,E);V?V(S.el,E,H):H()}else E()},be=(S,k)=>{let g;for(;S!==k;)g=p(S),s(S),S=g;s(k)},re=(S,k,g)=>{const{bum:v,scope:x,job:E,subTree:M,um:V,m:H,a:z}=S;Tl(H),Tl(z),v&&ws(v),x.stop(),E&&(E.flags|=8,ie(M,S,k,g)),V&&Qe(V,k),Qe(()=>{S.isUnmounted=!0},k)},oe=(S,k,g,v=!1,x=!1,E=0)=>{for(let M=E;M<S.length;M++)ie(S[M],k,g,v,x)},ae=S=>{if(S.shapeFlag&6)return ae(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const k=p(S.anchor||S.el),g=k&&k[Au];return g?p(g):k};let we=!1;const Me=(S,k,g)=>{let v;S==null?k._vnode&&(ie(k._vnode,null,null,!0),v=k._vnode.component):C(k._vnode||null,S,k,null,null,null,g),k._vnode=S,we||(we=!0,vl(v),Nu(),we=!1)},pe={p:C,um:ie,m:ne,r:he,mt:y,mc:f,pc:U,pbc:G,n:ae,o:e};return{render:Me,hydrate:void 0,createApp:ah(Me)}}function Ar({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function bn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ch(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Yi(e,t,n=!1){const o=e.children,s=t.children;if(de(o)&&de(s))for(let r=0;r<o.length;r++){const i=o[r];let l=s[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[r]=jt(s[r]),l.el=i.el),!n&&l.patchFlag!==-2&&Yi(i,l)),l.type===fr&&(l.patchFlag===-1&&(l=s[r]=jt(l)),l.el=i.el),l.type===Ht&&!l.el&&(l.el=i.el)}}function Eh(e){const t=e.slice(),n=[0];let o,s,r,i,l;const a=e.length;for(o=0;o<a;o++){const u=e[o];if(u!==0){if(s=n[n.length-1],e[s]<u){t[o]=s,n.push(o);continue}for(r=0,i=n.length-1;r<i;)l=r+i>>1,e[n[l]]<u?r=l+1:i=l;u<e[n[r]]&&(r>0&&(t[o]=n[r-1]),n[r]=o)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function sc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:sc(t)}function Tl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function rc(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?rc(t.subTree):null}const ic=e=>e.__isSuspense;function Ih(e,t){t&&t.pendingBranch?de(e)?t.effects.push(...e):t.effects.push(e):Df(e)}const ce=Symbol.for("v-fgt"),fr=Symbol.for("v-txt"),Ht=Symbol.for("v-cmt"),Dr=Symbol.for("v-stc"),ko=[];let it=null;function F(e=!1){ko.push(it=e?null:[])}function Nh(){ko.pop(),it=ko[ko.length-1]||null}let to=1;function zs(e,t=!1){to+=e,e<0&&it&&t&&(it.hasOnce=!0)}function lc(e){return e.dynamicChildren=to>0?it||Gn:null,Nh(),to>0&&it&&it.push(e),e}function X(e,t,n,o,s,r){return lc(b(e,t,n,o,s,r,!0))}function Ve(e,t,n,o,s){return lc(se(e,t,n,o,s,!0))}function Fo(e){return e?e.__v_isVNode===!0:!1}function Ln(e,t){return e.type===t.type&&e.key===t.key}const ac=({key:e})=>e??null,Ss=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Le(e)||He(e)||ge(e)?{i:Xe,r:e,k:t,f:!!n}:e:null);function b(e,t=null,n=null,o=0,s=null,r=e===ce?0:1,i=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ac(t),ref:t&&Ss(t),scopeId:Mu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Xe};return l?(Wi(a,n),r&128&&e.normalize(a)):n&&(a.shapeFlag|=Le(n)?8:16),to>0&&!i&&it&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&it.push(a),a}const se=$h;function $h(e,t=null,n=null,o=0,s=null,r=!1){if((!e||e===Bu)&&(e=Ht),Fo(e)){const l=kn(e,t,!0);return n&&Wi(l,n),to>0&&!r&&it&&(l.shapeFlag&6?it[it.indexOf(e)]=l:it.push(l)),l.patchFlag=-2,l}if(zh(e)&&(e=e.__vccOpts),t){t=Mh(t);let{class:l,style:a}=t;l&&!Le(l)&&(t.class=Ee(l)),Ae(a)&&(lr(a)&&!de(a)&&(a=Ke({},a)),t.style=We(a))}const i=Le(e)?1:ic(e)?128:Hf(e)?64:Ae(e)?4:ge(e)?2:0;return b(e,t,n,o,s,i,r,!0)}function Mh(e){return e?lr(e)||Ju(e)?Ke({},e):e:null}function kn(e,t,n=!1,o=!1){const{props:s,ref:r,patchFlag:i,children:l,transition:a}=e,u=t?Xi(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&ac(u),ref:t&&t.ref?n&&r?de(r)?r.concat(Ss(t)):[r,Ss(t)]:Ss(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ce?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&kn(e.ssContent),ssFallback:e.ssFallback&&kn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&o&&Vo(c,a.clone(c)),c}function Ye(e=" ",t=0){return se(fr,null,e,t)}function fe(e="",t=!1){return t?(F(),Ve(Ht,null,e)):se(Ht,null,e)}function Dt(e){return e==null||typeof e=="boolean"?se(Ht):de(e)?se(ce,null,e.slice()):Fo(e)?jt(e):se(fr,null,String(e))}function jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:kn(e)}function Wi(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(de(t))n=16;else if(typeof t=="object")if(o&65){const s=t.default;s&&(s._c&&(s._d=!1),Wi(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Ju(t)?t._ctx=Xe:s===3&&Xe&&(Xe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ge(t)?(t={default:t,_ctx:Xe},n=32):(t=String(t),o&64?(n=16,t=[Ye(t)]):n=8);e.children=t,e.shapeFlag|=n}function Xi(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const s in o)if(s==="class")t.class!==o.class&&(t.class=Ee([t.class,o.class]));else if(s==="style")t.style=We([t.style,o.style]);else if(Js(s)){const r=t[s],i=o[s];i&&r!==i&&!(de(r)&&r.includes(i))&&(t[s]=r?[].concat(r,i):i)}else s!==""&&(t[s]=o[s])}return t}function Mt(e,t,n,o=null){St(e,t,7,[n,o])}const kh=Yu();let Th=0;function Ah(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||kh,r={uid:Th++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ru(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ec(o,s),emitsOptions:Wu(o,s),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:o.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=ch.bind(null,r),e.ce&&e.ce(r),r}let nt=null;const Ct=()=>nt||Xe;let Hs,fi;{const e=nr(),t=(n,o)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(o),r=>{s.length>1?s.forEach(i=>i(r)):s[0](r)}};Hs=t("__VUE_INSTANCE_SETTERS__",n=>nt=n),fi=t("__VUE_SSR_SETTERS__",n=>Bo=n)}const Qo=e=>{const t=nt;return Hs(e),e.scope.on(),()=>{e.scope.off(),Hs(t)}},Al=()=>{nt&&nt.scope.off(),Hs(null)};function uc(e){return e.vnode.shapeFlag&4}let Bo=!1;function Dh(e,t=!1,n=!1){t&&fi(t);const{props:o,children:s}=e.vnode,r=uc(e);mh(e,o,r,t),xh(e,s,n||t);const i=r?Oh(e,t):void 0;return t&&fi(!1),i}function Oh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Jf);const{setup:o}=n;if(o){Jt();const s=e.setupContext=o.length>1?dc(e):null,r=Qo(e),i=Jo(o,e,0,[e.props,s]),l=Ja(i);if(Qt(),r(),(l||e.sp)&&!Xn(e)&&Pu(e),l){if(i.then(Al,Al),t)return i.then(a=>{Dl(e,a)}).catch(a=>{ar(a,e,0)});e.asyncDep=i}else Dl(e,i)}else cc(e)}function Dl(e,t,n){ge(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ae(t)&&(e.setupState=wu(t)),cc(e)}function cc(e,t,n){const o=e.type;e.render||(e.render=o.render||Rt);{const s=Qo(e);Jt();try{nh(e)}finally{Qt(),s()}}}const Ph={get(e,t){return tt(e,"get",""),e[t]}};function dc(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Ph),slots:e.slots,emit:e.emit,expose:t}}function hr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(wu(hn(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Mo)return Mo[n](e)},has(t,n){return n in t||n in Mo}})):e.proxy}function Rh(e,t=!0){return ge(e)?e.displayName||e.name:e.name||t&&e.__name}function zh(e){return ge(e)&&"__vccOpts"in e}const ue=(e,t)=>$f(e,t,Bo);function Ne(e,t,n){try{zs(-1);const o=arguments.length;return o===2?Ae(t)&&!de(t)?Fo(t)?se(e,null,[t]):se(e,t):se(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Fo(n)&&(n=[n]),se(e,t,n))}finally{zs(1)}}function Hh(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let o=0;o<n.length;o++)if(qt(n[o],t[o]))return!1;return to>0&&it&&it.push(e),!0}const Vh="3.5.28";let hi;const Ol=typeof window<"u"&&window.trustedTypes;if(Ol)try{hi=Ol.createPolicy("vue",{createHTML:e=>e})}catch{}const fc=hi?e=>hi.createHTML(e):e=>e,Fh="http://www.w3.org/2000/svg",Bh="http://www.w3.org/1998/Math/MathML",Lt=typeof document<"u"?document:null,Pl=Lt&&Lt.createElement("template"),Lh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const s=t==="svg"?Lt.createElementNS(Fh,e):t==="mathml"?Lt.createElementNS(Bh,e):n?Lt.createElement(e,{is:n}):Lt.createElement(e);return e==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:e=>Lt.createTextNode(e),createComment:e=>Lt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Lt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,s,r){const i=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{Pl.innerHTML=fc(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=Pl.content;if(o==="svg"||o==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},on="transition",fo="animation",no=Symbol("_vtc"),hc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},jh=Ke({},Lf,hc),xn=(e,t=[])=>{de(e)?e.forEach(n=>n(...t)):e&&e(...t)},Rl=e=>e?de(e)?e.some(t=>t.length>1):e.length>1:!1;function Uh(e){const t={};for(const N in e)N in hc||(t[N]=e[N]);if(e.css===!1)return t;const{name:n="v",type:o,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=r,appearActiveClass:u=i,appearToClass:c=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,_=Kh(s),C=_&&_[0],$=_&&_[1],{onBeforeEnter:A,onEnter:D,onEnterCancelled:w,onLeave:I,onLeaveCancelled:O,onBeforeAppear:B=A,onAppear:j=D,onAppearCancelled:f=w}=t,h=(N,q,y,P)=>{N._enterCancelled=P,ln(N,q?c:l),ln(N,q?u:i),y&&y()},G=(N,q)=>{N._isLeaving=!1,ln(N,d),ln(N,m),ln(N,p),q&&q()},K=N=>(q,y)=>{const P=N?j:D,T=()=>h(q,N,y);xn(P,[q,T]),zl(()=>{ln(q,N?a:r),kt(q,N?c:l),Rl(P)||Hl(q,o,C,T)})};return Ke(t,{onBeforeEnter(N){xn(A,[N]),kt(N,r),kt(N,i)},onBeforeAppear(N){xn(B,[N]),kt(N,a),kt(N,u)},onEnter:K(!1),onAppear:K(!0),onLeave(N,q){N._isLeaving=!0;const y=()=>G(N,q);kt(N,d),N._enterCancelled?(kt(N,p),pi(N)):(pi(N),kt(N,p)),zl(()=>{N._isLeaving&&(ln(N,d),kt(N,m),Rl(I)||Hl(N,o,$,y))}),xn(I,[N,y])},onEnterCancelled(N){h(N,!1,void 0,!0),xn(w,[N])},onAppearCancelled(N){h(N,!0,void 0,!0),xn(f,[N])},onLeaveCancelled(N){G(N),xn(O,[N])}})}function Kh(e){if(e==null)return null;if(Ae(e))return[Or(e.enter),Or(e.leave)];{const t=Or(e);return[t,t]}}function Or(e){return Yd(e)}function kt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[no]||(e[no]=new Set)).add(t)}function ln(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[no];n&&(n.delete(t),n.size||(e[no]=void 0))}function zl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Gh=0;function Hl(e,t,n,o){const s=e._endId=++Gh,r=()=>{s===e._endId&&o()};if(n!=null)return setTimeout(r,n);const{type:i,timeout:l,propCount:a}=pc(e,t);if(!i)return o();const u=i+"end";let c=0;const d=()=>{e.removeEventListener(u,p),r()},p=m=>{m.target===e&&++c>=a&&d()};setTimeout(()=>{c<a&&d()},l+1),e.addEventListener(u,p)}function pc(e,t){const n=window.getComputedStyle(e),o=_=>(n[_]||"").split(", "),s=o(`${on}Delay`),r=o(`${on}Duration`),i=Vl(s,r),l=o(`${fo}Delay`),a=o(`${fo}Duration`),u=Vl(l,a);let c=null,d=0,p=0;t===on?i>0&&(c=on,d=i,p=r.length):t===fo?u>0&&(c=fo,d=u,p=a.length):(d=Math.max(i,u),c=d>0?i>u?on:fo:null,p=c?c===on?r.length:a.length:0);const m=c===on&&/\b(?:transform|all)(?:,|$)/.test(o(`${on}Property`).toString());return{type:c,timeout:d,propCount:p,hasTransform:m}}function Vl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Fl(n)+Fl(e[o])))}function Fl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function pi(e){return(e?e.ownerDocument:document).body.offsetHeight}function Yh(e,t,n){const o=e[no];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Vs=Symbol("_vod"),gc=Symbol("_vsh"),mc={name:"show",beforeMount(e,{value:t},{transition:n}){e[Vs]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ho(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),ho(e,!0),o.enter(e)):o.leave(e,()=>{ho(e,!1)}):ho(e,t))},beforeUnmount(e,{value:t}){ho(e,t)}};function ho(e,t){e.style.display=t?e[Vs]:"none",e[gc]=!t}const Wh=Symbol(""),Xh=/(?:^|;)\s*display\s*:/;function qh(e,t,n){const o=e.style,s=Le(n);let r=!1;if(n&&!s){if(t)if(Le(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&Cs(o,l,"")}else for(const i in t)n[i]==null&&Cs(o,i,"");for(const i in n)i==="display"&&(r=!0),Cs(o,i,n[i])}else if(s){if(t!==n){const i=o[Wh];i&&(n+=";"+i),o.cssText=n,r=Xh.test(n)}}else t&&e.removeAttribute("style");Vs in e&&(e[Vs]=r?o.display:"",e[gc]&&(o.display="none"))}const Bl=/\s*!important$/;function Cs(e,t,n){if(de(n))n.forEach(o=>Cs(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Zh(e,t);Bl.test(n)?e.setProperty(mn(o),n.replace(Bl,""),"important"):e[o]=n}}const Ll=["Webkit","Moz","ms"],Pr={};function Zh(e,t){const n=Pr[t];if(n)return n;let o=mt(t);if(o!=="filter"&&o in e)return Pr[t]=o;o=tr(o);for(let s=0;s<Ll.length;s++){const r=Ll[s]+o;if(r in e)return Pr[t]=r}return t}const jl="http://www.w3.org/1999/xlink";function Ul(e,t,n,o,s,r=Qd(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(jl,t.slice(6,t.length)):e.setAttributeNS(jl,t,n):n==null||r&&!nu(n)?e.removeAttribute(t):e.setAttribute(t,r?"":wt(n)?String(n):n)}function Kl(e,t,n,o,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?fc(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=nu(n):n==null&&l==="string"?(n="",i=!0):l==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(s||t)}function jn(e,t,n,o){e.addEventListener(t,n,o)}function Jh(e,t,n,o){e.removeEventListener(t,n,o)}const Gl=Symbol("_vei");function Qh(e,t,n,o,s=null){const r=e[Gl]||(e[Gl]={}),i=r[t];if(o&&i)i.value=o;else{const[l,a]=ep(t);if(o){const u=r[t]=op(o,s);jn(e,l,u,a)}else i&&(Jh(e,l,i,a),r[t]=void 0)}}const Yl=/(?:Once|Passive|Capture)$/;function ep(e){let t;if(Yl.test(e)){t={};let o;for(;o=e.match(Yl);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):mn(e.slice(2)),t]}let Rr=0;const tp=Promise.resolve(),np=()=>Rr||(tp.then(()=>Rr=0),Rr=Date.now());function op(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;St(sp(o,n.value),t,5,[o])};return n.value=e,n.attached=np(),n}function sp(e,t){if(de(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>s=>!s._stopped&&o&&o(s))}else return t}const Wl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,rp=(e,t,n,o,s,r)=>{const i=s==="svg";t==="class"?Yh(e,o,i):t==="style"?qh(e,n,o):Js(t)?Oi(t)||Qh(e,t,n,o,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ip(e,t,o,i))?(Kl(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ul(e,t,o,i,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Le(o))?Kl(e,mt(t),o,r,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Ul(e,t,o,i))};function ip(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Wl(t)&&ge(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Wl(t)&&Le(n)?!1:t in e}const vc=new WeakMap,yc=new WeakMap,Fs=Symbol("_moveCb"),Xl=Symbol("_enterCb"),lp=e=>(delete e.props.mode,e),ap=lp({name:"TransitionGroup",props:Ke({},jh,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Ct(),o=Bf();let s,r;return Vu(()=>{if(!s.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!fp(s[0].el,n.vnode.el,i)){s=[];return}s.forEach(up),s.forEach(cp);const l=s.filter(dp);pi(n.vnode.el),l.forEach(a=>{const u=a.el,c=u.style;kt(u,i),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[Fs]=p=>{p&&p.target!==u||(!p||p.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",d),u[Fs]=null,ln(u,i))};u.addEventListener("transitionend",d)}),s=[]}),()=>{const i=Ie(e),l=Uh(i);let a=i.tag||ce;if(s=[],r)for(let u=0;u<r.length;u++){const c=r[u];c.el&&c.el instanceof Element&&(s.push(c),Vo(c,li(c,l,o,n)),vc.set(c,bc(c.el)))}r=t.default?Ou(t.default()):[];for(let u=0;u<r.length;u++){const c=r[u];c.key!=null&&Vo(c,li(c,l,o,n))}return se(a,null,r)}}}),qi=ap;function up(e){const t=e.el;t[Fs]&&t[Fs](),t[Xl]&&t[Xl]()}function cp(e){yc.set(e,bc(e.el))}function dp(e){const t=vc.get(e),n=yc.get(e),o=t.left-n.left,s=t.top-n.top;if(o||s){const r=e.el,i=r.style,l=r.getBoundingClientRect();let a=1,u=1;return r.offsetWidth&&(a=l.width/r.offsetWidth),r.offsetHeight&&(u=l.height/r.offsetHeight),(!Number.isFinite(a)||a===0)&&(a=1),(!Number.isFinite(u)||u===0)&&(u=1),Math.abs(a-1)<.01&&(a=1),Math.abs(u-1)<.01&&(u=1),i.transform=i.webkitTransform=`translate(${o/a}px,${s/u}px)`,i.transitionDuration="0s",e}}function bc(e){const t=e.getBoundingClientRect();return{left:t.left,top:t.top}}function fp(e,t,n){const o=e.cloneNode(),s=e[no];s&&s.forEach(l=>{l.split(/\s+/).forEach(a=>a&&o.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&o.classList.add(l)),o.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(o);const{hasTransform:i}=pc(o);return r.removeChild(o),i}const ql=e=>{const t=e.props["onUpdate:modelValue"]||!1;return de(t)?n=>ws(t,n):t};function hp(e){e.target.composing=!0}function Zl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const zr=Symbol("_assign");function Jl(e,t,n){return t&&(e=e.trim()),n&&(e=Ri(e)),e}const xc={created(e,{modifiers:{lazy:t,trim:n,number:o}},s){e[zr]=ql(s);const r=o||s.props&&s.props.type==="number";jn(e,t?"change":"input",i=>{i.target.composing||e[zr](Jl(e.value,n,r))}),(n||r)&&jn(e,"change",()=>{e.value=Jl(e.value,n,r)}),t||(jn(e,"compositionstart",hp),jn(e,"compositionend",Zl),jn(e,"change",Zl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:s,number:r}},i){if(e[zr]=ql(i),e.composing)return;const l=(r||e.type==="number")&&!/^0\d/.test(e.value)?Ri(e.value):e.value,a=t??"";l!==a&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||s&&e.value.trim()===a)||(e.value=a))}},pp=["ctrl","shift","alt","meta"],gp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>pp.some(n=>e[`${n}Key`]&&!t.includes(n))},at=(e,t)=>{if(!e)return e;const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=((s,...r)=>{for(let i=0;i<t.length;i++){const l=gp[t[i]];if(l&&l(s,t))return}return e(s,...r)}))},mp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Zi=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=(s=>{if(!("key"in s))return;const r=mn(s.key);if(t.some(i=>i===r||mp[i]===r))return e(s)}))},vp=Ke({patchProp:rp},Lh);let Ql;function yp(){return Ql||(Ql=_h(vp))}const bp=((...e)=>{const t=yp().createApp(...e),{mount:n}=t;return t.mount=o=>{const s=wp(o);if(!s)return;const r=t._component;!ge(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const i=n(s,!1,xp(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},t});function xp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function wp(e){return Le(e)?document.querySelector(e):e}let wc;const pr=e=>wc=e,_c=Symbol();function gi(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var To;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(To||(To={}));function _p(){const e=or(!0),t=e.run(()=>xe({}));let n=[],o=[];const s=hn({install(r){pr(s),s._a=r,r.provide(_c,s),r.config.globalProperties.$pinia=s,o.forEach(i=>n.push(i)),o=[]},use(r){return this._a?n.push(r):o.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Sc=()=>{};function ea(e,t,n,o=Sc){e.add(t);const s=()=>{e.delete(t)&&o()};return!n&&sr()&&Co(s),s}function Rn(e,...t){e.forEach(n=>{n(...t)})}const Sp=e=>e(),ta=Symbol(),Hr=Symbol();function mi(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],s=e[n];gi(s)&&gi(o)&&e.hasOwnProperty(n)&&!He(o)&&!Zt(o)?e[n]=mi(s,o):e[n]=o}return e}const Cp=Symbol();function Ep(e){return!gi(e)||!Object.prototype.hasOwnProperty.call(e,Cp)}const{assign:an}=Object;function Ip(e){return!!(He(e)&&e.effect)}function Np(e,t,n,o){const{state:s,actions:r,getters:i}=t,l=n.state.value[e];let a;function u(){l||(n.state.value[e]=s?s():{});const c=Su(n.state.value[e]);return an(c,r,Object.keys(i||{}).reduce((d,p)=>(d[p]=hn(ue(()=>{pr(n);const m=n._s.get(e);return i[p].call(m,m)})),d),{}))}return a=Cc(e,u,t,n,o,!0),a}function Cc(e,t,n={},o,s,r){let i;const l=an({actions:{}},n),a={deep:!0};let u,c,d=new Set,p=new Set,m;const _=o.state.value[e];!r&&!_&&(o.state.value[e]={});let C;function $(f){let h;u=c=!1,typeof f=="function"?(f(o.state.value[e]),h={type:To.patchFunction,storeId:e,events:m}):(mi(o.state.value[e],f),h={type:To.patchObject,payload:f,storeId:e,events:m});const G=C=Symbol();ct().then(()=>{C===G&&(u=!0)}),c=!0,Rn(d,h,o.state.value[e])}const A=r?function(){const{state:h}=n,G=h?h():{};this.$patch(K=>{an(K,G)})}:Sc;function D(){i.stop(),d.clear(),p.clear(),o._s.delete(e)}const w=(f,h="")=>{if(ta in f)return f[Hr]=h,f;const G=function(){pr(o);const K=Array.from(arguments),N=new Set,q=new Set;function y(R){N.add(R)}function P(R){q.add(R)}Rn(p,{args:K,name:G[Hr],store:O,after:y,onError:P});let T;try{T=f.apply(this&&this.$id===e?this:O,K)}catch(R){throw Rn(q,R),R}return T instanceof Promise?T.then(R=>(Rn(N,R),R)).catch(R=>(Rn(q,R),Promise.reject(R))):(Rn(N,T),T)};return G[ta]=!0,G[Hr]=h,G},I={_p:o,$id:e,$onAction:ea.bind(null,p),$patch:$,$reset:A,$subscribe(f,h={}){const G=ea(d,f,h.detached,()=>K()),K=i.run(()=>ye(()=>o.state.value[e],N=>{(h.flush==="sync"?c:u)&&f({storeId:e,type:To.direct,events:m},N)},an({},a,h)));return G},$dispose:D},O=Zo(I);o._s.set(e,O);const j=(o._a&&o._a.runWithContext||Sp)(()=>o._e.run(()=>(i=or()).run(()=>t({action:w}))));for(const f in j){const h=j[f];if(He(h)&&!Ip(h)||Zt(h))r||(_&&Ep(h)&&(He(h)?h.value=_[f]:mi(h,_[f])),o.state.value[e][f]=h);else if(typeof h=="function"){const G=w(h,f);j[f]=G,l.actions[f]=h}}return an(O,j),an(Ie(O),j),Object.defineProperty(O,"$state",{get:()=>o.state.value[e],set:f=>{$(h=>{an(h,f)})}}),o._p.forEach(f=>{an(O,i.run(()=>f({store:O,app:o._a,pinia:o,options:l})))}),_&&r&&n.hydrate&&n.hydrate(O.$state,_),u=!0,c=!0,O}function Ec(e,t,n){let o;const s=typeof t=="function";o=s?n:t;function r(i,l){const a=Of();return i=i||(a?xt(_c,null):null),i&&pr(i),i=wc,i._s.has(e)||(s?Cc(e,t,o,i):Np(e,o,i)),i._s.get(e)}return r.$id=e,r}const $p=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Mp=Object.prototype.toString,kp=e=>Mp.call(e)==="[object Object]",Tp=()=>{};function Ap(...e){if(e.length!==1)return Oe(...e);const t=e[0];return typeof t=="function"?Qn(_u(()=>({get:t,set:Tp}))):xe(t)}function Dp(e,t){function n(...o){return new Promise((s,r)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(s).catch(r)})}return n}const Ic=e=>e();function Op(e=Ic,t={}){const{initialState:n="active"}=t,o=Ap(n==="active");function s(){o.value=!1}function r(){o.value=!0}return{isActive:Qn(o),pause:s,resume:r,eventFilter:(...l)=>{o.value&&e(...l)}}}function Vr(e){return Array.isArray(e)?e:[e]}function Pp(e){return Ct()}function Rp(e,t,n={}){const{eventFilter:o=Ic,...s}=n;return ye(e,Dp(o,t),s)}function zp(e,t,n={}){const{eventFilter:o,initialState:s="active",...r}=n,{eventFilter:i,pause:l,resume:a,isActive:u}=Op(o,{initialState:s});return{stop:Rp(e,t,{...r,eventFilter:i}),pause:l,resume:a,isActive:u}}function Hp(e,t=!0,n){Pp()?lt(e,n):t?e():ct(e)}function Vp(e,t,n){return ye(e,t,{...n,immediate:!0})}const bo=$p?window:void 0;function Fp(e){var t;const n=ve(e);return(t=n?.$el)!==null&&t!==void 0?t:n}function na(...e){const t=(o,s,r,i)=>(o.addEventListener(s,r,i),()=>o.removeEventListener(s,r,i)),n=ue(()=>{const o=Vr(ve(e[0])).filter(s=>s!=null);return o.every(s=>typeof s!="string")?o:void 0});return Vp(()=>{var o,s;return[(o=(s=n.value)===null||s===void 0?void 0:s.map(r=>Fp(r)))!==null&&o!==void 0?o:[bo].filter(r=>r!=null),Vr(ve(n.value?e[1]:e[0])),Vr(L(n.value?e[2]:e[1])),ve(n.value?e[3]:e[2])]},([o,s,r,i],l,a)=>{if(!o?.length||!s?.length||!r?.length)return;const u=kp(i)?{...i}:i,c=o.flatMap(d=>s.flatMap(p=>r.map(m=>t(d,p,m,u))));a(()=>{c.forEach(d=>d())})},{flush:"post"})}const as=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},us="__vueuse_ssr_handlers__",Bp=Lp();function Lp(){return us in as||(as[us]=as[us]||{}),as[us]}function jp(e,t){return Bp[e]||t}function Up(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Kp={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},oa="vueuse-storage";function Gp(e,t,n,o={}){var s;const{flush:r="pre",deep:i=!0,listenToStorageChanges:l=!0,writeDefaults:a=!0,mergeDefaults:u=!1,shallow:c,window:d=bo,eventFilter:p,onError:m=y=>{console.error(y)},initOnMounted:_}=o,C=(c?Yt:xe)(typeof t=="function"?t():t),$=ue(()=>ve(e));if(!n)try{n=jp("getDefaultStorage",()=>bo?.localStorage)()}catch(y){m(y)}if(!n)return C;const A=ve(t),D=Up(A),w=(s=o.serializer)!==null&&s!==void 0?s:Kp[D],{pause:I,resume:O}=zp(C,y=>G(y),{flush:r,deep:i,eventFilter:p});ye($,()=>N(),{flush:r});let B=!1;const j=y=>{_&&!B||N(y)},f=y=>{_&&!B||q(y)};d&&l&&(n instanceof Storage?na(d,"storage",j,{passive:!0}):na(d,oa,f)),_?Hp(()=>{B=!0,N()}):N();function h(y,P){if(d){const T={key:$.value,oldValue:y,newValue:P,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",T):new CustomEvent(oa,{detail:T}))}}function G(y){try{const P=n.getItem($.value);if(y==null)h(P,null),n.removeItem($.value);else{const T=w.write(y);P!==T&&(n.setItem($.value,T),h(P,T))}}catch(P){m(P)}}function K(y){const P=y?y.newValue:n.getItem($.value);if(P==null)return a&&A!=null&&n.setItem($.value,w.write(A)),A;if(!y&&u){const T=w.read(P);return typeof u=="function"?u(T,A):D==="object"&&!Array.isArray(T)?{...A,...T}:T}else return typeof P!="string"?P:w.read(P)}function N(y){if(!(y&&y.storageArea!==n)){if(y&&y.key==null){C.value=A;return}if(!(y&&y.key!==$.value)){I();try{const P=w.write(C.value);(y===void 0||y?.newValue!==P)&&(C.value=K(y))}catch(P){m(P)}finally{y?ct(O):O()}}}}function q(y){N(y.detail)}return C}const es=Ec("ui",{state:()=>({modal:{isOpen:!1,kind:"alert",title:"Notice",message:"",confirmText:"OK",cancelText:"Cancel",inputValue:"",inputPlaceholder:"",inputRequired:!1,resolve:null},toasts:[]}),actions:{showToast(e,t="info",n=2600){const o=`toast-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;this.toasts.push({id:o,message:e,type:t}),setTimeout(()=>{this.removeToast(o)},n)},removeToast(e){this.toasts=this.toasts.filter(t=>t.id!==e)},closeModal(){this.modal.isOpen=!1,this.modal.resolve=null},resolveModal(e){typeof this.modal.resolve=="function"&&this.modal.resolve(e),this.closeModal()},openAlert({title:e="Notice",message:t="",confirmText:n="OK"}={}){return new Promise(o=>{this.modal={...this.modal,isOpen:!0,kind:"alert",title:e,message:t,confirmText:n,cancelText:"Cancel",inputValue:"",inputPlaceholder:"",inputRequired:!1,resolve:o}})},openConfirm({title:e="Confirm",message:t="",confirmText:n="Confirm",cancelText:o="Cancel"}={}){return new Promise(s=>{this.modal={...this.modal,isOpen:!0,kind:"confirm",title:e,message:t,confirmText:n,cancelText:o,inputValue:"",inputPlaceholder:"",inputRequired:!1,resolve:s}})},openPrompt({title:e="Input Needed",message:t="",confirmText:n="Save",cancelText:o="Cancel",placeholder:s="",value:r="",required:i=!1}={}){return new Promise(l=>{this.modal={...this.modal,isOpen:!0,kind:"prompt",title:e,message:t,confirmText:n,cancelText:o,inputValue:r,inputPlaceholder:s,inputRequired:i,resolve:l}})},setModalInputValue(e){this.modal.inputValue=e}}}),Nc="mongo-architect-schema";let Fr=!1;const Yp=e=>{if(typeof window>"u")return;const t={databases:e.databases,activeDatabaseId:e.activeDatabaseId,collections:e.collections,edges:e.edges,selectedItemId:e.selectedItemId,selectedItemType:e.selectedItemType,selectedCollectionId:e.selectedCollectionId,clipboard:e.clipboard};try{return window.localStorage.setItem(Nc,JSON.stringify(t)),{ok:!0}}catch(n){return{ok:!1,error:n}}},Wp=e=>{if(!e)return!1;if(e?.name==="QuotaExceededError"||e?.code===22||e?.code===1014)return!0;const t=String(e?.message||"").toLowerCase();return t.includes("quota")||t.includes("storage")},$c=(e,t)=>{const n=Number.parseInt("",10);return Number.isFinite(n)&&n>0?n:t},Br=$c(void 0,100),Xp=$c(void 0,1e3*60*10),Se={past:[],future:[],isRestoring:!1},po=e=>{const t=Date.now()-Xp;return e.filter(n=>n.createdAt>=t)},Kn=(e,t)=>{for(const n of e){if(n.id===t)return{field:n,list:e};if(n.children&&n.children.length>0){const o=Kn(n.children,t);if(o)return o}}return null},sa=(e,t)=>!e||!t?!1:!!Kn(e.data?.fields||[],t),vi=e=>e&&typeof e=="object"&&e.__raw?e.__raw:Array.isArray(e)?`[${e.map(t=>vi(t)).join(", ")}]`:e&&typeof e=="object"?`{ ${Object.entries(e).map(([n,o])=>`${n}: ${vi(o)}`).join(", ")} }`:JSON.stringify(e),Lr=e=>e==="ObjectId"?"Schema.Types.ObjectId":e,st=e=>{if(e===!0||e===!1)return e;if(e==="true")return!0;if(e==="false")return!1},zn=e=>{if(e===""||e===null||e===void 0)return;const t=Number(e);return Number.isFinite(t)?t:void 0},qp=e=>{const t=[];t.push(`type: ${Lr(e.type)}`),e.ref&&e.type==="ObjectId"&&t.push(`ref: ${JSON.stringify(e.ref)}`),e.required&&t.push("required: true"),e.unique&&t.push("unique: true"),e.index&&t.push("index: true"),e.sparse&&t.push("sparse: true"),e.immutable&&t.push("immutable: true"),typeof e.alias=="string"&&e.alias.trim()&&t.push(`alias: ${JSON.stringify(e.alias.trim())}`);const n=st(e.selectMode);if(typeof n=="boolean"&&t.push(`select: ${n}`),e.type==="String"){e.trim&&t.push("trim: true"),e.lowercase&&t.push("lowercase: true"),e.uppercase&&t.push("uppercase: true");const o=zn(e.minLength);typeof o=="number"&&o>=0&&t.push(`minLength: ${o}`);const s=zn(e.maxLength);typeof s=="number"&&s>=0&&t.push(`maxLength: ${s}`);const r=String(e.matchPattern||"").trim();if(r){const a=String(e.matchFlags||"");t.push(`match: new RegExp(${JSON.stringify(r)}, ${JSON.stringify(a)})`)}const i=Array.isArray(e.enumValues)?e.enumValues.filter(a=>String(a).trim().length>0).map(a=>String(a).trim()):[];i.length>0&&t.push(`enum: ${vi(i)}`);const l=String(e.defaultString??"").trim();l&&t.push(`default: ${JSON.stringify(l)}`)}if(e.type==="Number"){const o=zn(e.min);typeof o=="number"&&t.push(`min: ${o}`);const s=zn(e.max);typeof s=="number"&&t.push(`max: ${s}`);const r=zn(e.defaultNumber);typeof r=="number"&&t.push(`default: ${r}`)}if(e.type==="Boolean"){const o=st(e.defaultBooleanMode);typeof o=="boolean"&&t.push(`default: ${o}`)}if(e.type==="Date"){const o=e.defaultDateMode;if(o==="now")t.push("default: Date.now");else if(o==="custom"){const l=String(e.defaultDateValue||"").trim();l&&t.push(`default: new Date(${JSON.stringify(l)})`)}const s=String(e.minDate||"").trim();s&&t.push(`min: new Date(${JSON.stringify(s)})`);const r=String(e.maxDate||"").trim();r&&t.push(`max: new Date(${JSON.stringify(r)})`);const i=zn(e.expiresSeconds);typeof i=="number"&&i>=0&&t.push(`expires: ${i}`)}if(e.type==="ObjectId"){const o=String(e.defaultObjectId||"").trim();o&&t.push(`default: ${JSON.stringify(o)}`)}if(e.type==="Map"){const o=String(e.mapOfType||"").trim();o&&t.push(`of: ${Lr(o)}`)}if(e.type==="Array"){const o=String(e.arrayOfType||"").trim();o&&t.push(`of: ${Lr(o)}`)}return t},Ao=(e,t=1)=>{let n="";const o="  ".repeat(t);return e.forEach(s=>{if(s.name==="_id")return;if(s.children&&s.children.length>0){s.type==="Array"?(n+=`${o}${s.name}: [{
`,n+=Ao(s.children,t+1),n+=`${o}}],
`):(n+=`${o}${s.name}: {
`,n+=Ao(s.children,t+1),n+=`${o}},
`);return}const r=qp(s);n+=`${o}${s.name}: { ${r.join(", ")} },
`}),n},jr=(e={})=>{const t={};e.timestampsEnabled&&(e.createdAtName||e.updatedAtName?(t.timestamps={},e.createdAtName&&(t.timestamps.createdAt=e.createdAtName),e.updatedAtName&&(t.timestamps.updatedAt=e.updatedAtName)):t.timestamps=!0);const n=String(e.schemaCollectionName||"").trim();n&&(t.collection=n);const o=e.schemaStrictMode;if(o==="throw")t.strict="throw";else{const w=st(o);typeof w=="boolean"&&(t.strict=w)}const s=st(e.schemaStrictQueryMode);typeof s=="boolean"&&(t.strictQuery=s);const r=st(e.schemaAutoIndexMode);typeof r=="boolean"&&(t.autoIndex=r);const i=st(e.schemaAutoCreateMode);typeof i=="boolean"&&(t.autoCreate=i);const l=st(e.schemaIdVirtualMode);typeof l=="boolean"&&(t.id=l);const a=st(e.schemaUnderscoreIdMode);typeof a=="boolean"&&(t._id=a);const u=st(e.schemaMinimizeMode);typeof u=="boolean"&&(t.minimize=u);const c=st(e.schemaSkipVersioningMode);typeof c=="boolean"&&(t.skipVersioning=c);const d=st(e.schemaOptimisticConcurrencyMode);typeof d=="boolean"&&(t.optimisticConcurrency=d);const p=e.schemaVersionKeyMode;if(p==="disable")t.versionKey=!1;else if(p==="custom"){const w=String(e.schemaVersionKeyName||"").trim();w&&(t.versionKey=w)}if(e.schemaCappedEnabled){const w={},I=Number(e.schemaCappedSize||0),O=Number(e.schemaCappedMax||0),B=st(e.schemaCappedAutoIndexIdMode);I>0&&(w.size=I),O>0&&(w.max=O),typeof B=="boolean"&&(w.autoIndexId=B),Object.keys(w).length>0?t.capped=w:t.capped=!0}const m=String(e.schemaReadPreference||"").trim();m&&(t.read=m);const _={},C=String(e.schemaWriteConcernW||"").trim(),$=st(e.schemaWriteConcernJMode),A=Number(e.schemaWriteConcernWtimeout||0);if(C){const w=Number(C);_.w=Number.isFinite(w)&&C!==""?w:C}typeof $=="boolean"&&(_.j=$),A>0&&(_.wtimeout=A),Object.keys(_).length>0&&(t.writeConcern=_);const D=String(e.schemaCollationLocale||"").trim();if(D){const w={locale:D},I=Number(e.schemaCollationStrength||0),O=st(e.schemaCollationCaseLevelMode),B=String(e.schemaCollationCaseFirst||"").trim(),j=st(e.schemaCollationNumericOrderingMode);I>=1&&I<=5&&(w.strength=I),typeof O=="boolean"&&(w.caseLevel=O),B&&(w.caseFirst=B),typeof j=="boolean"&&(w.numericOrdering=j),t.collation=w}return t},Ur=e=>Object.keys(e).length>0?`, ${JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")}`:"",Zp=e=>e&&Array.isArray(e.collections)&&Array.isArray(e.edges),On=Ec("schema",{state:()=>Gp(Nc,{databases:[{id:"db-main",name:"MainDB"}],activeDatabaseId:"db-main",collections:[{id:"1",databaseId:"db-main",type:"collection",position:{x:250,y:5},data:{label:"Users",fields:[{id:"f1",name:"_id",type:"ObjectId",key:!0},{id:"f2",name:"username",type:"String"},{id:"f3",name:"email",type:"String"},{id:"f-addr",name:"address",type:"Object",children:[{id:"f-city",name:"city",type:"String"},{id:"f-zip",name:"zip",type:"Number"}]}]}},{id:"2",databaseId:"db-main",type:"collection",position:{x:100,y:250},data:{label:"Posts",fields:[{id:"f4",name:"_id",type:"ObjectId",key:!0},{id:"f5",name:"title",type:"String"},{id:"f6",name:"author_id",type:"ObjectId",ref:"Users"}]}}],edges:[{id:"e1-2",databaseId:"db-main",source:"1",target:"2",sourceHandle:"f1",targetHandle:"f6",animated:!0,style:{stroke:"#10b981"}}],selectedItemId:null,selectedItemType:null,selectedCollectionId:null,clipboard:null,canUndo:!1,canRedo:!1,isDirty:!1}),getters:{activeDatabase:e=>e.databases.find(t=>t.id===e.activeDatabaseId)||null,activeCollections:e=>e.collections.filter(t=>t.databaseId===e.activeDatabaseId),activeEdges:e=>e.edges.filter(t=>t.databaseId===e.activeDatabaseId),selectedItem:e=>{if(!e.selectedItemId)return null;if(e.selectedItemType==="collection")return e.collections.find(t=>t.id===e.selectedItemId);if(e.selectedItemType==="field"&&e.selectedCollectionId){const t=e.collections.find(n=>n.id===e.selectedCollectionId);if(t){const n=Kn(t.data.fields,e.selectedItemId);return n?n.field:null}}return null},getCollectionCode:e=>t=>{const n=e.collections.find(r=>r.id===t);if(!n)return"";let o=`const mongoose = require('mongoose');
const { Schema } = mongoose;

`;const s=Ur(jr(n.data));return o+=`const ${n.data.label}Schema = new Schema({
`,o+=Ao(n.data.fields),o+=`}${s});

`,o+=`const ${n.data.label} = mongoose.model('${n.data.label}', ${n.data.label}Schema);

`,o},mongooseSchemaCode:e=>{let t=`const mongoose = require('mongoose');
const { Schema } = mongoose;

`;return e.collections.forEach(n=>{const o=Ur(jr(n.data));t+=`const ${n.data.label}Schema = new Schema({
`,t+=Ao(n.data.fields),t+=`}${o});

`,t+=`const ${n.data.label} = mongoose.model('${n.data.label}', ${n.data.label}Schema);

`}),t},getCollectionsCode:e=>(t=[])=>{if(!Array.isArray(t)||t.length===0)return"";const n=new Set(t);let o=`const mongoose = require('mongoose');
const { Schema } = mongoose;

`;return e.collections.filter(s=>n.has(s.id)).forEach(s=>{const r=Ur(jr(s.data));o+=`const ${s.data.label}Schema = new Schema({
`,o+=Ao(s.data.fields),o+=`}${r});

`,o+=`const ${s.data.label} = mongoose.model('${s.data.label}', ${s.data.label}Schema);

`}),o}},actions:{pruneInvalidEdges(e=null){const t=e?this.collections.filter(s=>s.databaseId===e):this.collections,n=new Map(t.map(s=>[s.id,s])),o=this.edges.filter(s=>{if(e&&s.databaseId!==e)return!0;const r=n.get(s.source),i=n.get(s.target);return!(!r||!i||s.sourceHandle&&!sa(r,s.sourceHandle)||s.targetHandle&&!sa(i,s.targetHandle))});o.length===this.edges.length&&o.every((s,r)=>s===this.edges[r])||(this.edges=o)},persistState(){const e=Yp(this);if(e?.ok)return Fr=!1,!0;if(Wp(e?.error)&&!Fr){Fr=!0;const t=es();t.openAlert({title:"Storage Full",message:"Browser local storage is full. Please export your current project now to avoid data loss, then remove old data/import only what you need.",confirmText:"I Understand"}),t.showToast("Storage full. Export your project now.","error",5e3)}return!1},initializeDatabases(){(!Array.isArray(this.databases)||this.databases.length===0)&&(this.databases=[{id:"db-main",name:"MainDB"}]),(!this.activeDatabaseId||!this.databases.some(n=>n.id===this.activeDatabaseId))&&(this.activeDatabaseId=this.databases[0].id);const e=new Set(this.databases.map(n=>n.id)),t=this.activeDatabaseId;this.collections.forEach(n=>{(!n.databaseId||!e.has(n.databaseId))&&(n.databaseId=t)}),this.edges.forEach(n=>{if(!n.databaseId||!e.has(n.databaseId)){const o=this.collections.find(s=>s.id===n.source);n.databaseId=o?.databaseId||t}}),this.pruneInvalidEdges(),this.persistState()},addDatabase(e="New Database"){const t=`db-${Date.now()}`;return this.databases.push({id:t,name:String(e).trim()||"New Database"}),this.activeDatabaseId=t,this.clearSelections(),t},setActiveDatabase(e){this.databases.some(t=>t.id===e)&&(this.activeDatabaseId=e,this.pruneInvalidEdges(e),this.clearSelections())},updateDatabaseName(e,t){const n=this.databases.find(o=>o.id===e);n&&(n.name=String(t).trim()||n.name,this.persistState())},removeDatabase(e){return this.databases.length<=1?{success:!1,message:"At least one database is required."}:this.databases.some(n=>n.id===e)?(this.recordHistory(),this.databases=this.databases.filter(n=>n.id!==e),this.collections=this.collections.filter(n=>n.databaseId!==e),this.edges=this.edges.filter(n=>n.databaseId!==e),this.activeDatabaseId===e&&(this.activeDatabaseId=this.databases[0].id),this.clearSelections(),this.syncHistoryState(),{success:!0}):{success:!1,message:"Database not found."}},syncHistoryState(){Se.past=po(Se.past),Se.future=po(Se.future),this.canUndo=Se.past.length>0,this.canRedo=Se.future.length>0,this.isDirty=this.canUndo||this.canRedo,this.persistState()},initializeHistory(){Se.past=[],Se.future=[],Se.isRestoring=!1,this.syncHistoryState()},getHistorySnapshot(){return JSON.stringify({databases:this.databases,activeDatabaseId:this.activeDatabaseId,collections:this.collections,edges:this.edges})},applyHistorySnapshot(e){const t=JSON.parse(e);this.databases=t.databases||this.databases,this.activeDatabaseId=t.activeDatabaseId||this.activeDatabaseId,this.collections=t.collections||[],this.edges=t.edges||[],this.initializeDatabases(),this.selectItem(null,null,null)},recordHistory(){if(Se.isRestoring)return;const e=this.getHistorySnapshot();Se.past[Se.past.length-1]?.snapshot!==e&&(Se.past=po(Se.past),Se.past.push({snapshot:e,createdAt:Date.now()}),Se.past.length>Br&&Se.past.shift(),Se.future=[],this.syncHistoryState())},undo(){if(!Se.past.length)return!1;const e=this.getHistorySnapshot(),t=Se.past.pop()?.snapshot;return t?(Se.future=po(Se.future),Se.future.push({snapshot:e,createdAt:Date.now()}),Se.future.length>Br&&Se.future.shift(),Se.isRestoring=!0,this.applyHistorySnapshot(t),Se.isRestoring=!1,this.syncHistoryState(),!0):!1},redo(){if(!Se.future.length)return!1;const e=this.getHistorySnapshot(),t=Se.future.pop()?.snapshot;return t?(Se.past=po(Se.past),Se.past.push({snapshot:e,createdAt:Date.now()}),Se.past.length>Br&&Se.past.shift(),Se.isRestoring=!0,this.applyHistorySnapshot(t),Se.isRestoring=!1,this.syncHistoryState(),!0):!1},clearSelections(){this.collections.forEach(e=>{e.selected=!1}),this.edges.forEach(e=>{e.selected=!1}),this.selectItem(null,null,null),this.syncHistoryState()},setCollectionSelection(e,t=!1){const n=this.collections.find(i=>i.id===e);if(!n||n.databaseId!==this.activeDatabaseId)return;if(!t){this.collections.forEach(i=>{i.selected=i.id===e}),this.edges.forEach(i=>{i.selected=!1}),this.selectItem(e,"collection");return}const o=this.collections.filter(i=>i.selected&&i.databaseId===this.activeDatabaseId);if(n.selected&&o.length===1){this.selectItem(n.id,"collection");return}n.selected=!n.selected;const r=this.collections.filter(i=>i.selected&&i.databaseId===this.activeDatabaseId);r.length===1?this.selectItem(r[0].id,"collection"):this.selectItem(null,null,null)},exportProject(){return JSON.stringify({version:1,exportedAt:new Date().toISOString(),databases:this.databases,activeDatabaseId:this.activeDatabaseId,collections:this.collections,edges:this.edges},null,2)},importProject(e){let t;try{t=typeof e=="string"?JSON.parse(e):e}catch{return{success:!1,message:"Invalid JSON format."}}return Zp(t)?(this.recordHistory(),Array.isArray(t.databases)&&t.databases.length>0&&(this.databases=t.databases),this.collections=t.collections,this.edges=t.edges,this.activeDatabaseId=t.activeDatabaseId||this.databases[0]?.id||"db-main",this.initializeDatabases(),this.pruneInvalidEdges(),this.selectItem(null,null,null),this.clipboard=null,this.syncHistoryState(),{success:!0}):{success:!1,message:"Invalid project file structure."}},selectItem(e,t,n=null){this.selectedItemId=e,this.selectedItemType=t,this.selectedCollectionId=n},updateCollectionProps(e,t){const n=this.collections.find(o=>o.id===e);n&&(this.recordHistory(),Object.assign(n.data,t),this.syncHistoryState())},updateFieldProps(e,t,n){const o=this.collections.find(s=>s.id===e);if(o){const s=Kn(o.data.fields,t);s&&(this.recordHistory(),Object.assign(s.field,n),this.syncHistoryState())}},addCollection(e){this.recordHistory(),e.databaseId=e.databaseId||this.activeDatabaseId,this.collections.push(e),this.pruneInvalidEdges(e.databaseId),this.syncHistoryState()},updateCollectionPosition(e,t){const n=this.collections.findIndex(o=>o.id===e);n!==-1&&(this.recordHistory(),this.collections[n].position=t,this.syncHistoryState())},addField(e,t){const n=this.collections.find(o=>o.id===e);n&&(this.recordHistory(),n.data.fields.push(t),this.syncHistoryState())},addChildField(e,t,n){const o=this.collections.find(s=>s.id===e);if(o){const s=Kn(o.data.fields,t);s&&(this.recordHistory(),s.field.children||(s.field.children=[]),s.field.children.push(n),this.syncHistoryState())}},removeField(e,t){const n=this.collections.find(o=>o.id===e);if(n){this.recordHistory();const o=s=>{const r=s.findIndex(i=>i.id===t);if(r!==-1)return s.splice(r,1),!0;for(const i of s)if(i.children&&i.children.length>0&&o(i.children))return!0;return!1};o(n.data.fields),this.pruneInvalidEdges(n.databaseId),this.selectedItemId===t&&this.selectItem(null,null),this.syncHistoryState()}},removeCollection(e){this.recordHistory();const n=this.collections.find(o=>o.id===e)?.databaseId||this.activeDatabaseId;this.collections=this.collections.filter(o=>o.id!==e),this.edges=this.edges.filter(o=>o.source!==e&&o.target!==e),this.pruneInvalidEdges(n),this.selectedItemId===e&&this.selectItem(null,null),this.syncHistoryState()},removeCollections(e=[]){if(!Array.isArray(e)||e.length===0)return;this.recordHistory();const t=new Set(e),n=new Set(this.collections.filter(o=>t.has(o.id)).map(o=>o.databaseId));this.collections=this.collections.filter(o=>!t.has(o.id)),this.edges=this.edges.filter(o=>!t.has(o.source)&&!t.has(o.target)),n.forEach(o=>this.pruneInvalidEdges(o)),this.selectItem(null,null,null),this.syncHistoryState()},reorderField(e,t,n,o){const s=this.collections.find(i=>i.id===e);if(!s)return;let r=s.data.fields;if(t){const i=Kn(s.data.fields,t);if(i&&i.field.children)r=i.field.children;else return}if(o>=0&&o<r.length){this.recordHistory();const[i]=r.splice(n,1);r.splice(o,0,i),this.syncHistoryState()}},removeEdge(e){this.recordHistory(),this.edges=this.edges.filter(t=>t.id!==e),this.selectedItemId===e&&this.selectItem(null,null),this.syncHistoryState()},copyNode(e){const t=this.collections.find(n=>n.id===e);t&&(this.clipboard=JSON.parse(JSON.stringify(t)))},pasteNode(){if(!this.clipboard)return;this.recordHistory();const e=`col-${Date.now()}`,t=JSON.parse(JSON.stringify(this.clipboard));t.id=e,t.position={x:t.position.x+20,y:t.position.y+20};const n=o=>{o.forEach(s=>{s.id=`f-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,s.children&&n(s.children)})};n(t.data.fields),this.collections.push(t),this.selectItem(e,"collection"),this.syncHistoryState()}}});const Jp=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const ra=e=>e==="";const Qp=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();const ia=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const eg=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,o)=>o?o.toUpperCase():n.toLowerCase());const tg=e=>{const t=eg(e);return t.charAt(0).toUpperCase()+t.slice(1)};var go={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const ng=({name:e,iconNode:t,absoluteStrokeWidth:n,"absolute-stroke-width":o,strokeWidth:s,"stroke-width":r,size:i=go.width,color:l=go.stroke,...a},{slots:u})=>Ne("svg",{...go,...a,width:i,height:i,stroke:l,"stroke-width":ra(n)||ra(o)||n===!0||o===!0?Number(s||r||go["stroke-width"])*24/Number(i):s||r||go["stroke-width"],class:Qp("lucide",a.class,...e?[`lucide-${ia(tg(e))}-icon`,`lucide-${ia(e)}`]:["lucide-icon"]),...!u.default&&!Jp(a)&&{"aria-hidden":"true"}},[...t.map(c=>Ne(...c)),...u.default?[u.default()]:[]]);const qe=(e,t)=>(n,{slots:o,attrs:s})=>Ne(ng,{...s,...n,iconNode:t,name:e},o);const og=qe("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Mc=qe("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);const kc=qe("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Tc=qe("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Ac=qe("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);const sg=qe("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const rg=qe("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const ig=qe("panel-left-close",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);const lg=qe("panel-left-open",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);const Bs=qe("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const ag=qe("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);const ug=qe("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const cg=qe("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);const In=qe("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const dg=qe("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);const fg=qe("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);const Dc=qe("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hg={class:"w-64 bg-[#1e1e1e] border-r border-gray-700 flex flex-col h-full"},pg={class:"p-4 border-b border-gray-700 flex items-center gap-2"},gg={class:"p-4 space-y-4 flex-1 overflow-y-auto"},mg={class:"space-y-2"},vg={class:"flex gap-2"},yg=["value"],bg=["value"],xg={class:"space-y-2"},wg=["onClick"],_g={class:"text-sm truncate flex-1"},Sg={class:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"},Cg=["onClick"],Eg=["onClick"],Ig={class:"space-y-2"},Ng={__name:"Sidebar",emits:["export-collection","toggle-sidebar"],setup(e,{emit:t}){const n=On(),o=es(),s=xe(null),r=()=>{if(!n.activeDatabaseId)return;const _=Date.now().toString();n.addCollection({id:_,type:"collection",position:{x:Math.random()*400,y:Math.random()*400},data:{label:"New Collection",fields:[{id:`f-${Date.now()}-1`,name:"_id",type:"ObjectId",key:!0}]}}),n.selectItem(_,"collection")},i=async()=>{const _=await o.openPrompt({title:"Create Database",message:"Enter database name:",value:"NewDatabase",placeholder:"Database name",required:!0,confirmText:"Create"});_!==null&&(n.addDatabase(_),o.showToast(`Database "${_}" created.`,"success"))},l=_=>{n.setActiveDatabase(_.target.value)},a=async()=>{const _=n.activeDatabase;if(!_||!await o.openConfirm({title:"Delete Database",message:`Delete database "${_.name}" and all its collections?`,confirmText:"Delete"}))return;const $=n.removeDatabase(_.id);if(!$.success&&$.message){o.showToast($.message,"error");return}o.showToast(`Database "${_.name}" deleted.`,"success")},u=(_,C)=>{const $=_.shiftKey||_.metaKey||_.ctrlKey;n.setCollectionSelection(C,$)},c=async _=>{await o.openConfirm({title:"Delete Collection",message:"Are you sure you want to delete this collection?",confirmText:"Delete"})&&(n.removeCollection(_),o.showToast("Collection deleted.","success"))},d=()=>{const _=n.exportProject(),C=new Blob([_],{type:"application/json"}),$=URL.createObjectURL(C),A=document.createElement("a");A.href=$,A.download=`mongo-diagram-project-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(A),A.click(),A.remove(),URL.revokeObjectURL($)},p=()=>{s.value?.click()},m=async _=>{const C=_.target.files?.[0];if(C)try{const $=await C.text(),A=n.importProject($);if(!A.success){o.showToast(`Import failed: ${A.message}`,"error");return}o.showToast("Project imported successfully.","success")}catch{o.showToast("Import failed: unable to read file.","error")}finally{_.target.value=""}};return(_,C)=>(F(),X("aside",hg,[b("div",pg,[C[1]||(C[1]=b("div",{class:"w-8 h-8 rounded bg-emerald-500 flex items-center justify-center text-white font-bold"}," M ",-1)),C[2]||(C[2]=b("h1",{class:"text-white font-bold text-lg flex-1"},"Mongo Diagram",-1)),b("button",{onClick:C[0]||(C[0]=$=>_.$emit("toggle-sidebar")),class:"p-1.5 rounded hover:bg-[#2a2a2a] text-gray-400 hover:text-white transition-colors",title:"Hide Sidebar"},[se(L(ig),{size:16})])]),b("div",gg,[b("div",mg,[C[3]||(C[3]=b("p",{class:"text-xs font-bold text-gray-500 uppercase tracking-wider"},"Database",-1)),b("div",vg,[b("select",{value:L(n).activeDatabaseId,onChange:l,class:"flex-1 bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1.5 text-white text-sm focus:border-emerald-500 focus:outline-none"},[(F(!0),X(ce,null,Te(L(n).databases,$=>(F(),X("option",{key:$.id,value:$.id},Ce($.name),9,bg))),128))],40,yg),b("button",{onClick:i,class:"px-2 py-1.5 rounded bg-[#2d2d2d] hover:bg-[#3d3d3d] text-gray-300 border border-gray-600/70",title:"Create Database"},[se(L(Bs),{size:14})]),b("button",{onClick:a,class:"px-2 py-1.5 rounded bg-red-900/30 hover:bg-red-900/50 text-red-300 border border-red-900/60",title:"Delete Active Database"},[se(L(In),{size:14})])])]),b("div",xg,[C[5]||(C[5]=b("p",{class:"text-xs font-bold text-gray-500 uppercase tracking-wider"},"Collections",-1)),(F(!0),X(ce,null,Te(L(n).activeCollections,$=>(F(),X("div",{key:$.id,onClick:A=>u(A,$.id),class:Ee(["flex items-center gap-2 p-2 rounded cursor-pointer transition-colors group",$.selected||L(n).selectedItemId===$.id?"bg-[#2a2a2a] text-emerald-400":"hover:bg-[#2a2a2a] text-gray-300 hover:text-white"])},[se(L(Tc),{size:16}),b("span",_g,Ce($.data.label),1),b("div",Sg,[b("button",{onClick:at(A=>_.$emit("export-collection",$.id),["stop"]),class:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Export Code"},[se(L(Mc),{size:12})],8,Cg),b("button",{onClick:at(A=>c($.id),["stop"]),class:"p-1 hover:bg-red-900/50 rounded text-gray-400 hover:text-red-400",title:"Delete Collection"},[se(L(In),{size:12})],8,Eg)])],10,wg))),128)),b("button",{onClick:r,class:"w-full mt-2 flex items-center justify-center gap-2 p-2 bg-[#2d2d2d] hover:bg-[#3d3d3d] rounded text-sm text-gray-300 transition-colors border border-gray-600 border-dashed"},[se(L(Bs),{size:16}),C[4]||(C[4]=Ye(" New Collection ",-1))])]),b("div",Ig,[C[8]||(C[8]=b("p",{class:"text-xs font-bold text-gray-500 uppercase tracking-wider"},"Project",-1)),b("button",{onClick:d,class:"w-full flex items-center gap-2 p-2 rounded hover:bg-[#2a2a2a] text-gray-300 hover:text-white transition-colors text-left"},[se(L(Ac),{size:16}),C[6]||(C[6]=b("span",{class:"text-sm"},"Export Project (.json)",-1))]),b("button",{onClick:p,class:"w-full flex items-center gap-2 p-2 rounded hover:bg-[#2a2a2a] text-gray-300 hover:text-white transition-colors text-left"},[se(L(fg),{size:16}),C[7]||(C[7]=b("span",{class:"text-sm"},"Import Project (.json)",-1))]),b("input",{ref_key:"importInput",ref:s,type:"file",accept:".json,application/json",class:"hidden",onChange:m},null,544)])]),C[9]||(C[9]=b("div",{class:"p-4 border-t border-gray-700 text-xs text-gray-500 text-center"}," v1.0.0 ",-1))]))}};function Lo(e){return sr()?(Co(e),!0):!1}function Gt(e){return typeof e=="function"?e():L(e)}const $g=typeof window<"u"&&typeof document<"u",Mg=e=>typeof e<"u",kg=Object.prototype.toString,Tg=e=>kg.call(e)==="[object Object]",Ag=()=>{};function Dg(e,t){function n(...o){return new Promise((s,r)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(s).catch(r)})}return n}const Oc=e=>e();function Og(e=Oc){const t=xe(!0);function n(){t.value=!1}function o(){t.value=!0}return{isActive:Qn(t),pause:n,resume:o,eventFilter:(...r)=>{t.value&&e(...r)}}}function la(e,t=!1,n="Timeout"){return new Promise((o,s)=>{setTimeout(t?()=>s(n):o,e)})}function Pg(e,t,n={}){const{eventFilter:o=Oc,...s}=n;return ye(e,Dg(o,t),s)}function Hn(e,t,n={}){const{eventFilter:o,...s}=n,{eventFilter:r,pause:i,resume:l,isActive:a}=Og(o);return{stop:Pg(e,t,{...s,eventFilter:r}),pause:i,resume:l,isActive:a}}function Rg(e,t={}){if(!He(e))return Su(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=_u(()=>({get(){return e.value[o]},set(s){var r;if((r=Gt(t.replaceRef))!=null?r:!0)if(Array.isArray(e.value)){const l=[...e.value];l[o]=s,e.value=l}else{const l={...e.value,[o]:s};Object.setPrototypeOf(l,Object.getPrototypeOf(e.value)),e.value=l}else e.value[o]=s}}));return n}function yi(e,t=!1){function n(d,{flush:p="sync",deep:m=!1,timeout:_,throwOnTimeout:C}={}){let $=null;const D=[new Promise(w=>{$=ye(e,I=>{d(I)!==t&&($?.(),w(I))},{flush:p,deep:m,immediate:!0})})];return _!=null&&D.push(la(_,C).then(()=>Gt(e)).finally(()=>$?.())),Promise.race(D)}function o(d,p){if(!He(d))return n(I=>I===d,p);const{flush:m="sync",deep:_=!1,timeout:C,throwOnTimeout:$}=p??{};let A=null;const w=[new Promise(I=>{A=ye([e,d],([O,B])=>{t!==(O===B)&&(A?.(),I(O))},{flush:m,deep:_,immediate:!0})})];return C!=null&&w.push(la(C,$).then(()=>Gt(e)).finally(()=>(A?.(),Gt(e)))),Promise.race(w)}function s(d){return n(p=>!!p,d)}function r(d){return o(null,d)}function i(d){return o(void 0,d)}function l(d){return n(Number.isNaN,d)}function a(d,p){return n(m=>{const _=Array.from(m);return _.includes(d)||_.includes(Gt(d))},p)}function u(d){return c(1,d)}function c(d=1,p){let m=-1;return n(()=>(m+=1,m>=d),p)}return Array.isArray(Gt(e))?{toMatch:n,toContains:a,changed:u,changedTimes:c,get not(){return yi(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:s,toBeNull:r,toBeNaN:l,toBeUndefined:i,changed:u,changedTimes:c,get not(){return yi(e,!t)}}}function bi(e){return yi(e)}function zg(e){var t;const n=Gt(e);return(t=n?.$el)!=null?t:n}const Pc=$g?window:void 0;function Rc(...e){let t,n,o,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,s]=e,t=Pc):[t,n,o,s]=e,!t)return Ag;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const r=[],i=()=>{r.forEach(c=>c()),r.length=0},l=(c,d,p,m)=>(c.addEventListener(d,p,m),()=>c.removeEventListener(d,p,m)),a=ye(()=>[zg(t),Gt(s)],([c,d])=>{if(i(),!c)return;const p=Tg(d)?{...d}:d;r.push(...n.flatMap(m=>o.map(_=>l(c,m,_,p))))},{immediate:!0,flush:"post"}),u=()=>{a(),i()};return Lo(u),u}function Hg(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function aa(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:s=Pc,eventName:r="keydown",passive:i=!1,dedupe:l=!1}=o,a=Hg(t);return Rc(s,r,c=>{c.repeat&&Gt(l)||a(c)&&n(c)},i)}function Vg(e){return JSON.parse(JSON.stringify(e))}function Kr(e,t,n,o={}){var s,r,i;const{clone:l=!1,passive:a=!1,eventName:u,deep:c=!1,defaultValue:d,shouldEmit:p}=o,m=Ct(),_=n||m?.emit||((s=m?.$emit)==null?void 0:s.bind(m))||((i=(r=m?.proxy)==null?void 0:r.$emit)==null?void 0:i.bind(m?.proxy));let C=u;t||(t="modelValue"),C=C||`update:${t.toString()}`;const $=w=>l?typeof l=="function"?l(w):Vg(w):w,A=()=>Mg(e[t])?$(e[t]):d,D=w=>{p?p(w)&&_(C,w):_(C,w)};if(a){const w=A(),I=xe(w);let O=!1;return ye(()=>e[t],B=>{O||(O=!0,I.value=$(B),ct(()=>O=!1))}),ye(I,B=>{!O&&(B!==e[t]||c)&&D(B)},{deep:c}),I}else return ue({get(){return A()},set(w){D(w)}})}var Fg={value:()=>{}};function gr(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Es(n)}function Es(e){this._=e}function Bg(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",s=n.indexOf(".");if(s>=0&&(o=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Es.prototype=gr.prototype={constructor:Es,on:function(e,t){var n=this._,o=Bg(e+"",n),s,r=-1,i=o.length;if(arguments.length<2){for(;++r<i;)if((s=(e=o[r]).type)&&(s=Lg(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<i;)if(s=(e=o[r]).type)n[s]=ua(n[s],e.name,t);else if(t==null)for(s in n)n[s]=ua(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Es(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),o=0,s,r;o<s;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],s=0,r=o.length;s<r;++s)o[s].value.apply(t,n)}};function Lg(e,t){for(var n=0,o=e.length,s;n<o;++n)if((s=e[n]).name===t)return s.value}function ua(e,t,n){for(var o=0,s=e.length;o<s;++o)if(e[o].name===t){e[o]=Fg,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var xi="http://www.w3.org/1999/xhtml";const ca={svg:"http://www.w3.org/2000/svg",xhtml:xi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ca.hasOwnProperty(t)?{space:ca[t],local:e}:e}function jg(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xi&&t.documentElement.namespaceURI===xi?t.createElement(e):t.createElementNS(n,e)}}function Ug(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function zc(e){var t=mr(e);return(t.local?Ug:jg)(t)}function Kg(){}function Ji(e){return e==null?Kg:function(){return this.querySelector(e)}}function Gg(e){typeof e!="function"&&(e=Ji(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var r=t[s],i=r.length,l=o[s]=new Array(i),a,u,c=0;c<i;++c)(a=r[c])&&(u=e.call(a,a.__data__,c,r))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new pt(o,this._parents)}function Yg(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Wg(){return[]}function Hc(e){return e==null?Wg:function(){return this.querySelectorAll(e)}}function Xg(e){return function(){return Yg(e.apply(this,arguments))}}function qg(e){typeof e=="function"?e=Xg(e):e=Hc(e);for(var t=this._groups,n=t.length,o=[],s=[],r=0;r<n;++r)for(var i=t[r],l=i.length,a,u=0;u<l;++u)(a=i[u])&&(o.push(e.call(a,a.__data__,u,i)),s.push(a));return new pt(o,s)}function Vc(e){return function(){return this.matches(e)}}function Fc(e){return function(t){return t.matches(e)}}var Zg=Array.prototype.find;function Jg(e){return function(){return Zg.call(this.children,e)}}function Qg(){return this.firstElementChild}function em(e){return this.select(e==null?Qg:Jg(typeof e=="function"?e:Fc(e)))}var tm=Array.prototype.filter;function nm(){return Array.from(this.children)}function om(e){return function(){return tm.call(this.children,e)}}function sm(e){return this.selectAll(e==null?nm:om(typeof e=="function"?e:Fc(e)))}function rm(e){typeof e!="function"&&(e=Vc(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var r=t[s],i=r.length,l=o[s]=[],a,u=0;u<i;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&l.push(a);return new pt(o,this._parents)}function Bc(e){return new Array(e.length)}function im(){return new pt(this._enter||this._groups.map(Bc),this._parents)}function Ls(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ls.prototype={constructor:Ls,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function lm(e){return function(){return e}}function am(e,t,n,o,s,r){for(var i=0,l,a=t.length,u=r.length;i<u;++i)(l=t[i])?(l.__data__=r[i],o[i]=l):n[i]=new Ls(e,r[i]);for(;i<a;++i)(l=t[i])&&(s[i]=l)}function um(e,t,n,o,s,r,i){var l,a,u=new Map,c=t.length,d=r.length,p=new Array(c),m;for(l=0;l<c;++l)(a=t[l])&&(p[l]=m=i.call(a,a.__data__,l,t)+"",u.has(m)?s[l]=a:u.set(m,a));for(l=0;l<d;++l)m=i.call(e,r[l],l,r)+"",(a=u.get(m))?(o[l]=a,a.__data__=r[l],u.delete(m)):n[l]=new Ls(e,r[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(p[l])===a&&(s[l]=a)}function cm(e){return e.__data__}function dm(e,t){if(!arguments.length)return Array.from(this,cm);var n=t?um:am,o=this._parents,s=this._groups;typeof e!="function"&&(e=lm(e));for(var r=s.length,i=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var c=o[u],d=s[u],p=d.length,m=fm(e.call(c,c&&c.__data__,u,o)),_=m.length,C=l[u]=new Array(_),$=i[u]=new Array(_),A=a[u]=new Array(p);n(c,d,C,$,A,m,t);for(var D=0,w=0,I,O;D<_;++D)if(I=C[D]){for(D>=w&&(w=D+1);!(O=$[w])&&++w<_;);I._next=O||null}}return i=new pt(i,o),i._enter=l,i._exit=a,i}function fm(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hm(){return new pt(this._exit||this._groups.map(Bc),this._parents)}function pm(e,t,n){var o=this.enter(),s=this,r=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?r.remove():n(r),o&&s?o.merge(s).order():s}function gm(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,s=n.length,r=o.length,i=Math.min(s,r),l=new Array(s),a=0;a<i;++a)for(var u=n[a],c=o[a],d=u.length,p=l[a]=new Array(d),m,_=0;_<d;++_)(m=u[_]||c[_])&&(p[_]=m);for(;a<s;++a)l[a]=n[a];return new pt(l,this._parents)}function mm(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],s=o.length-1,r=o[s],i;--s>=0;)(i=o[s])&&(r&&i.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(i,r),r=i);return this}function vm(e){e||(e=ym);function t(d,p){return d&&p?e(d.__data__,p.__data__):!d-!p}for(var n=this._groups,o=n.length,s=new Array(o),r=0;r<o;++r){for(var i=n[r],l=i.length,a=s[r]=new Array(l),u,c=0;c<l;++c)(u=i[c])&&(a[c]=u);a.sort(t)}return new pt(s,this._parents).order()}function ym(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bm(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function xm(){return Array.from(this)}function wm(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],s=0,r=o.length;s<r;++s){var i=o[s];if(i)return i}return null}function _m(){let e=0;for(const t of this)++e;return e}function Sm(){return!this.node()}function Cm(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var s=t[n],r=0,i=s.length,l;r<i;++r)(l=s[r])&&e.call(l,l.__data__,r,s);return this}function Em(e){return function(){this.removeAttribute(e)}}function Im(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Nm(e,t){return function(){this.setAttribute(e,t)}}function $m(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Mm(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function km(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Tm(e,t){var n=mr(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Im:Em:typeof t=="function"?n.local?km:Mm:n.local?$m:Nm)(n,t))}function Lc(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Am(e){return function(){this.style.removeProperty(e)}}function Dm(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Om(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Pm(e,t,n){return arguments.length>1?this.each((t==null?Am:typeof t=="function"?Om:Dm)(e,t,n??"")):oo(this.node(),e)}function oo(e,t){return e.style.getPropertyValue(t)||Lc(e).getComputedStyle(e,null).getPropertyValue(t)}function Rm(e){return function(){delete this[e]}}function zm(e,t){return function(){this[e]=t}}function Hm(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Vm(e,t){return arguments.length>1?this.each((t==null?Rm:typeof t=="function"?Hm:zm)(e,t)):this.node()[e]}function jc(e){return e.trim().split(/^|\s+/)}function Qi(e){return e.classList||new Uc(e)}function Uc(e){this._node=e,this._names=jc(e.getAttribute("class")||"")}Uc.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Kc(e,t){for(var n=Qi(e),o=-1,s=t.length;++o<s;)n.add(t[o])}function Gc(e,t){for(var n=Qi(e),o=-1,s=t.length;++o<s;)n.remove(t[o])}function Fm(e){return function(){Kc(this,e)}}function Bm(e){return function(){Gc(this,e)}}function Lm(e,t){return function(){(t.apply(this,arguments)?Kc:Gc)(this,e)}}function jm(e,t){var n=jc(e+"");if(arguments.length<2){for(var o=Qi(this.node()),s=-1,r=n.length;++s<r;)if(!o.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Lm:t?Fm:Bm)(n,t))}function Um(){this.textContent=""}function Km(e){return function(){this.textContent=e}}function Gm(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ym(e){return arguments.length?this.each(e==null?Um:(typeof e=="function"?Gm:Km)(e)):this.node().textContent}function Wm(){this.innerHTML=""}function Xm(e){return function(){this.innerHTML=e}}function qm(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Zm(e){return arguments.length?this.each(e==null?Wm:(typeof e=="function"?qm:Xm)(e)):this.node().innerHTML}function Jm(){this.nextSibling&&this.parentNode.appendChild(this)}function Qm(){return this.each(Jm)}function ev(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tv(){return this.each(ev)}function nv(e){var t=typeof e=="function"?e:zc(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ov(){return null}function sv(e,t){var n=typeof e=="function"?e:zc(e),o=t==null?ov:typeof t=="function"?t:Ji(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function rv(){var e=this.parentNode;e&&e.removeChild(this)}function iv(){return this.each(rv)}function lv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function av(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uv(e){return this.select(e?av:lv)}function cv(e){return arguments.length?this.property("__data__",e):this.node().__data__}function dv(e){return function(t){e.call(this,t,this.__data__)}}function fv(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function hv(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,s=t.length,r;n<s;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++o]=r;++o?t.length=o:delete this.__on}}}function pv(e,t,n){return function(){var o=this.__on,s,r=dv(t);if(o){for(var i=0,l=o.length;i<l;++i)if((s=o[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=r,s.options=n),s.value=t;return}}this.addEventListener(e.type,r,n),s={type:e.type,name:e.name,value:t,listener:r,options:n},o?o.push(s):this.__on=[s]}}function gv(e,t,n){var o=fv(e+""),s,r=o.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(s=0,c=l[a];s<r;++s)if((i=o[s]).type===c.type&&i.name===c.name)return c.value}return}for(l=t?pv:hv,s=0;s<r;++s)this.each(l(o[s],t,n));return this}function Yc(e,t,n){var o=Lc(e),s=o.CustomEvent;typeof s=="function"?s=new s(t,n):(s=o.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function mv(e,t){return function(){return Yc(this,e,t)}}function vv(e,t){return function(){return Yc(this,e,t.apply(this,arguments))}}function yv(e,t){return this.each((typeof t=="function"?vv:mv)(e,t))}function*bv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],s=0,r=o.length,i;s<r;++s)(i=o[s])&&(yield i)}var Wc=[null];function pt(e,t){this._groups=e,this._parents=t}function ts(){return new pt([[document.documentElement]],Wc)}function xv(){return this}pt.prototype=ts.prototype={constructor:pt,select:Gg,selectAll:qg,selectChild:em,selectChildren:sm,filter:rm,data:dm,enter:im,exit:hm,join:pm,merge:gm,selection:xv,order:mm,sort:vm,call:bm,nodes:xm,node:wm,size:_m,empty:Sm,each:Cm,attr:Tm,style:Pm,property:Vm,classed:jm,text:Ym,html:Zm,raise:Qm,lower:tv,append:nv,insert:sv,remove:iv,clone:uv,datum:cv,on:gv,dispatch:yv,[Symbol.iterator]:bv};function vt(e){return typeof e=="string"?new pt([[document.querySelector(e)]],[document.documentElement]):new pt([[e]],Wc)}function wv(e){let t;for(;t=e.sourceEvent;)e=t;return e}function At(e,t){if(e=wv(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const _v={passive:!1},jo={capture:!0,passive:!1};function Gr(e){e.stopImmediatePropagation()}function qn(e){e.preventDefault(),e.stopImmediatePropagation()}function Xc(e){var t=e.document.documentElement,n=vt(e).on("dragstart.drag",qn,jo);"onselectstart"in t?n.on("selectstart.drag",qn,jo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function qc(e,t){var n=e.document.documentElement,o=vt(e).on("dragstart.drag",null);t&&(o.on("click.drag",qn,jo),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const cs=e=>()=>e;function wi(e,{sourceEvent:t,subject:n,target:o,identifier:s,active:r,x:i,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}wi.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Sv(e){return!e.ctrlKey&&!e.button}function Cv(){return this.parentNode}function Ev(e,t){return t??{x:e.x,y:e.y}}function Iv(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nv(){var e=Sv,t=Cv,n=Ev,o=Iv,s={},r=gr("start","drag","end"),i=0,l,a,u,c,d=0;function p(I){I.on("mousedown.drag",m).filter(o).on("touchstart.drag",$).on("touchmove.drag",A,_v).on("touchend.drag touchcancel.drag",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(I,O){if(!(c||!e.call(this,I,O))){var B=w(this,t.call(this,I,O),I,O,"mouse");B&&(vt(I.view).on("mousemove.drag",_,jo).on("mouseup.drag",C,jo),Xc(I.view),Gr(I),u=!1,l=I.clientX,a=I.clientY,B("start",I))}}function _(I){if(qn(I),!u){var O=I.clientX-l,B=I.clientY-a;u=O*O+B*B>d}s.mouse("drag",I)}function C(I){vt(I.view).on("mousemove.drag mouseup.drag",null),qc(I.view,u),qn(I),s.mouse("end",I)}function $(I,O){if(e.call(this,I,O)){var B=I.changedTouches,j=t.call(this,I,O),f=B.length,h,G;for(h=0;h<f;++h)(G=w(this,j,I,O,B[h].identifier,B[h]))&&(Gr(I),G("start",I,B[h]))}}function A(I){var O=I.changedTouches,B=O.length,j,f;for(j=0;j<B;++j)(f=s[O[j].identifier])&&(qn(I),f("drag",I,O[j]))}function D(I){var O=I.changedTouches,B=O.length,j,f;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),j=0;j<B;++j)(f=s[O[j].identifier])&&(Gr(I),f("end",I,O[j]))}function w(I,O,B,j,f,h){var G=r.copy(),K=At(h||B,O),N,q,y;if((y=n.call(I,new wi("beforestart",{sourceEvent:B,target:p,identifier:f,active:i,x:K[0],y:K[1],dx:0,dy:0,dispatch:G}),j))!=null)return N=y.x-K[0]||0,q=y.y-K[1]||0,function P(T,R,U){var J=K,Q;switch(T){case"start":s[f]=P,Q=i++;break;case"end":delete s[f],--i;case"drag":K=At(U||R,O),Q=i;break}G.call(T,I,new wi(T,{sourceEvent:R,subject:y,target:p,identifier:f,active:Q,x:K[0]+N,y:K[1]+q,dx:K[0]-J[0],dy:K[1]-J[1],dispatch:G}),j)}}return p.filter=function(I){return arguments.length?(e=typeof I=="function"?I:cs(!!I),p):e},p.container=function(I){return arguments.length?(t=typeof I=="function"?I:cs(I),p):t},p.subject=function(I){return arguments.length?(n=typeof I=="function"?I:cs(I),p):n},p.touchable=function(I){return arguments.length?(o=typeof I=="function"?I:cs(!!I),p):o},p.on=function(){var I=r.on.apply(r,arguments);return I===r?p:I},p.clickDistance=function(I){return arguments.length?(d=(I=+I)*I,p):Math.sqrt(d)},p}function el(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Zc(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function ns(){}var Uo=.7,js=1/Uo,Zn="\\s*([+-]?\\d+)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$v=/^#([0-9a-f]{3,8})$/,Mv=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),kv=new RegExp(`^rgb\\(${zt},${zt},${zt}\\)$`),Tv=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${Ko}\\)$`),Av=new RegExp(`^rgba\\(${zt},${zt},${zt},${Ko}\\)$`),Dv=new RegExp(`^hsl\\(${Ko},${zt},${zt}\\)$`),Ov=new RegExp(`^hsla\\(${Ko},${zt},${zt},${Ko}\\)$`),da={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};el(ns,Tn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fa,formatHex:fa,formatHex8:Pv,formatHsl:Rv,formatRgb:ha,toString:ha});function fa(){return this.rgb().formatHex()}function Pv(){return this.rgb().formatHex8()}function Rv(){return Jc(this).formatHsl()}function ha(){return this.rgb().formatRgb()}function Tn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$v.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?pa(t):n===3?new ut(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ds(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ds(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mv.exec(e))?new ut(t[1],t[2],t[3],1):(t=kv.exec(e))?new ut(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Tv.exec(e))?ds(t[1],t[2],t[3],t[4]):(t=Av.exec(e))?ds(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Dv.exec(e))?va(t[1],t[2]/100,t[3]/100,1):(t=Ov.exec(e))?va(t[1],t[2]/100,t[3]/100,t[4]):da.hasOwnProperty(e)?pa(da[e]):e==="transparent"?new ut(NaN,NaN,NaN,0):null}function pa(e){return new ut(e>>16&255,e>>8&255,e&255,1)}function ds(e,t,n,o){return o<=0&&(e=t=n=NaN),new ut(e,t,n,o)}function zv(e){return e instanceof ns||(e=Tn(e)),e?(e=e.rgb(),new ut(e.r,e.g,e.b,e.opacity)):new ut}function _i(e,t,n,o){return arguments.length===1?zv(e):new ut(e,t,n,o??1)}function ut(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}el(ut,_i,Zc(ns,{brighter(e){return e=e==null?js:Math.pow(js,e),new ut(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Uo:Math.pow(Uo,e),new ut(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ut(Nn(this.r),Nn(this.g),Nn(this.b),Us(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ga,formatHex:ga,formatHex8:Hv,formatRgb:ma,toString:ma}));function ga(){return`#${Sn(this.r)}${Sn(this.g)}${Sn(this.b)}`}function Hv(){return`#${Sn(this.r)}${Sn(this.g)}${Sn(this.b)}${Sn((isNaN(this.opacity)?1:this.opacity)*255)}`}function ma(){const e=Us(this.opacity);return`${e===1?"rgb(":"rgba("}${Nn(this.r)}, ${Nn(this.g)}, ${Nn(this.b)}${e===1?")":`, ${e})`}`}function Us(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sn(e){return e=Nn(e),(e<16?"0":"")+e.toString(16)}function va(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yt(e,t,n,o)}function Jc(e){if(e instanceof yt)return new yt(e.h,e.s,e.l,e.opacity);if(e instanceof ns||(e=Tn(e)),!e)return new yt;if(e instanceof yt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,s=Math.min(t,n,o),r=Math.max(t,n,o),i=NaN,l=r-s,a=(r+s)/2;return l?(t===r?i=(n-o)/l+(n<o)*6:n===r?i=(o-t)/l+2:i=(t-n)/l+4,l/=a<.5?r+s:2-r-s,i*=60):l=a>0&&a<1?0:i,new yt(i,l,a,e.opacity)}function Vv(e,t,n,o){return arguments.length===1?Jc(e):new yt(e,t,n,o??1)}function yt(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}el(yt,Vv,Zc(ns,{brighter(e){return e=e==null?js:Math.pow(js,e),new yt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Uo:Math.pow(Uo,e),new yt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,s=2*n-o;return new ut(Yr(e>=240?e-240:e+120,s,o),Yr(e,s,o),Yr(e<120?e+240:e-120,s,o),this.opacity)},clamp(){return new yt(ya(this.h),fs(this.s),fs(this.l),Us(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Us(this.opacity);return`${e===1?"hsl(":"hsla("}${ya(this.h)}, ${fs(this.s)*100}%, ${fs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ya(e){return e=(e||0)%360,e<0?e+360:e}function fs(e){return Math.max(0,Math.min(1,e||0))}function Yr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const tl=e=>()=>e;function Fv(e,t){return function(n){return e+n*t}}function Bv(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function Lv(e){return(e=+e)==1?Qc:function(t,n){return n-t?Bv(t,n,e):tl(isNaN(t)?n:t)}}function Qc(e,t){var n=t-e;return n?Fv(e,n):tl(isNaN(e)?t:e)}const Ks=(function e(t){var n=Lv(t);function o(s,r){var i=n((s=_i(s)).r,(r=_i(r)).r),l=n(s.g,r.g),a=n(s.b,r.b),u=Qc(s.opacity,r.opacity);return function(c){return s.r=i(c),s.g=l(c),s.b=a(c),s.opacity=u(c),s+""}}return o.gamma=e,o})(1);function jv(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),s;return function(r){for(s=0;s<n;++s)o[s]=e[s]*(1-r)+t[s]*r;return o}}function Uv(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Kv(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,s=new Array(o),r=new Array(n),i;for(i=0;i<o;++i)s[i]=Do(e[i],t[i]);for(;i<n;++i)r[i]=t[i];return function(l){for(i=0;i<o;++i)r[i]=s[i](l);return r}}function Gv(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function Ot(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Yv(e,t){var n={},o={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Do(e[s],t[s]):o[s]=t[s];return function(r){for(s in n)o[s]=n[s](r);return o}}var Si=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wr=new RegExp(Si.source,"g");function Wv(e){return function(){return e}}function Xv(e){return function(t){return e(t)+""}}function ed(e,t){var n=Si.lastIndex=Wr.lastIndex=0,o,s,r,i=-1,l=[],a=[];for(e=e+"",t=t+"";(o=Si.exec(e))&&(s=Wr.exec(t));)(r=s.index)>n&&(r=t.slice(n,r),l[i]?l[i]+=r:l[++i]=r),(o=o[0])===(s=s[0])?l[i]?l[i]+=s:l[++i]=s:(l[++i]=null,a.push({i,x:Ot(o,s)})),n=Wr.lastIndex;return n<t.length&&(r=t.slice(n),l[i]?l[i]+=r:l[++i]=r),l.length<2?a[0]?Xv(a[0].x):Wv(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}function Do(e,t){var n=typeof t,o;return t==null||n==="boolean"?tl(t):(n==="number"?Ot:n==="string"?(o=Tn(t))?(t=o,Ks):ed:t instanceof Tn?Ks:t instanceof Date?Gv:Uv(t)?jv:Array.isArray(t)?Kv:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Yv:Ot)(e,t)}var ba=180/Math.PI,Ci={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function td(e,t,n,o,s,r){var i,l,a;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(a=e*n+t*o)&&(n-=e*a,o-=t*a),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,a/=l),e*o<t*n&&(e=-e,t=-t,a=-a,i=-i),{translateX:s,translateY:r,rotate:Math.atan2(t,e)*ba,skewX:Math.atan(a)*ba,scaleX:i,scaleY:l}}var hs;function qv(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ci:td(t.a,t.b,t.c,t.d,t.e,t.f)}function Zv(e){return e==null||(hs||(hs=document.createElementNS("http://www.w3.org/2000/svg","g")),hs.setAttribute("transform",e),!(e=hs.transform.baseVal.consolidate()))?Ci:(e=e.matrix,td(e.a,e.b,e.c,e.d,e.e,e.f))}function nd(e,t,n,o){function s(u){return u.length?u.pop()+" ":""}function r(u,c,d,p,m,_){if(u!==d||c!==p){var C=m.push("translate(",null,t,null,n);_.push({i:C-4,x:Ot(u,d)},{i:C-2,x:Ot(c,p)})}else(d||p)&&m.push("translate("+d+t+p+n)}function i(u,c,d,p){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),p.push({i:d.push(s(d)+"rotate(",null,o)-2,x:Ot(u,c)})):c&&d.push(s(d)+"rotate("+c+o)}function l(u,c,d,p){u!==c?p.push({i:d.push(s(d)+"skewX(",null,o)-2,x:Ot(u,c)}):c&&d.push(s(d)+"skewX("+c+o)}function a(u,c,d,p,m,_){if(u!==d||c!==p){var C=m.push(s(m)+"scale(",null,",",null,")");_.push({i:C-4,x:Ot(u,d)},{i:C-2,x:Ot(c,p)})}else(d!==1||p!==1)&&m.push(s(m)+"scale("+d+","+p+")")}return function(u,c){var d=[],p=[];return u=e(u),c=e(c),r(u.translateX,u.translateY,c.translateX,c.translateY,d,p),i(u.rotate,c.rotate,d,p),l(u.skewX,c.skewX,d,p),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,p),u=c=null,function(m){for(var _=-1,C=p.length,$;++_<C;)d[($=p[_]).i]=$.x(m);return d.join("")}}}var Jv=nd(qv,"px, ","px)","deg)"),Qv=nd(Zv,", ",")",")"),e0=1e-12;function xa(e){return((e=Math.exp(e))+1/e)/2}function t0(e){return((e=Math.exp(e))-1/e)/2}function n0(e){return((e=Math.exp(2*e))-1)/(e+1)}const Is=(function e(t,n,o){function s(r,i){var l=r[0],a=r[1],u=r[2],c=i[0],d=i[1],p=i[2],m=c-l,_=d-a,C=m*m+_*_,$,A;if(C<e0)A=Math.log(p/u)/t,$=function(j){return[l+j*m,a+j*_,u*Math.exp(t*j*A)]};else{var D=Math.sqrt(C),w=(p*p-u*u+o*C)/(2*u*n*D),I=(p*p-u*u-o*C)/(2*p*n*D),O=Math.log(Math.sqrt(w*w+1)-w),B=Math.log(Math.sqrt(I*I+1)-I);A=(B-O)/t,$=function(j){var f=j*A,h=xa(O),G=u/(n*D)*(h*n0(t*f+O)-t0(O));return[l+G*m,a+G*_,u*h/xa(t*f+O)]}}return $.duration=A*1e3*t/Math.SQRT2,$}return s.rho=function(r){var i=Math.max(.001,+r),l=i*i,a=l*l;return e(i,l,a)},s})(Math.SQRT2,2,4);var so=0,xo=0,mo=0,od=1e3,Gs,wo,Ys=0,An=0,vr=0,Go=typeof performance=="object"&&performance.now?performance:Date,sd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nl(){return An||(sd(o0),An=Go.now()+vr)}function o0(){An=0}function Ws(){this._call=this._time=this._next=null}Ws.prototype=rd.prototype={constructor:Ws,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?nl():+n)+(t==null?0:+t),!this._next&&wo!==this&&(wo?wo._next=this:Gs=this,wo=this),this._call=e,this._time=n,Ei()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ei())}};function rd(e,t,n){var o=new Ws;return o.restart(e,t,n),o}function s0(){nl(),++so;for(var e=Gs,t;e;)(t=An-e._time)>=0&&e._call.call(void 0,t),e=e._next;--so}function wa(){An=(Ys=Go.now())+vr,so=xo=0;try{s0()}finally{so=0,i0(),An=0}}function r0(){var e=Go.now(),t=e-Ys;t>od&&(vr-=t,Ys=e)}function i0(){for(var e,t=Gs,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Gs=n);wo=e,Ei(o)}function Ei(e){if(!so){xo&&(xo=clearTimeout(xo));var t=e-An;t>24?(e<1/0&&(xo=setTimeout(wa,e-Go.now()-vr)),mo&&(mo=clearInterval(mo))):(mo||(Ys=Go.now(),mo=setInterval(r0,od)),so=1,sd(wa))}}function _a(e,t,n){var o=new Ws;return t=t==null?0:+t,o.restart(s=>{o.stop(),e(s+t)},t,n),o}var l0=gr("start","end","cancel","interrupt"),a0=[],id=0,Sa=1,Ii=2,Ns=3,Ca=4,Ni=5,$s=6;function yr(e,t,n,o,s,r){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;u0(e,n,{name:t,index:o,group:s,on:l0,tween:a0,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:id})}function ol(e,t){var n=Et(e,t);if(n.state>id)throw new Error("too late; already scheduled");return n}function Vt(e,t){var n=Et(e,t);if(n.state>Ns)throw new Error("too late; already running");return n}function Et(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function u0(e,t,n){var o=e.__transition,s;o[t]=n,n.timer=rd(r,0,n.time);function r(u){n.state=Sa,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var c,d,p,m;if(n.state!==Sa)return a();for(c in o)if(m=o[c],m.name===n.name){if(m.state===Ns)return _a(i);m.state===Ca?(m.state=$s,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete o[c]):+c<t&&(m.state=$s,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete o[c])}if(_a(function(){n.state===Ns&&(n.state=Ca,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ii,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ii){for(n.state=Ns,s=new Array(p=n.tween.length),c=0,d=-1;c<p;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(s[++d]=m);s.length=d+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Ni,1),d=-1,p=s.length;++d<p;)s[d].call(e,c);n.state===Ni&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=$s,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Ms(e,t){var n=e.__transition,o,s,r=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((o=n[i]).name!==t){r=!1;continue}s=o.state>Ii&&o.state<Ni,o.state=$s,o.timer.stop(),o.on.call(s?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[i]}r&&delete e.__transition}}function c0(e){return this.each(function(){Ms(this,e)})}function d0(e,t){var n,o;return function(){var s=Vt(this,e),r=s.tween;if(r!==n){o=n=r;for(var i=0,l=o.length;i<l;++i)if(o[i].name===t){o=o.slice(),o.splice(i,1);break}}s.tween=o}}function f0(e,t,n){var o,s;if(typeof n!="function")throw new Error;return function(){var r=Vt(this,e),i=r.tween;if(i!==o){s=(o=i).slice();for(var l={name:t,value:n},a=0,u=s.length;a<u;++a)if(s[a].name===t){s[a]=l;break}a===u&&s.push(l)}r.tween=s}}function h0(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Et(this.node(),n).tween,s=0,r=o.length,i;s<r;++s)if((i=o[s]).name===e)return i.value;return null}return this.each((t==null?d0:f0)(n,e,t))}function sl(e,t,n){var o=e._id;return e.each(function(){var s=Vt(this,o);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Et(s,o).value[t]}}function ld(e,t){var n;return(typeof t=="number"?Ot:t instanceof Tn?Ks:(n=Tn(t))?(t=n,Ks):ed)(e,t)}function p0(e){return function(){this.removeAttribute(e)}}function g0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function m0(e,t,n){var o,s=n+"",r;return function(){var i=this.getAttribute(e);return i===s?null:i===o?r:r=t(o=i,n)}}function v0(e,t,n){var o,s=n+"",r;return function(){var i=this.getAttributeNS(e.space,e.local);return i===s?null:i===o?r:r=t(o=i,n)}}function y0(e,t,n){var o,s,r;return function(){var i,l=n(this),a;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),a=l+"",i===a?null:i===o&&a===s?r:(s=a,r=t(o=i,l)))}}function b0(e,t,n){var o,s,r;return function(){var i,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),a=l+"",i===a?null:i===o&&a===s?r:(s=a,r=t(o=i,l)))}}function x0(e,t){var n=mr(e),o=n==="transform"?Qv:ld;return this.attrTween(e,typeof t=="function"?(n.local?b0:y0)(n,o,sl(this,"attr."+e,t)):t==null?(n.local?g0:p0)(n):(n.local?v0:m0)(n,o,t))}function w0(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function _0(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function S0(e,t){var n,o;function s(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&_0(e,r)),n}return s._value=t,s}function C0(e,t){var n,o;function s(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&w0(e,r)),n}return s._value=t,s}function E0(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=mr(e);return this.tween(n,(o.local?S0:C0)(o,t))}function I0(e,t){return function(){ol(this,e).delay=+t.apply(this,arguments)}}function N0(e,t){return t=+t,function(){ol(this,e).delay=t}}function $0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?I0:N0)(t,e)):Et(this.node(),t).delay}function M0(e,t){return function(){Vt(this,e).duration=+t.apply(this,arguments)}}function k0(e,t){return t=+t,function(){Vt(this,e).duration=t}}function T0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?M0:k0)(t,e)):Et(this.node(),t).duration}function A0(e,t){if(typeof t!="function")throw new Error;return function(){Vt(this,e).ease=t}}function D0(e){var t=this._id;return arguments.length?this.each(A0(t,e)):Et(this.node(),t).ease}function O0(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Vt(this,e).ease=n}}function P0(e){if(typeof e!="function")throw new Error;return this.each(O0(this._id,e))}function R0(e){typeof e!="function"&&(e=Vc(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var r=t[s],i=r.length,l=o[s]=[],a,u=0;u<i;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&l.push(a);return new tn(o,this._parents,this._name,this._id)}function z0(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,s=n.length,r=Math.min(o,s),i=new Array(o),l=0;l<r;++l)for(var a=t[l],u=n[l],c=a.length,d=i[l]=new Array(c),p,m=0;m<c;++m)(p=a[m]||u[m])&&(d[m]=p);for(;l<o;++l)i[l]=t[l];return new tn(i,this._parents,this._name,this._id)}function H0(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function V0(e,t,n){var o,s,r=H0(t)?ol:Vt;return function(){var i=r(this,e),l=i.on;l!==o&&(s=(o=l).copy()).on(t,n),i.on=s}}function F0(e,t){var n=this._id;return arguments.length<2?Et(this.node(),n).on.on(e):this.each(V0(n,e,t))}function B0(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function L0(){return this.on("end.remove",B0(this._id))}function j0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ji(e));for(var o=this._groups,s=o.length,r=new Array(s),i=0;i<s;++i)for(var l=o[i],a=l.length,u=r[i]=new Array(a),c,d,p=0;p<a;++p)(c=l[p])&&(d=e.call(c,c.__data__,p,l))&&("__data__"in c&&(d.__data__=c.__data__),u[p]=d,yr(u[p],t,n,p,u,Et(c,n)));return new tn(r,this._parents,t,n)}function U0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hc(e));for(var o=this._groups,s=o.length,r=[],i=[],l=0;l<s;++l)for(var a=o[l],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var p=e.call(c,c.__data__,d,a),m,_=Et(c,n),C=0,$=p.length;C<$;++C)(m=p[C])&&yr(m,t,n,C,p,_);r.push(p),i.push(c)}return new tn(r,i,t,n)}var K0=ts.prototype.constructor;function G0(){return new K0(this._groups,this._parents)}function Y0(e,t){var n,o,s;return function(){var r=oo(this,e),i=(this.style.removeProperty(e),oo(this,e));return r===i?null:r===n&&i===o?s:s=t(n=r,o=i)}}function ad(e){return function(){this.style.removeProperty(e)}}function W0(e,t,n){var o,s=n+"",r;return function(){var i=oo(this,e);return i===s?null:i===o?r:r=t(o=i,n)}}function X0(e,t,n){var o,s,r;return function(){var i=oo(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),oo(this,e))),i===a?null:i===o&&a===s?r:(s=a,r=t(o=i,l))}}function q0(e,t){var n,o,s,r="style."+t,i="end."+r,l;return function(){var a=Vt(this,e),u=a.on,c=a.value[r]==null?l||(l=ad(t)):void 0;(u!==n||s!==c)&&(o=(n=u).copy()).on(i,s=c),a.on=o}}function Z0(e,t,n){var o=(e+="")=="transform"?Jv:ld;return t==null?this.styleTween(e,Y0(e,o)).on("end.style."+e,ad(e)):typeof t=="function"?this.styleTween(e,X0(e,o,sl(this,"style."+e,t))).each(q0(this._id,e)):this.styleTween(e,W0(e,o,t),n).on("end.style."+e,null)}function J0(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Q0(e,t,n){var o,s;function r(){var i=t.apply(this,arguments);return i!==s&&(o=(s=i)&&J0(e,i,n)),o}return r._value=t,r}function ey(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Q0(e,t,n??""))}function ty(e){return function(){this.textContent=e}}function ny(e){return function(){var t=e(this);this.textContent=t??""}}function oy(e){return this.tween("text",typeof e=="function"?ny(sl(this,"text",e)):ty(e==null?"":e+""))}function sy(e){return function(t){this.textContent=e.call(this,t)}}function ry(e){var t,n;function o(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&sy(s)),t}return o._value=e,o}function iy(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ry(e))}function ly(){for(var e=this._name,t=this._id,n=ud(),o=this._groups,s=o.length,r=0;r<s;++r)for(var i=o[r],l=i.length,a,u=0;u<l;++u)if(a=i[u]){var c=Et(a,t);yr(a,e,n,u,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new tn(o,this._parents,e,n)}function ay(){var e,t,n=this,o=n._id,s=n.size();return new Promise(function(r,i){var l={value:i},a={value:function(){--s===0&&r()}};n.each(function(){var u=Vt(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),s===0&&r()})}var uy=0;function tn(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function ud(){return++uy}var Bt=ts.prototype;tn.prototype={constructor:tn,select:j0,selectAll:U0,selectChild:Bt.selectChild,selectChildren:Bt.selectChildren,filter:R0,merge:z0,selection:G0,transition:ly,call:Bt.call,nodes:Bt.nodes,node:Bt.node,size:Bt.size,empty:Bt.empty,each:Bt.each,on:F0,attr:x0,attrTween:E0,style:Z0,styleTween:ey,text:oy,textTween:iy,remove:L0,tween:h0,delay:$0,duration:T0,ease:D0,easeVarying:P0,end:ay,[Symbol.iterator]:Bt[Symbol.iterator]};function cy(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var dy={time:null,delay:0,duration:250,ease:cy};function fy(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function hy(e){var t,n;e instanceof tn?(t=e._id,e=e._name):(t=ud(),(n=dy).time=nl(),e=e==null?null:e+"");for(var o=this._groups,s=o.length,r=0;r<s;++r)for(var i=o[r],l=i.length,a,u=0;u<l;++u)(a=i[u])&&yr(a,e,t,u,i,n||fy(a,t));return new tn(o,this._parents,e,t)}ts.prototype.interrupt=c0;ts.prototype.transition=hy;const ps=e=>()=>e;function py(e,{sourceEvent:t,target:n,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function Wt(e,t,n){this.k=e,this.x=t,this.y=n}Wt.prototype={constructor:Wt,scale:function(e){return e===1?this:new Wt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Wt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ro=new Wt(1,0,0);Wt.prototype;function Xr(e){e.stopImmediatePropagation()}function vo(e){e.preventDefault(),e.stopImmediatePropagation()}function gy(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function my(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ea(){return this.__zoom||ro}function vy(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function yy(){return navigator.maxTouchPoints||"ontouchstart"in this}function by(e,t,n){var o=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i))}function xy(){var e=gy,t=my,n=by,o=vy,s=yy,r=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Is,u=gr("start","zoom","end"),c,d,p,m=500,_=150,C=0,$=10;function A(y){y.property("__zoom",Ea).on("wheel.zoom",f,{passive:!1}).on("mousedown.zoom",h).on("dblclick.zoom",G).filter(s).on("touchstart.zoom",K).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}A.transform=function(y,P,T,R){var U=y.selection?y.selection():y;U.property("__zoom",Ea),y!==U?O(y,P,T,R):U.interrupt().each(function(){B(this,arguments).event(R).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},A.scaleBy=function(y,P,T,R){A.scaleTo(y,function(){var U=this.__zoom.k,J=typeof P=="function"?P.apply(this,arguments):P;return U*J},T,R)},A.scaleTo=function(y,P,T,R){A.transform(y,function(){var U=t.apply(this,arguments),J=this.__zoom,Q=T==null?I(U):typeof T=="function"?T.apply(this,arguments):T,ne=J.invert(Q),ie=typeof P=="function"?P.apply(this,arguments):P;return n(w(D(J,ie),Q,ne),U,i)},T,R)},A.translateBy=function(y,P,T,R){A.transform(y,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),i)},null,R)},A.translateTo=function(y,P,T,R,U){A.transform(y,function(){var J=t.apply(this,arguments),Q=this.__zoom,ne=R==null?I(J):typeof R=="function"?R.apply(this,arguments):R;return n(ro.translate(ne[0],ne[1]).scale(Q.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof T=="function"?-T.apply(this,arguments):-T),J,i)},R,U)};function D(y,P){return P=Math.max(r[0],Math.min(r[1],P)),P===y.k?y:new Wt(P,y.x,y.y)}function w(y,P,T){var R=P[0]-T[0]*y.k,U=P[1]-T[1]*y.k;return R===y.x&&U===y.y?y:new Wt(y.k,R,U)}function I(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function O(y,P,T,R){y.on("start.zoom",function(){B(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){B(this,arguments).event(R).end()}).tween("zoom",function(){var U=this,J=arguments,Q=B(U,J).event(R),ne=t.apply(U,J),ie=T==null?I(ne):typeof T=="function"?T.apply(U,J):T,he=Math.max(ne[1][0]-ne[0][0],ne[1][1]-ne[0][1]),be=U.__zoom,re=typeof P=="function"?P.apply(U,J):P,oe=a(be.invert(ie).concat(he/be.k),re.invert(ie).concat(he/re.k));return function(ae){if(ae===1)ae=re;else{var we=oe(ae),Me=he/we[2];ae=new Wt(Me,ie[0]-we[0]*Me,ie[1]-we[1]*Me)}Q.zoom(null,ae)}})}function B(y,P,T){return!T&&y.__zooming||new j(y,P)}function j(y,P){this.that=y,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(y,P),this.taps=0}j.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,P){return this.mouse&&y!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var P=vt(this.that).datum();u.call(y,this.that,new py(y,{sourceEvent:this.sourceEvent,target:A,transform:this.that.__zoom,dispatch:u}),P)}};function f(y,...P){if(!e.apply(this,arguments))return;var T=B(this,P).event(y),R=this.__zoom,U=Math.max(r[0],Math.min(r[1],R.k*Math.pow(2,o.apply(this,arguments)))),J=At(y);if(T.wheel)(T.mouse[0][0]!==J[0]||T.mouse[0][1]!==J[1])&&(T.mouse[1]=R.invert(T.mouse[0]=J)),clearTimeout(T.wheel);else{if(R.k===U)return;T.mouse=[J,R.invert(J)],Ms(this),T.start()}vo(y),T.wheel=setTimeout(Q,_),T.zoom("mouse",n(w(D(R,U),T.mouse[0],T.mouse[1]),T.extent,i));function Q(){T.wheel=null,T.end()}}function h(y,...P){if(p||!e.apply(this,arguments))return;var T=y.currentTarget,R=B(this,P,!0).event(y),U=vt(y.view).on("mousemove.zoom",ie,!0).on("mouseup.zoom",he,!0),J=At(y,T),Q=y.clientX,ne=y.clientY;Xc(y.view),Xr(y),R.mouse=[J,this.__zoom.invert(J)],Ms(this),R.start();function ie(be){if(vo(be),!R.moved){var re=be.clientX-Q,oe=be.clientY-ne;R.moved=re*re+oe*oe>C}R.event(be).zoom("mouse",n(w(R.that.__zoom,R.mouse[0]=At(be,T),R.mouse[1]),R.extent,i))}function he(be){U.on("mousemove.zoom mouseup.zoom",null),qc(be.view,R.moved),vo(be),R.event(be).end()}}function G(y,...P){if(e.apply(this,arguments)){var T=this.__zoom,R=At(y.changedTouches?y.changedTouches[0]:y,this),U=T.invert(R),J=T.k*(y.shiftKey?.5:2),Q=n(w(D(T,J),R,U),t.apply(this,P),i);vo(y),l>0?vt(this).transition().duration(l).call(O,Q,R,y):vt(this).call(A.transform,Q,R,y)}}function K(y,...P){if(e.apply(this,arguments)){var T=y.touches,R=T.length,U=B(this,P,y.changedTouches.length===R).event(y),J,Q,ne,ie;for(Xr(y),Q=0;Q<R;++Q)ne=T[Q],ie=At(ne,this),ie=[ie,this.__zoom.invert(ie),ne.identifier],U.touch0?!U.touch1&&U.touch0[2]!==ie[2]&&(U.touch1=ie,U.taps=0):(U.touch0=ie,J=!0,U.taps=1+!!c);c&&(c=clearTimeout(c)),J&&(U.taps<2&&(d=ie[0],c=setTimeout(function(){c=null},m)),Ms(this),U.start())}}function N(y,...P){if(this.__zooming){var T=B(this,P).event(y),R=y.changedTouches,U=R.length,J,Q,ne,ie;for(vo(y),J=0;J<U;++J)Q=R[J],ne=At(Q,this),T.touch0&&T.touch0[2]===Q.identifier?T.touch0[0]=ne:T.touch1&&T.touch1[2]===Q.identifier&&(T.touch1[0]=ne);if(Q=T.that.__zoom,T.touch1){var he=T.touch0[0],be=T.touch0[1],re=T.touch1[0],oe=T.touch1[1],ae=(ae=re[0]-he[0])*ae+(ae=re[1]-he[1])*ae,we=(we=oe[0]-be[0])*we+(we=oe[1]-be[1])*we;Q=D(Q,Math.sqrt(ae/we)),ne=[(he[0]+re[0])/2,(he[1]+re[1])/2],ie=[(be[0]+oe[0])/2,(be[1]+oe[1])/2]}else if(T.touch0)ne=T.touch0[0],ie=T.touch0[1];else return;T.zoom("touch",n(w(Q,ne,ie),T.extent,i))}}function q(y,...P){if(this.__zooming){var T=B(this,P).event(y),R=y.changedTouches,U=R.length,J,Q;for(Xr(y),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),J=0;J<U;++J)Q=R[J],T.touch0&&T.touch0[2]===Q.identifier?delete T.touch0:T.touch1&&T.touch1[2]===Q.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(Q=At(Q,this),Math.hypot(d[0]-Q[0],d[1]-Q[1])<$)){var ne=vt(this).on("dblclick.zoom");ne&&ne.apply(this,arguments)}}}return A.wheelDelta=function(y){return arguments.length?(o=typeof y=="function"?y:ps(+y),A):o},A.filter=function(y){return arguments.length?(e=typeof y=="function"?y:ps(!!y),A):e},A.touchable=function(y){return arguments.length?(s=typeof y=="function"?y:ps(!!y),A):s},A.extent=function(y){return arguments.length?(t=typeof y=="function"?y:ps([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),A):t},A.scaleExtent=function(y){return arguments.length?(r[0]=+y[0],r[1]=+y[1],A):[r[0],r[1]]},A.translateExtent=function(y){return arguments.length?(i[0][0]=+y[0][0],i[1][0]=+y[1][0],i[0][1]=+y[0][1],i[1][1]=+y[1][1],A):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},A.constrain=function(y){return arguments.length?(n=y,A):n},A.duration=function(y){return arguments.length?(l=+y,A):l},A.interpolate=function(y){return arguments.length?(a=y,A):a},A.on=function(){var y=u.on.apply(u,arguments);return y===u?A:y},A.clickDistance=function(y){return arguments.length?(C=(y=+y)*y,A):Math.sqrt(C)},A.tapDistance=function(y){return arguments.length?($=+y,A):$},A}var le=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(le||{}),rl=(e=>(e.Partial="partial",e.Full="full",e))(rl||{}),_n=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(_n||{}),pn=(e=>(e.Strict="strict",e.Loose="loose",e))(pn||{}),$i=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))($i||{}),Oo=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Oo||{}),cd=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(cd||{});const wy=["INPUT","SELECT","TEXTAREA"],_y=typeof document<"u"?document:null;function Mi(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,s=typeof o?.hasAttribute=="function"?o.hasAttribute("contenteditable"):!1,r=typeof o?.closest=="function"?o.closest(".nokey"):null;return wy.includes(o?.nodeName)||s||!!r}function Sy(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Ia(e,t,n,o){const s=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(i=>i.trim().toLowerCase());if(s.length===1)return e.toLowerCase()===t.toLowerCase();o||n.add(e.toLowerCase());const r=s.every((i,l)=>n.has(i)&&Array.from(n.values())[l]===s[l]);return o&&n.delete(e.toLowerCase()),r}function Cy(e,t){return n=>{if(!n.code&&!n.key)return!1;const o=Ey(n.code,e);return Array.isArray(e)?e.some(s=>Ia(n[o],s,t,n.type==="keyup")):Ia(n[o],e,t,n.type==="keyup")}}function Ey(e,t){return t.includes(e)?"code":"key"}function Po(e,t){const n=ue(()=>ve(t?.target)??_y),o=Yt(ve(e)===!0);let s=!1;const r=new Set;let i=a(ve(e));ye(()=>ve(e),(u,c)=>{typeof c=="boolean"&&typeof u!="boolean"&&l(),i=a(u)},{immediate:!0}),Rc(["blur","contextmenu"],l),aa((...u)=>i(...u),u=>{var c,d;const p=ve(t?.actInsideInputWithModifier)??!0,m=ve(t?.preventDefault)??!1;if(s=Sy(u),(!s||s&&!p)&&Mi(u))return;const C=((d=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:d[0])||u.target,$=C?.nodeName==="BUTTON"||C?.nodeName==="A";!m&&(s||!$)&&u.preventDefault(),o.value=!0},{eventName:"keydown",target:n}),aa((...u)=>i(...u),u=>{const c=ve(t?.actInsideInputWithModifier)??!0;if(o.value){if((!s||s&&!c)&&Mi(u))return;s=!1,o.value=!1}},{eventName:"keyup",target:n});function l(){s=!1,r.clear(),o.value=ve(e)===!0}function a(u){return u===null?(l(),()=>!1):typeof u=="boolean"?(l(),o.value=u,()=>!1):Array.isArray(u)||typeof u=="string"?Cy(u,r):u}return o}const dd="vue-flow__node-desc",fd="vue-flow__edge-desc",Iy="vue-flow__aria-live",hd=["Enter"," ","Escape"],Jn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function Xs(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function qs(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function br(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Dn(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function pd(e,t){return{x:Dn(e.x,t[0][0],t[1][0]),y:Dn(e.y,t[0][1],t[1][1])}}function Na(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function gn(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function $n(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!gn(e)}function _o(e){return $n(e)&&"computedPosition"in e}function gs(e){return!Number.isNaN(e)&&Number.isFinite(e)}function Ny(e){return gs(e.width)&&gs(e.height)&&gs(e.x)&&gs(e.y)}function $y(e,t,n){const o={id:e.id.toString(),type:e.type??"default",dimensions:hn({width:0,height:0}),computedPosition:hn({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:je(e.data)?e.data:{},events:hn(je(e.events)?e.events:{})};return Object.assign(t??o,e,{id:e.id.toString(),parentNode:n})}function gd(e,t,n){var o,s;const r={id:e.id.toString(),type:e.type??t?.type??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(s=e.targetHandle)==null?void 0:s.toString(),updatable:e.updatable??n?.updatable,selectable:e.selectable??n?.selectable,focusable:e.focusable??n?.focusable,data:je(e.data)?e.data:{},events:hn(je(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??n?.interactionWidth,...n??{}};return Object.assign(t??r,e,{id:e.id.toString()})}function md(e,t,n,o){const s=typeof e=="string"?e:e.id,r=new Set,i=o==="source"?"target":"source";for(const l of n)l[i]===s&&r.add(l[o]);return t.filter(l=>r.has(l.id))}function My(...e){if(e.length===3){const[r,i,l]=e;return md(r,i,l,"target")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(r=>gn(r)&&r.source===o).map(r=>n.find(i=>$n(i)&&i.id===r.target))}function ky(...e){if(e.length===3){const[r,i,l]=e;return md(r,i,l,"source")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(r=>gn(r)&&r.target===o).map(r=>n.find(i=>$n(i)&&i.id===r.source))}function vd({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function Ty(e,t){return t.some(n=>gn(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Yo({x:e,y:t},{x:n,y:o,zoom:s}){return{x:e*s+n,y:t*s+o}}function Wo({x:e,y:t},{x:n,y:o,zoom:s},r=!1,i=[1,1]){const l={x:(e-n)/s,y:(t-o)/s};return r?xr(l,i):l}function Ay(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function yd({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function Dy({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function bd(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const o=e[n];t=Ay(t,yd({...o.computedPosition,...o.dimensions}))}return Dy(t)}function xd(e,t,n={x:0,y:0,zoom:1},o=!1,s=!1){const r={...Wo(t,n),width:t.width/n.zoom,height:t.height/n.zoom},i=[];for(const l of e){const{dimensions:a,selectable:u=!0,hidden:c=!1}=l,d=a.width??l.width??null,p=a.height??l.height??null;if(s&&!u||c)continue;const m=qs(r,Xs(l)),_=d===null||p===null,C=o&&m>0,$=(d??0)*(p??0);(_||C||m>=$||l.dragging)&&i.push(l)}return i}function wd(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function Vn(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return os(`The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Oy(e,t,n){if(typeof e=="string"||typeof e=="number"){const o=Vn(e,n),s=Vn(e,t);return{top:o,right:s,bottom:o,left:s,x:s*2,y:o*2}}if(typeof e=="object"){const o=Vn(e.top??e.y??0,n),s=Vn(e.bottom??e.y??0,n),r=Vn(e.left??e.x??0,t),i=Vn(e.right??e.x??0,t);return{top:o,right:i,bottom:s,left:r,x:r+i,y:o+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Py(e,t,n,o,s,r){const{x:i,y:l}=Yo(e,{x:t,y:n,zoom:o}),{x:a,y:u}=Yo({x:e.x+e.width,y:e.y+e.height},{x:t,y:n,zoom:o}),c=s-a,d=r-u;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(c),bottom:Math.floor(d)}}function $a(e,t,n,o,s,r=.1){const i=Oy(r,t,n),l=(t-i.x)/e.width,a=(n-i.y)/e.height,u=Math.min(l,a),c=Dn(u,o,s),d=e.x+e.width/2,p=e.y+e.height/2,m=t/2-d*c,_=n/2-p*c,C=Py(e,m,_,c,t,n),$={left:Math.min(C.left-i.left,0),top:Math.min(C.top-i.top,0),right:Math.min(C.right-i.right,0),bottom:Math.min(C.bottom-i.bottom,0)};return{x:m-$.left+$.right,y:_-$.top+$.bottom,zoom:c}}function Ry(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function _d(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:_d(n,t):!1}function Xo(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`}function Ma(e){const t=e.ctrlKey&&Zs()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function ka(e,t,n){return e<t?Dn(Math.abs(e-t),1,t)/t:e>n?-Dn(Math.abs(e-n),1,t)/t:0}function Sd(e,t,n=15,o=40){const s=ka(e.x,o,t.width-o)*n,r=ka(e.y,o,t.height-o)*n;return[s,r]}function qr(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let s={};if(typeof t.style=="function"?s={...t.style(t)}:t.style&&(s={...t.style}),s.width=s.width??`${t.dimensions.width}px`,s.height=s.height??`${t.dimensions.height}px`,n>0)if(typeof s.width=="string"){const r=Number(s.width.replace("px",""));s.width=`${r+n}px`}else s.width+=n;if(o>0)if(typeof s.height=="string"){const r=Number(s.height.replace("px",""));s.height=`${r+o}px`}else s.height+=o;if(e.position.x<0){const r=Math.abs(e.position.x);if(t.position.x=t.position.x-r,typeof s.width=="string"){const i=Number(s.width.replace("px",""));s.width=`${i+r}px`}else s.width+=r;e.position.x=0}if(e.position.y<0){const r=Math.abs(e.position.y);if(t.position.y=t.position.y-r,typeof s.height=="string"){const i=Number(s.height.replace("px",""));s.height=`${i+r}px`}else s.height+=r;e.position.y=0}t.dimensions.width=Number(s.width.toString().replace("px","")),t.dimensions.height=Number(s.height.toString().replace("px","")),typeof t.style=="function"?t.style=r=>{const i=t.style;return{...i(r),...s}}:t.style={...t.style,...s}}}}function Ta(e,t){var n,o;const s=e.filter(i=>i.type==="add"||i.type==="remove");for(const i of s)if(i.type==="add")t.findIndex(a=>a.id===i.item.id)===-1&&t.push(i.item);else if(i.type==="remove"){const l=t.findIndex(a=>a.id===i.id);l!==-1&&t.splice(l,1)}const r=t.map(i=>i.id);for(const i of t)for(const l of e)if(l.id===i.id)switch(l.type){case"select":i.selected=l.selected;break;case"position":if(_o(i)&&(typeof l.position<"u"&&(i.position=l.position),typeof l.dragging<"u"&&(i.dragging=l.dragging),i.expandParent&&i.parentNode)){const a=t[r.indexOf(i.parentNode)];a&&_o(a)&&qr(i,a)}break;case"dimensions":if(_o(i)&&(typeof l.dimensions<"u"&&(i.dimensions=l.dimensions),typeof l.updateStyle<"u"&&l.updateStyle&&(i.style={...i.style||{},width:`${(n=l.dimensions)==null?void 0:n.width}px`,height:`${(o=l.dimensions)==null?void 0:o.height}px`}),typeof l.resizing<"u"&&(i.resizing=l.resizing),i.expandParent&&i.parentNode)){const a=t[r.indexOf(i.parentNode)];a&&_o(a)&&(!!a.dimensions.width&&!!a.dimensions.height?qr(i,a):ct(()=>{qr(i,a)}))}break}return t}function un(e,t){return{id:e,type:"select",selected:t}}function Aa(e){return{item:e,type:"add"}}function Da(e){return{id:e,type:"remove"}}function Oa(e,t,n,o,s){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:s||null,type:"remove"}}function fn(e,t=new Set,n=!1){const o=[];for(const[s,r]of e){const i=t.has(s);!(r.selected===void 0&&!i)&&r.selected!==i&&(n&&(r.selected=i),o.push(un(r.id,i)))}return o}const Pa=()=>{};function te(e){const t=new Set;let n=Pa,o=()=>!1;const s=()=>t.size>0||o(),r=p=>{n=p},i=()=>{n=Pa},l=p=>{o=p},a=()=>{o=()=>!1},u=p=>{t.delete(p)};return{on:p=>{t.add(p);const m=()=>u(p);return Lo(m),{off:m}},off:u,trigger:p=>{const m=[n];return s()?m.push(...t):e&&m.push(e),Promise.allSettled(m.map(_=>_(p)))},hasListeners:s,listeners:t,setEmitter:r,removeEmitter:i,setHasEmitListeners:l,removeHasEmitListeners:a}}function Ra(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function zy(e,t,n,o){var s,r;const i=new Map;for(const[l,a]of e)(a.selected||a.id===o)&&(!a.parentNode||!_d(a,e))&&(a.draggable||t&&typeof a.draggable>"u")&&e.get(l)&&i.set(l,{id:a.id,position:a.position||{x:0,y:0},distance:{x:n.x-((s=a.computedPosition)==null?void 0:s.x)||0,y:n.y-((r=a.computedPosition)==null?void 0:r.y)||0},from:{x:a.computedPosition.x,y:a.computedPosition.y},extent:a.extent,parentNode:a.parentNode,dimensions:{...a.dimensions},expandParent:a.expandParent});return Array.from(i.values())}function Zr({id:e,dragItems:t,findNode:n}){const o=[];for(const s of t){const r=n(s.id);r&&o.push(r)}return[e?o.find(s=>s.id===e):o[0],o]}function Cd(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function Hy(e,t,n){const[o,s,r,i]=typeof e!="string"?Cd(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+i,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-s,n.computedPosition.y+n.dimensions.height-r]]:!1}function Vy(e,t,n,o){let s=e.extent||n;if((s==="parent"||!Array.isArray(s)&&s?.range==="parent")&&!e.expandParent)if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const r=Hy(s,e,o);r&&(s=r)}else t(new Ge(Ue.NODE_EXTENT_INVALID,e.id)),s=n;else if(Array.isArray(s)){const r=o?.computedPosition.x||0,i=o?.computedPosition.y||0;s=[[s[0][0]+r,s[0][1]+i],[s[1][0]+r,s[1][1]+i]]}else if(s!=="parent"&&s?.range&&Array.isArray(s.range)){const[r,i,l,a]=Cd(s.padding),u=o?.computedPosition.x||0,c=o?.computedPosition.y||0;s=[[s.range[0][0]+u+a,s.range[0][1]+c+r],[s.range[1][0]+u-i,s.range[1][1]+c-l]]}return s==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:s}function Fy({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function il(e,t,n,o,s){const r=Fy(e.dimensions,Vy(e,n,o,s)),i=pd(t,r);return{position:{x:i.x-(s?.computedPosition.x||0),y:i.y-(s?.computedPosition.y||0)},computedPosition:i}}function io(e,t,n=le.Left,o=!1){const s=(t?.x??0)+e.computedPosition.x,r=(t?.y??0)+e.computedPosition.y,{width:i,height:l}=t??Uy(e);if(o)return{x:s+i/2,y:r+l/2};switch(t?.position??n){case le.Top:return{x:s+i/2,y:r};case le.Right:return{x:s+i,y:r+l/2};case le.Bottom:return{x:s+i/2,y:r+l};case le.Left:return{x:s,y:r+l/2}}}function za(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function By({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:s,targetHeight:r,width:i,height:l,viewport:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+o,t.y+r)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=yd({x:(0-a.x)/a.zoom,y:(0-a.y)/a.zoom,width:i/a.zoom,height:l/a.zoom}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),p=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*p)>0}function Ly(e,t,n=!1){const o=typeof e.zIndex=="number";let s=o?e.zIndex:0;const r=t(e.source),i=t(e.target);return!r||!i?0:(n&&(s=o?e.zIndex:Math.max(r.computedPosition.z||0,i.computedPosition.z||0)),s)}var Ue=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Ue||{});const Ha={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Ge extends Error{constructor(t,...n){var o;super((o=Ha[t])==null?void 0:o.call(Ha,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function ll(e){return"clientX"in e}function jy(e){return"sourceEvent"in e}function Pt(e,t){const n=ll(e);let o,s;return n?(o=e.clientX,s=e.clientY):"touches"in e&&e.touches.length>0?(o=e.touches[0].clientX,s=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(o=e.changedTouches[0].clientX,s=e.changedTouches[0].clientY):(o=0,s=0),{x:o-(t?.left??0),y:s-(t?.top??0)}}const Zs=()=>{var e;return typeof navigator<"u"&&((e=navigator?.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Uy(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function xr(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const Ky=()=>!0;function Jr(e){e?.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Gy(e,t,n){const o=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const r of t.values())qs(s,Xs(r))>0&&o.push(r);return o}const Yy=250;function Wy(e,t,n,o){var s,r;let i=[],l=Number.POSITIVE_INFINITY;const a=Gy(e,n,t+Yy);for(const u of a){const c=[...((s=u.handleBounds)==null?void 0:s.source)??[],...((r=u.handleBounds)==null?void 0:r.target)??[]];for(const d of c){if(o.nodeId===d.nodeId&&o.type===d.type&&o.id===d.id)continue;const{x:p,y:m}=io(u,d,d.position,!0),_=Math.sqrt((p-e.x)**2+(m-e.y)**2);_>t||(_<l?(i=[{...d,x:p,y:m}],l=_):_===l&&i.push({...d,x:p,y:m}))}}if(!i.length)return null;if(i.length>1){const u=o.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function Va(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:s,fromType:r,doc:i,lib:l,flowId:a,isValidConnection:u=Ky},c,d,p,m){const _=r==="target",C=t?i.querySelector(`.${l}-flow__handle[data-id="${a}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:$,y:A}=Pt(e),D=i.elementFromPoint($,A),w=D?.classList.contains(`${l}-flow__handle`)?D:C,I={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const O=Ed(void 0,w),B=w.getAttribute("data-nodeid"),j=w.getAttribute("data-handleid"),f=w.classList.contains("connectable"),h=w.classList.contains("connectableend");if(!B||!O)return I;const G={source:_?B:o,sourceHandle:_?j:s,target:_?o:B,targetHandle:_?s:j};I.connection=G;const N=f&&h&&(n===pn.Strict?_&&O==="source"||!_&&O==="target":B!==o||j!==s);I.isValid=N&&u(G,{nodes:d,edges:c,sourceNode:p(G.source),targetNode:p(G.target)}),I.toHandle=Id(B,O,j,m,n,!0)}return I}function Ed(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function Xy(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function qy(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function Id(e,t,n,o,s,r=!1){var i,l,a;const u=o.get(e);if(!u)return null;const c=s===pn.Strict?(i=u.handleBounds)==null?void 0:i[t]:[...((l=u.handleBounds)==null?void 0:l.source)??[],...((a=u.handleBounds)==null?void 0:a.target)??[]],d=(n?c?.find(p=>p.id===n):c?.[0])??null;return d&&r?{...d,...io(u,d,d.position,!0)}:d}const ki={[le.Left]:le.Right,[le.Right]:le.Left,[le.Top]:le.Bottom,[le.Bottom]:le.Top},Zy=["production","prod"];function os(e,...t){Nd()&&console.warn(`[Vue Flow]: ${e}`,...t)}function Nd(){return!Zy.includes("production")}function Fa(e,t,n,o,s){const r=t.querySelectorAll(`.vue-flow__handle.${e}`);return r?.length?Array.from(r).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:s,position:i.getAttribute("data-handlepos"),x:(l.left-n.left)/o,y:(l.top-n.top)/o,...br(i)}}):null}function Ti(e,t,n,o,s,r=!1,i){s.value=!1,e.selected?(r||e.selected&&t)&&(o([e]),ct(()=>{i.blur()})):n([e])}function je(e){return typeof L(e)<"u"}function Jy(e,t,n,o){if(!e||!e.source||!e.target)return n(new Ge(Ue.EDGE_INVALID,e?.id??"[ID UNKNOWN]")),!1;let s;return gn(e)?s=e:s={...e,id:vd(e)},s=gd(s,void 0,o),Ty(s,t)?!1:s}function Qy(e,t,n,o,s){if(!t.source||!t.target)return s(new Ge(Ue.EDGE_INVALID,e.id)),!1;if(!n)return s(new Ge(Ue.EDGE_NOT_FOUND,e.id)),!1;const{id:r,...i}=e;return{...i,id:o?vd(t):r,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function Ba(e,t,n){const o={},s=[];for(let r=0;r<e.length;++r){const i=e[r];if(!$n(i)){n(new Ge(Ue.NODE_INVALID,i?.id)||`[ID UNKNOWN|INDEX ${r}]`);continue}const l=$y(i,t(i.id),i.parentNode);i.parentNode&&(o[i.parentNode]=!0),s[r]=l}for(const r of s){const i=t(r.parentNode)||s.find(l=>l.id===r.parentNode);r.parentNode&&!i&&n(new Ge(Ue.NODE_MISSING_PARENT,r.id,r.parentNode)),(r.parentNode||o[r.id])&&(o[r.id]&&(r.isParent=!0),i&&(i.isParent=!0))}return s}function La(e,t,n,o,s,r){let i=s;const l=o.get(i)||new Map;o.set(i,l.set(n,t)),i=`${s}-${e}`;const a=o.get(i)||new Map;if(o.set(i,a.set(n,t)),r){i=`${s}-${e}-${r}`;const u=o.get(i)||new Map;o.set(i,u.set(n,t))}}function Qr(e,t,n){e.clear();for(const o of n){const{source:s,target:r,sourceHandle:i=null,targetHandle:l=null}=o,a={edgeId:o.id,source:s,target:r,sourceHandle:i,targetHandle:l},u=`${s}-${i}--${r}-${l}`,c=`${r}-${l}--${s}-${i}`;La("source",a,c,e,s,i),La("target",a,u,e,r,l)}}function ja(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function ei(e,t,n,o,s,r,i,l){const a=[];for(const u of e){const c=gn(u)?u:Jy(u,l,s,r);if(!c)continue;const d=n(c.source),p=n(c.target);if(!d||!p){s(new Ge(Ue.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!d){s(new Ge(Ue.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!p){s(new Ge(Ue.EDGE_TARGET_MISSING,c.id,c.target));continue}if(t&&!t(c,{edges:l,nodes:i,sourceNode:d,targetNode:p})){s(new Ge(Ue.EDGE_INVALID,c.id));continue}const m=o(c.id);a.push({...gd(c,m,r),sourceNode:d,targetNode:p})}return a}const Ua=Symbol("vueFlow"),$d=Symbol("nodeId"),Md=Symbol("nodeRef"),eb=Symbol("edgeId"),tb=Symbol("edgeRef"),wr=Symbol("slots");function kd(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:s,nodeLookup:r,nodeExtent:i,nodeDragThreshold:l,viewport:a,autoPanOnNodeDrag:u,autoPanSpeed:c,nodesDraggable:d,panBy:p,findNode:m,multiSelectionActive:_,nodesSelectionActive:C,selectNodesOnDrag:$,removeSelectedElements:A,addSelectedNodes:D,updateNodePositions:w,emits:I}=Re(),{onStart:O,onDrag:B,onStop:j,onClick:f,el:h,disabled:G,id:K,selectable:N,dragHandle:q}=e,y=Yt(!1);let P=[],T,R=null,U={x:void 0,y:void 0},J={x:0,y:0},Q=null,ne=!1,ie=!1,he=0,be=!1;const re=sb(),oe=({x:S,y:k})=>{U={x:S,y:k};let g=!1;if(P=P.map(v=>{const x={x:S-v.distance.x,y:k-v.distance.y},{computedPosition:E}=il(v,n.value?xr(x,o.value):x,I.error,i.value,v.parentNode?m(v.parentNode):void 0);return g=g||v.position.x!==E.x||v.position.y!==E.y,v.position=E,v}),ie=ie||g,!!g&&(w(P,!0,!0),y.value=!0,Q)){const[v,x]=Zr({id:K,dragItems:P,findNode:m});B({event:Q,node:v,nodes:x})}},ae=()=>{if(!R)return;const[S,k]=Sd(J,R,c.value);if(S!==0||k!==0){const g={x:(U.x??0)-S/a.value.zoom,y:(U.y??0)-k/a.value.zoom};p({x:S,y:k})&&oe(g)}he=requestAnimationFrame(ae)},we=(S,k)=>{ne=!0;const g=m(K);!$.value&&!_.value&&g&&(g.selected||A()),g&&ve(N)&&$.value&&Ti(g,_.value,D,A,C,!1,k);const v=re(S.sourceEvent);if(U=v,P=zy(r.value,d.value,v,K),P.length){const[x,E]=Zr({id:K,dragItems:P,findNode:m});O({event:S.sourceEvent,node:x,nodes:E})}},Me=(S,k)=>{var g;S.sourceEvent.type==="touchmove"&&S.sourceEvent.touches.length>1||(ie=!1,l.value===0&&we(S,k),U=re(S.sourceEvent),R=((g=t.value)==null?void 0:g.getBoundingClientRect())||null,J=Pt(S.sourceEvent,R))},pe=(S,k)=>{const g=re(S.sourceEvent);if(!be&&ne&&u.value&&(be=!0,ae()),!ne){const v=g.xSnapped-(U.x??0),x=g.ySnapped-(U.y??0);Math.sqrt(v*v+x*x)>l.value&&we(S,k)}(U.x!==g.xSnapped||U.y!==g.ySnapped)&&P.length&&ne&&(Q=S.sourceEvent,J=Pt(S.sourceEvent,R),oe(g))},$e=S=>{let k=!1;if(!ne&&!y.value&&!_.value){const g=S.sourceEvent,v=re(g),x=v.xSnapped-(U.x??0),E=v.ySnapped-(U.y??0),M=Math.sqrt(x*x+E*E);M!==0&&M<=l.value&&(f?.(g),k=!0)}if(P.length&&!k){ie&&(w(P,!1,!1),ie=!1);const[g,v]=Zr({id:K,dragItems:P,findNode:m});j({event:S.sourceEvent,node:g,nodes:v})}P=[],y.value=!1,be=!1,ne=!1,U={x:void 0,y:void 0},cancelAnimationFrame(he)};return ye([()=>ve(G),h],([S,k],g,v)=>{if(k){const x=vt(k);S||(T=Nv().on("start",E=>Me(E,k)).on("drag",E=>pe(E,k)).on("end",E=>$e(E)).filter(E=>{const M=E.target,V=ve(q);return!E.button&&(!s.value||!Ra(M,`.${s.value}`,k)&&(!V||Ra(M,V,k)))}),x.call(T)),v(()=>{x.on(".drag",null),T&&(T.on("start",null),T.on("drag",null),T.on("end",null))})}}),y}function nb(){return{doubleClick:te(),click:te(),mouseEnter:te(),mouseMove:te(),mouseLeave:te(),contextMenu:te(),updateStart:te(),update:te(),updateEnd:te()}}function ob(e,t){const n=nb();return n.doubleClick.on(o=>{var s,r;t.edgeDoubleClick(o),(r=(s=e.events)==null?void 0:s.doubleClick)==null||r.call(s,o)}),n.click.on(o=>{var s,r;t.edgeClick(o),(r=(s=e.events)==null?void 0:s.click)==null||r.call(s,o)}),n.mouseEnter.on(o=>{var s,r;t.edgeMouseEnter(o),(r=(s=e.events)==null?void 0:s.mouseEnter)==null||r.call(s,o)}),n.mouseMove.on(o=>{var s,r;t.edgeMouseMove(o),(r=(s=e.events)==null?void 0:s.mouseMove)==null||r.call(s,o)}),n.mouseLeave.on(o=>{var s,r;t.edgeMouseLeave(o),(r=(s=e.events)==null?void 0:s.mouseLeave)==null||r.call(s,o)}),n.contextMenu.on(o=>{var s,r;t.edgeContextMenu(o),(r=(s=e.events)==null?void 0:s.contextMenu)==null||r.call(s,o)}),n.updateStart.on(o=>{var s,r;t.edgeUpdateStart(o),(r=(s=e.events)==null?void 0:s.updateStart)==null||r.call(s,o)}),n.update.on(o=>{var s,r;t.edgeUpdate(o),(r=(s=e.events)==null?void 0:s.update)==null||r.call(s,o)}),n.updateEnd.on(o=>{var s,r;t.edgeUpdateEnd(o),(r=(s=e.events)==null?void 0:s.updateEnd)==null||r.call(s,o)}),Object.entries(n).reduce((o,[s,r])=>(o.emit[s]=r.trigger,o.on[s]=r.on,o),{emit:{},on:{}})}function sb(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:o}=Re();return s=>{var r;const i=((r=o.value)==null?void 0:r.getBoundingClientRect())??{left:0,top:0},l=jy(s)?s.sourceEvent:s,{x:a,y:u}=Pt(l,i),c=Wo({x:a,y:u},e.value),{x:d,y:p}=n.value?xr(c,t.value):c;return{xSnapped:d,ySnapped:p,...c}}}function ms(){return!0}function Td({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:s,onEdgeUpdate:r,onEdgeUpdateEnd:i}){const{id:l,vueFlowRef:a,connectionMode:u,connectionRadius:c,connectOnClick:d,connectionClickStartHandle:p,nodesConnectable:m,autoPanOnConnect:_,autoPanSpeed:C,findNode:$,panBy:A,startConnection:D,updateConnection:w,endConnection:I,emits:O,viewport:B,edges:j,nodes:f,isValidConnection:h,nodeLookup:G}=Re();let K=null,N=!1,q=null;function y(T){var R;const U=ve(n)==="target",J=ll(T),Q=Na(T.target),ne=T.currentTarget;if(ne&&(J&&T.button===0||!J)){let ie=function(W){g=Pt(W,$e),oe=Wy(Wo(g,B.value,!1,[1,1]),c.value,G.value,E),v||(x(),v=!0);const Y=Va(W,{handle:oe,connectionMode:u.value,fromNodeId:ve(t),fromHandleId:ve(e),fromType:U?"target":"source",isValidConnection:re,doc:Q,lib:"vue",flowId:l,nodeLookup:G.value},j.value,f.value,$,G.value);q=Y.handleDomNode,K=Y.connection,N=qy(!!oe,Y.isValid);const Z={...z,isValid:N,to:Y.toHandle&&N?Yo({x:Y.toHandle.x,y:Y.toHandle.y},B.value):g,toHandle:Y.toHandle,toPosition:N&&Y.toHandle?Y.toHandle.position:ki[E.position],toNode:Y.toHandle?G.value.get(Y.toHandle.nodeId):null};if(N&&oe&&z?.toHandle&&Z.toHandle&&z.toHandle.type===Z.toHandle.type&&z.toHandle.nodeId===Z.toHandle.nodeId&&z.toHandle.id===Z.toHandle.id&&z.to.x===Z.to.x&&z.to.y===Z.to.y)return;const ee=oe??Y.toHandle;if(w(ee&&N?Yo({x:ee.x,y:ee.y},B.value):g,ee,Xy(!!ee,N)),z=Z,!oe&&!N&&!q)return Jr(k);K&&K.source!==K.target&&q&&(Jr(k),k=q,q.classList.add("connecting","vue-flow__handle-connecting"),q.classList.toggle("valid",!!N),q.classList.toggle("vue-flow__handle-valid",!!N))},he=function(W){"touches"in W&&W.touches.length>0||((oe||q)&&K&&N&&(r?r(W,K):O.connect(K)),O.connectEnd(W),s&&i?.(W),Jr(k),cancelAnimationFrame(ae),I(W),v=!1,N=!1,K=null,q=null,Q.removeEventListener("mousemove",ie),Q.removeEventListener("mouseup",he),Q.removeEventListener("touchmove",ie),Q.removeEventListener("touchend",he))};const be=$(ve(t));let re=ve(o)||h.value||ms;!re&&be&&(re=(U?be.isValidSourcePos:be.isValidTargetPos)||ms);let oe,ae=0;const{x:we,y:Me}=Pt(T),pe=Ed(ve(s),ne),$e=(R=a.value)==null?void 0:R.getBoundingClientRect();if(!$e||!pe)return;const S=Id(ve(t),pe,ve(e),G.value,u.value);if(!S)return;let k,g=Pt(T,$e),v=!1;const x=()=>{if(!_.value)return;const[W,Y]=Sd(g,$e,C.value);A({x:W,y:Y}),ae=requestAnimationFrame(x)},E={...S,nodeId:ve(t),type:pe,position:S.position},M=G.value.get(ve(t)),H={inProgress:!0,isValid:null,from:io(M,E,le.Left,!0),fromHandle:E,fromPosition:E.position,fromNode:M,to:g,toHandle:null,toPosition:ki[E.position],toNode:null};D({nodeId:ve(t),id:ve(e),type:pe,position:ne?.getAttribute("data-handlepos")||le.Top,...g},{x:we-$e.left,y:Me-$e.top}),O.connectStart({event:T,nodeId:ve(t),handleId:ve(e),handleType:pe});let z=H;Q.addEventListener("mousemove",ie),Q.addEventListener("mouseup",he),Q.addEventListener("touchmove",ie),Q.addEventListener("touchend",he)}}function P(T){var R,U;if(!d.value)return;const J=ve(n)==="target";if(!p.value){O.clickConnectStart({event:T,nodeId:ve(t),handleId:ve(e)}),D({nodeId:ve(t),type:ve(n),id:ve(e),position:le.Top,...Pt(T)},void 0,!0);return}let Q=ve(o)||h.value||ms;const ne=$(ve(t));if(!Q&&ne&&(Q=(J?ne.isValidSourcePos:ne.isValidTargetPos)||ms),ne&&(typeof ne.connectable>"u"?m.value:ne.connectable)===!1)return;const ie=Na(T.target),he=Va(T,{handle:{nodeId:ve(t),id:ve(e),type:ve(n),position:le.Top,...Pt(T)},connectionMode:u.value,fromNodeId:p.value.nodeId,fromHandleId:p.value.id??null,fromType:p.value.type,isValidConnection:Q,doc:ie,lib:"vue",flowId:l,nodeLookup:G.value},j.value,f.value,$,G.value),be=((R=he.connection)==null?void 0:R.source)===((U=he.connection)==null?void 0:U.target);he.isValid&&he.connection&&!be&&O.connect(he.connection),O.clickConnectEnd(T),I(T,!0)}return{handlePointerDown:y,handleClick:P}}function rb(){return xt($d,"")}function Ad(e){const t=e??rb()??"",n=xt(Md,xe(null)),{findNode:o,edges:s,emits:r}=Re(),i=o(t);return i||r.error(new Ge(Ue.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:i,parentNode:ue(()=>o(i.parentNode)),connectedEdges:ue(()=>wd([i],s.value))}}function ib(){return{doubleClick:te(),click:te(),mouseEnter:te(),mouseMove:te(),mouseLeave:te(),contextMenu:te(),dragStart:te(),drag:te(),dragStop:te()}}function lb(e,t){const n=ib();return n.doubleClick.on(o=>{var s,r;t.nodeDoubleClick(o),(r=(s=e.events)==null?void 0:s.doubleClick)==null||r.call(s,o)}),n.click.on(o=>{var s,r;t.nodeClick(o),(r=(s=e.events)==null?void 0:s.click)==null||r.call(s,o)}),n.mouseEnter.on(o=>{var s,r;t.nodeMouseEnter(o),(r=(s=e.events)==null?void 0:s.mouseEnter)==null||r.call(s,o)}),n.mouseMove.on(o=>{var s,r;t.nodeMouseMove(o),(r=(s=e.events)==null?void 0:s.mouseMove)==null||r.call(s,o)}),n.mouseLeave.on(o=>{var s,r;t.nodeMouseLeave(o),(r=(s=e.events)==null?void 0:s.mouseLeave)==null||r.call(s,o)}),n.contextMenu.on(o=>{var s,r;t.nodeContextMenu(o),(r=(s=e.events)==null?void 0:s.contextMenu)==null||r.call(s,o)}),n.dragStart.on(o=>{var s,r;t.nodeDragStart(o),(r=(s=e.events)==null?void 0:s.dragStart)==null||r.call(s,o)}),n.drag.on(o=>{var s,r;t.nodeDrag(o),(r=(s=e.events)==null?void 0:s.drag)==null||r.call(s,o)}),n.dragStop.on(o=>{var s,r;t.nodeDragStop(o),(r=(s=e.events)==null?void 0:s.dragStop)==null||r.call(s,o)}),Object.entries(n).reduce((o,[s,r])=>(o.emit[s]=r.trigger,o.on[s]=r.on,o),{emit:{},on:{}})}function Dd(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:s,snapToGrid:r,nodesDraggable:i,emits:l}=Re();return(a,u=!1)=>{const c=r.value?s.value[0]:5,d=r.value?s.value[1]:5,p=u?4:1,m=a.x*c*p,_=a.y*d*p,C=[];for(const $ of e.value)if($.draggable||i&&typeof $.draggable>"u"){const A={x:$.computedPosition.x+m,y:$.computedPosition.y+_},{position:D}=il($,A,l.error,t.value,$.parentNode?o($.parentNode):void 0);C.push({id:$.id,position:D,from:$.position,distance:{x:a.x,y:a.y},dimensions:$.dimensions})}n(C,!0,!1)}}const vs=.1,ab=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function sn(){return os("Viewport not initialized yet."),Promise.resolve(!1)}const ub={zoomIn:sn,zoomOut:sn,zoomTo:sn,fitView:sn,setCenter:sn,fitBounds:sn,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:sn,setTransform:sn,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function cb(e){function t(o,s){return new Promise(r=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(s?.interpolate==="linear"?Do:Is).scaleBy(ti(e.d3Selection,s?.duration,s?.ease,()=>{r(!0)}),o):r(!1)})}function n(o,s,r,i){return new Promise(l=>{var a;const{x:u,y:c}=pd({x:-o,y:-s},e.translateExtent),d=ro.translate(-u,-c).scale(r);e.d3Selection&&e.d3Zoom?(a=e.d3Zoom)==null||a.interpolate(i?.interpolate==="linear"?Do:Is).transform(ti(e.d3Selection,i?.duration,i?.ease,()=>{l(!0)}),d):l(!1)})}return ue(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:s=>t(1.2,s),zoomOut:s=>t(1/1.2,s),zoomTo:(s,r)=>new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(r?.interpolate==="linear"?Do:Is).scaleTo(ti(e.d3Selection,r?.duration,r?.ease,()=>{i(!0)}),s):i(!1)}),setViewport:(s,r)=>n(s.x,s.y,s.zoom,r),setTransform:(s,r)=>n(s.x,s.y,s.zoom,r),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(s={padding:vs,includeHiddenNodes:!1,duration:0})=>{var r,i;const l=[];for(const p of e.nodes)p.dimensions.width&&p.dimensions.height&&(s?.includeHiddenNodes||!p.hidden)&&(!((r=s.nodes)!=null&&r.length)||(i=s.nodes)!=null&&i.length&&s.nodes.includes(p.id))&&l.push(p);if(!l.length)return Promise.resolve(!1);const a=bd(l),{x:u,y:c,zoom:d}=$a(a,e.dimensions.width,e.dimensions.height,s.minZoom??e.minZoom,s.maxZoom??e.maxZoom,s.padding??vs);return n(u,c,d,s)},setCenter:(s,r,i)=>{const l=typeof i?.zoom<"u"?i.zoom:e.maxZoom,a=e.dimensions.width/2-s*l,u=e.dimensions.height/2-r*l;return n(a,u,l,i)},fitBounds:(s,r={padding:vs})=>{const{x:i,y:l,zoom:a}=$a(s,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,r.padding??vs);return n(i,l,a,r)},project:s=>Wo(s,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:s=>{if(e.vueFlowRef){const{x:r,y:i}=e.vueFlowRef.getBoundingClientRect(),l={x:s.x-r,y:s.y-i};return Wo(l,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:s=>{if(e.vueFlowRef){const{x:r,y:i}=e.vueFlowRef.getBoundingClientRect(),l={x:s.x+r,y:s.y+i};return Yo(l,e.viewport)}return{x:0,y:0}}}:ub)}function ti(e,t=0,n=ab,o=()=>{}){const s=typeof t=="number"&&t>0;return s||o(),s?e.transition().duration(t).ease(n).on("end",o):e}function db(e,t,n){const o=or(!0);return o.run(()=>{const s=()=>{o.run(()=>{let C,$,A=!!(n.nodes.value.length||n.edges.value.length);C=Hn([e.modelValue,()=>{var D,w;return(w=(D=e.modelValue)==null?void 0:D.value)==null?void 0:w.length}],([D])=>{D&&Array.isArray(D)&&($?.pause(),n.setElements(D),!$&&!A&&D.length?A=!0:$?.resume())}),$=Hn([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([D,w])=>{var I;(I=e.modelValue)!=null&&I.value&&Array.isArray(e.modelValue.value)&&(C?.pause(),e.modelValue.value=[...D,...w],ct(()=>{C?.resume()}))},{immediate:A}),Co(()=>{C?.stop(),$?.stop()})})},r=()=>{o.run(()=>{let C,$,A=!!n.nodes.value.length;C=Hn([e.nodes,()=>{var D,w;return(w=(D=e.nodes)==null?void 0:D.value)==null?void 0:w.length}],([D])=>{D&&Array.isArray(D)&&($?.pause(),n.setNodes(D),!$&&!A&&D.length?A=!0:$?.resume())}),$=Hn([n.nodes,()=>n.nodes.value.length],([D])=>{var w;(w=e.nodes)!=null&&w.value&&Array.isArray(e.nodes.value)&&(C?.pause(),e.nodes.value=[...D],ct(()=>{C?.resume()}))},{immediate:A}),Co(()=>{C?.stop(),$?.stop()})})},i=()=>{o.run(()=>{let C,$,A=!!n.edges.value.length;C=Hn([e.edges,()=>{var D,w;return(w=(D=e.edges)==null?void 0:D.value)==null?void 0:w.length}],([D])=>{D&&Array.isArray(D)&&($?.pause(),n.setEdges(D),!$&&!A&&D.length?A=!0:$?.resume())}),$=Hn([n.edges,()=>n.edges.value.length],([D])=>{var w;(w=e.edges)!=null&&w.value&&Array.isArray(e.edges.value)&&(C?.pause(),e.edges.value=[...D],ct(()=>{C?.resume()}))},{immediate:A}),Co(()=>{C?.stop(),$?.stop()})})},l=()=>{o.run(()=>{ye(()=>t.maxZoom,()=>{t.maxZoom&&je(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},a=()=>{o.run(()=>{ye(()=>t.minZoom,()=>{t.minZoom&&je(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},u=()=>{o.run(()=>{ye(()=>t.translateExtent,()=>{t.translateExtent&&je(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},c=()=>{o.run(()=>{ye(()=>t.nodeExtent,()=>{t.nodeExtent&&je(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{o.run(()=>{ye(()=>t.applyDefault,()=>{je(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},p=()=>{o.run(()=>{const C=async $=>{let A=$;typeof t.autoConnect=="function"&&(A=await t.autoConnect($)),A!==!1&&n.addEdges([A])};ye(()=>t.autoConnect,()=>{je(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),ye(n.autoConnect,($,A,D)=>{$?n.onConnect(C):n.hooks.value.connect.off(C),D(()=>{n.hooks.value.connect.off(C)})},{immediate:!0})})},m=()=>{const C=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const $ of Object.keys(t)){const A=$;if(!C.includes(A)){const D=Oe(()=>t[A]),w=n[A];He(w)&&o.run(()=>{ye(D,I=>{je(I)&&(w.value=I)},{immediate:!0})})}}};s(),r(),i(),a(),l(),u(),c(),d(),p(),m()}),()=>o.stop()}function fb(){return{edgesChange:te(),nodesChange:te(),nodeDoubleClick:te(),nodeClick:te(),nodeMouseEnter:te(),nodeMouseMove:te(),nodeMouseLeave:te(),nodeContextMenu:te(),nodeDragStart:te(),nodeDrag:te(),nodeDragStop:te(),nodesInitialized:te(),miniMapNodeClick:te(),miniMapNodeDoubleClick:te(),miniMapNodeMouseEnter:te(),miniMapNodeMouseMove:te(),miniMapNodeMouseLeave:te(),connect:te(),connectStart:te(),connectEnd:te(),clickConnectStart:te(),clickConnectEnd:te(),paneReady:te(),init:te(),move:te(),moveStart:te(),moveEnd:te(),selectionDragStart:te(),selectionDrag:te(),selectionDragStop:te(),selectionContextMenu:te(),selectionStart:te(),selectionEnd:te(),viewportChangeStart:te(),viewportChange:te(),viewportChangeEnd:te(),paneScroll:te(),paneClick:te(),paneContextMenu:te(),paneMouseEnter:te(),paneMouseMove:te(),paneMouseLeave:te(),edgeContextMenu:te(),edgeMouseEnter:te(),edgeMouseMove:te(),edgeMouseLeave:te(),edgeDoubleClick:te(),edgeClick:te(),edgeUpdateStart:te(),edgeUpdate:te(),edgeUpdateEnd:te(),updateNodeInternals:te(),error:te(e=>os(e.message))}}function hb(e,t){const n=Ct();Hu(()=>{for(const[s,r]of Object.entries(t.value)){const i=l=>{e(s,l)};r.setEmitter(i),Lo(r.removeEmitter),r.setHasEmitListeners(()=>o(s)),Lo(r.removeHasEmitListeners)}});function o(s){var r;const i=pb(s);return!!((r=n?.vnode.props)==null?void 0:r[i])}}function pb(e){const[t,...n]=e.split(":");return`on${t.replace(/(?:^|-)(\w)/g,(s,r)=>r.toUpperCase())}${n.length?`:${n.join(":")}`:""}`}function Od(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:rl.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Oo.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:_n.Bezier,style:{}},connectionMode:pn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Zs()?"Meta":"Control",zoomActivationKeyCode:Zs()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:fb(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const gb=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function mb(e,t,n){const o=cb(e),s=g=>{const v=g??[];e.hooks.updateNodeInternals.trigger(v)},r=g=>ky(g,e.nodes,e.edges),i=g=>My(g,e.nodes,e.edges),l=g=>wd(g,e.edges),a=({id:g,type:v,nodeId:x})=>{var E;const M=g?`-${v}-${g}`:`-${v}`;return Array.from(((E=e.connectionLookup.get(`${x}${M}`))==null?void 0:E.values())??[])},u=g=>{if(g)return t.value.get(g)},c=g=>{if(g)return n.value.get(g)},d=(g,v,x)=>{var E,M;const V=[];for(const H of g){const z={id:H.id,type:"position",dragging:x,from:H.from};if(v&&(z.position=H.position,H.parentNode)){const W=u(H.parentNode);z.position={x:z.position.x-(((E=W?.computedPosition)==null?void 0:E.x)??0),y:z.position.y-(((M=W?.computedPosition)==null?void 0:M.y)??0)}}V.push(z)}V?.length&&e.hooks.nodesChange.trigger(V)},p=g=>{if(!e.vueFlowRef)return;const v=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!v)return;const x=window.getComputedStyle(v),{m22:E}=new window.DOMMatrixReadOnly(x.transform),M=[];for(const V of g){const H=V,z=u(H.id);if(z){const W=br(H.nodeElement);if(!!(W.width&&W.height&&(z.dimensions.width!==W.width||z.dimensions.height!==W.height||H.forceUpdate))){const Z=H.nodeElement.getBoundingClientRect();z.dimensions=W,z.handleBounds.source=Fa("source",H.nodeElement,Z,E,z.id),z.handleBounds.target=Fa("target",H.nodeElement,Z,E,z.id),M.push({id:z.id,type:"dimensions",dimensions:W})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),M.length&&e.hooks.nodesChange.trigger(M)},m=(g,v)=>{const x=new Set,E=new Set;for(const H of g)$n(H)?x.add(H.id):gn(H)&&E.add(H.id);const M=fn(t.value,x,!0),V=fn(n.value,E);if(e.multiSelectionActive){for(const H of x)M.push(un(H,v));for(const H of E)V.push(un(H,v))}M.length&&e.hooks.nodesChange.trigger(M),V.length&&e.hooks.edgesChange.trigger(V)},_=g=>{if(e.multiSelectionActive){const v=g.map(x=>un(x.id,!0));e.hooks.nodesChange.trigger(v);return}e.hooks.nodesChange.trigger(fn(t.value,new Set(g.map(v=>v.id)),!0)),e.hooks.edgesChange.trigger(fn(n.value))},C=g=>{if(e.multiSelectionActive){const v=g.map(x=>un(x.id,!0));e.hooks.edgesChange.trigger(v);return}e.hooks.edgesChange.trigger(fn(n.value,new Set(g.map(v=>v.id)))),e.hooks.nodesChange.trigger(fn(t.value,new Set,!0))},$=g=>{m(g,!0)},A=g=>{const x=(g||e.nodes).map(E=>(E.selected=!1,un(E.id,!1)));e.hooks.nodesChange.trigger(x)},D=g=>{const x=(g||e.edges).map(E=>(E.selected=!1,un(E.id,!1)));e.hooks.edgesChange.trigger(x)},w=g=>{if(!g||!g.length)return m([],!1);const v=g.reduce((x,E)=>{const M=un(E.id,!1);return $n(E)?x.nodes.push(M):x.edges.push(M),x},{nodes:[],edges:[]});v.nodes.length&&e.hooks.nodesChange.trigger(v.nodes),v.edges.length&&e.hooks.edgesChange.trigger(v.edges)},I=g=>{var v;(v=e.d3Zoom)==null||v.scaleExtent([g,e.maxZoom]),e.minZoom=g},O=g=>{var v;(v=e.d3Zoom)==null||v.scaleExtent([e.minZoom,g]),e.maxZoom=g},B=g=>{var v;(v=e.d3Zoom)==null||v.translateExtent(g),e.translateExtent=g},j=g=>{e.nodeExtent=g,s()},f=g=>{var v;(v=e.d3Zoom)==null||v.clickDistance(g)},h=g=>{e.nodesDraggable=g,e.nodesConnectable=g,e.elementsSelectable=g},G=g=>{const v=g instanceof Function?g(e.nodes):g;!e.initialized&&!v.length||(e.nodes=Ba(v,u,e.hooks.error.trigger))},K=g=>{const v=g instanceof Function?g(e.edges):g;if(!e.initialized&&!v.length)return;const x=ei(v,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);Qr(e.connectionLookup,n.value,x),e.edges=x},N=g=>{const v=g instanceof Function?g([...e.nodes,...e.edges]):g;!e.initialized&&!v.length||(G(v.filter($n)),K(v.filter(gn)))},q=g=>{let v=g instanceof Function?g(e.nodes):g;v=Array.isArray(v)?v:[v];const x=Ba(v,u,e.hooks.error.trigger),E=[];for(const M of x)E.push(Aa(M));E.length&&e.hooks.nodesChange.trigger(E)},y=g=>{let v=g instanceof Function?g(e.edges):g;v=Array.isArray(v)?v:[v];const x=ei(v,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),E=[];for(const M of x)E.push(Aa(M));E.length&&e.hooks.edgesChange.trigger(E)},P=(g,v=!0,x=!1)=>{const E=g instanceof Function?g(e.nodes):g,M=Array.isArray(E)?E:[E],V=[],H=[];function z(Y){const Z=l(Y);for(const ee of Z)(!je(ee.deletable)||ee.deletable)&&H.push(Oa(ee.id,ee.source,ee.target,ee.sourceHandle,ee.targetHandle))}function W(Y){const Z=[];for(const ee of e.nodes)ee.parentNode===Y&&Z.push(ee);if(Z.length){for(const ee of Z)V.push(Da(ee.id));v&&z(Z);for(const ee of Z)W(ee.id)}}for(const Y of M){const Z=typeof Y=="string"?u(Y):Y;Z&&(je(Z.deletable)&&!Z.deletable||(V.push(Da(Z.id)),v&&z([Z]),x&&W(Z.id)))}H.length&&e.hooks.edgesChange.trigger(H),V.length&&e.hooks.nodesChange.trigger(V)},T=g=>{const v=g instanceof Function?g(e.edges):g,x=Array.isArray(v)?v:[v],E=[];for(const M of x){const V=typeof M=="string"?c(M):M;V&&(je(V.deletable)&&!V.deletable||E.push(Oa(typeof M=="string"?M:M.id,V.source,V.target,V.sourceHandle,V.targetHandle)))}e.hooks.edgesChange.trigger(E)},R=(g,v,x=!0)=>{const E=c(g.id);if(!E)return!1;const M=e.edges.indexOf(E),V=Qy(g,v,E,x,e.hooks.error.trigger);if(V){const[H]=ei([V],e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((z,W)=>W===M?H:z),Qr(e.connectionLookup,n.value,[H]),H}return!1},U=(g,v,x={replace:!1})=>{const E=c(g);if(!E)return;const M=typeof v=="function"?v(E):v;E.data=x.replace?M:{...E.data,...M}},J=g=>Ta(g,e.nodes),Q=g=>{const v=Ta(g,e.edges);return Qr(e.connectionLookup,n.value,v),v},ne=(g,v,x={replace:!1})=>{const E=u(g);if(!E)return;const M=typeof v=="function"?v(E):v;x.replace?e.nodes.splice(e.nodes.indexOf(E),1,M):Object.assign(E,M)},ie=(g,v,x={replace:!1})=>{const E=u(g);if(!E)return;const M=typeof v=="function"?v(E):v;E.data=x.replace?M:{...E.data,...M}},he=(g,v,x=!1)=>{x?e.connectionClickStartHandle=g:e.connectionStartHandle=g,e.connectionEndHandle=null,e.connectionStatus=null,v&&(e.connectionPosition=v)},be=(g,v=null,x=null)=>{e.connectionStartHandle&&(e.connectionPosition=g,e.connectionEndHandle=v,e.connectionStatus=x)},re=(g,v)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,v?e.connectionClickStartHandle=null:e.connectionStartHandle=null},oe=g=>{const v=Ny(g),x=v?null:_o(g)?g:u(g.id);return!v&&!x?[null,null,v]:[v?g:Xs(x),x,v]},ae=(g,v=!0,x=e.nodes)=>{const[E,M,V]=oe(g);if(!E)return[];const H=[];for(const z of x||e.nodes){if(!V&&(z.id===M.id||!z.computedPosition))continue;const W=Xs(z),Y=qs(W,E);(v&&Y>0||Y>=W.width*W.height||Y>=Number(E.width)*Number(E.height))&&H.push(z)}return H},we=(g,v,x=!0)=>{const[E]=oe(g);if(!E)return!1;const M=qs(E,v);return x&&M>0||M>=Number(E.width)*Number(E.height)},Me=g=>{const{viewport:v,dimensions:x,d3Zoom:E,d3Selection:M,translateExtent:V}=e;if(!E||!M||!g.x&&!g.y)return!1;const H=ro.translate(v.x+g.x,v.y+g.y).scale(v.zoom),z=[[0,0],[x.width,x.height]],W=E.constrain()(H,z,V),Y=e.viewport.x!==W.x||e.viewport.y!==W.y||e.viewport.zoom!==W.k;return E.transform(M,W),Y},pe=g=>{const v=g instanceof Function?g(e):g,x=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];je(v.defaultEdgeOptions)&&(e.defaultEdgeOptions=v.defaultEdgeOptions);const E=v.modelValue||v.nodes||v.edges?[]:void 0;E&&(v.modelValue&&E.push(...v.modelValue),v.nodes&&E.push(...v.nodes),v.edges&&E.push(...v.edges),N(E));const M=()=>{je(v.maxZoom)&&O(v.maxZoom),je(v.minZoom)&&I(v.minZoom),je(v.translateExtent)&&B(v.translateExtent)};for(const V of Object.keys(v)){const H=V,z=v[H];![...gb,...x].includes(H)&&je(z)&&(e[H]=z)}bi(()=>e.d3Zoom).not.toBeNull().then(M),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:p,setElements:N,setNodes:G,setEdges:K,addNodes:q,addEdges:y,removeNodes:P,removeEdges:T,findNode:u,findEdge:c,updateEdge:R,updateEdgeData:U,updateNode:ne,updateNodeData:ie,applyEdgeChanges:Q,applyNodeChanges:J,addSelectedElements:$,addSelectedNodes:_,addSelectedEdges:C,setMinZoom:I,setMaxZoom:O,setTranslateExtent:B,setNodeExtent:j,setPaneClickDistance:f,removeSelectedElements:w,removeSelectedNodes:A,removeSelectedEdges:D,startConnection:he,updateConnection:be,endConnection:re,setInteractive:h,setState:pe,getIntersectingNodes:ae,getIncomers:r,getOutgoers:i,getConnectedEdges:l,getHandleConnections:a,isNodeIntersecting:we,panBy:Me,fitView:g=>o.value.fitView(g),zoomIn:g=>o.value.zoomIn(g),zoomOut:g=>o.value.zoomOut(g),zoomTo:(g,v)=>o.value.zoomTo(g,v),setViewport:(g,v)=>o.value.setViewport(g,v),setTransform:(g,v)=>o.value.setTransform(g,v),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(g,v,x)=>o.value.setCenter(g,v,x),fitBounds:(g,v)=>o.value.fitBounds(g,v),project:g=>o.value.project(g),screenToFlowCoordinate:g=>o.value.screenToFlowCoordinate(g),flowToScreenCoordinate:g=>o.value.flowToScreenCoordinate(g),toObject:()=>{const g=[],v=[];for(const x of e.nodes){const{computedPosition:E,handleBounds:M,selected:V,dimensions:H,isParent:z,resizing:W,dragging:Y,events:Z,...ee}=x;g.push(ee)}for(const x of e.edges){const{selected:E,sourceNode:M,targetNode:V,events:H,...z}=x;v.push(z)}return JSON.parse(JSON.stringify({nodes:g,edges:v,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:g=>new Promise(v=>{const{nodes:x,edges:E,position:M,zoom:V,viewport:H}=g;x&&G(x),E&&K(E);const[z,W]=H?.x&&H?.y?[H.x,H.y]:M??[null,null];if(z&&W){const Y=H?.zoom||V||e.viewport.zoom;return bi(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:z,y:W,zoom:Y}).then(()=>{v(!0)})})}else v(!0)}),updateNodeInternals:s,viewportHelper:o,$reset:()=>{const g=Od();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const v=ro.translate(g.defaultViewport.x??0,g.defaultViewport.y??0).scale(Dn(g.defaultViewport.zoom??1,g.minZoom,g.maxZoom)),x=e.viewportRef.getBoundingClientRect(),E=[[0,0],[x.width,x.height]],M=e.d3Zoom.constrain()(v,E,g.translateExtent);e.d3Zoom.transform(e.d3Selection,M)}pe(g)},$destroy:()=>{}}}const vb=["data-id","data-handleid","data-nodeid","data-handlepos"],yb={name:"Handle",compatConfig:{MODE:3}},lo=Fe({...yb,props:{id:{default:null},type:{},position:{default:()=>le.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=th(e,["position","connectable","connectableStart","connectableEnd","id"]),o=Oe(()=>n.type??"source"),s=Oe(()=>n.isValidConnection??null),{id:r,connectionStartHandle:i,connectionClickStartHandle:l,connectionEndHandle:a,vueFlowRef:u,nodesConnectable:c,noDragClassName:d,noPanClassName:p}=Re(),{id:m,node:_,nodeEl:C,connectedEdges:$}=Ad(),A=xe(),D=Oe(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),w=Oe(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),I=Oe(()=>{var K,N,q,y,P,T;return((K=i.value)==null?void 0:K.nodeId)===m&&((N=i.value)==null?void 0:N.id)===e.id&&((q=i.value)==null?void 0:q.type)===o.value||((y=a.value)==null?void 0:y.nodeId)===m&&((P=a.value)==null?void 0:P.id)===e.id&&((T=a.value)==null?void 0:T.type)===o.value}),O=Oe(()=>{var K,N,q;return((K=l.value)==null?void 0:K.nodeId)===m&&((N=l.value)==null?void 0:N.id)===e.id&&((q=l.value)==null?void 0:q.type)===o.value}),{handlePointerDown:B,handleClick:j}=Td({nodeId:m,handleId:e.id,isValidConnection:s,type:o}),f=ue(()=>typeof e.connectable=="string"&&e.connectable==="single"?!$.value.some(K=>{const N=K[`${o.value}Handle`];return K[o.value]!==m?!1:N?N===e.id:!0}):typeof e.connectable=="number"?$.value.filter(K=>{const N=K[`${o.value}Handle`];return K[o.value]!==m?!1:N?N===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(_,$.value):je(e.connectable)?e.connectable:c.value);lt(()=>{var K;if(!_.dimensions.width||!_.dimensions.height)return;const N=(K=_.handleBounds[o.value])==null?void 0:K.find(J=>J.id===e.id);if(!u.value||N)return;const q=u.value.querySelector(".vue-flow__transformationpane");if(!C.value||!A.value||!q||!e.id)return;const y=C.value.getBoundingClientRect(),P=A.value.getBoundingClientRect(),T=window.getComputedStyle(q),{m22:R}=new window.DOMMatrixReadOnly(T.transform),U={id:e.id,position:e.position,x:(P.left-y.left)/R,y:(P.top-y.top)/R,type:o.value,nodeId:m,...br(A.value)};_.handleBounds[o.value]=[..._.handleBounds[o.value]??[],U]});function h(K){const N=ll(K);f.value&&D.value&&(N&&K.button===0||!N)&&B(K)}function G(K){!m||!l.value&&!D.value||f.value&&j(K)}return t({handleClick:j,handlePointerDown:B,onClick:G,onPointerDown:h}),(K,N)=>(F(),X("div",{ref_key:"handle",ref:A,"data-id":`${L(r)}-${L(m)}-${e.id}-${o.value}`,"data-handleid":e.id,"data-nodeid":L(m),"data-handlepos":K.position,class:Ee(["vue-flow__handle",[`vue-flow__handle-${K.position}`,`vue-flow__handle-${e.id}`,L(d),L(p),o.value,{connectable:f.value,connecting:O.value,connectablestart:D.value,connectableend:w.value,connectionindicator:f.value&&(D.value&&!I.value||w.value&&I.value)}]]),onMousedown:h,onTouchstartPassive:h,onClick:G},[Be(K.$slots,"default",{id:K.id})],42,vb))}}),_r=function({sourcePosition:e=le.Bottom,targetPosition:t=le.Top,label:n,connectable:o=!0,isValidTargetPos:s,isValidSourcePos:r,data:i}){const l=i.label??n;return[Ne(lo,{type:"target",position:t,connectable:o,isValidConnection:s}),typeof l!="string"&&l?Ne(l):Ne(ce,[l]),Ne(lo,{type:"source",position:e,connectable:o,isValidConnection:r})]};_r.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];_r.inheritAttrs=!1;_r.compatConfig={MODE:3};const bb=_r,Sr=function({targetPosition:e=le.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:s}){const r=s.label??t;return[Ne(lo,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof r!="string"&&r?Ne(r):Ne(ce,[r])]};Sr.props=["targetPosition","label","isValidTargetPos","connectable","data"];Sr.inheritAttrs=!1;Sr.compatConfig={MODE:3};const xb=Sr,Cr=function({sourcePosition:e=le.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:s}){const r=s.label??t;return[typeof r!="string"&&r?Ne(r):Ne(ce,[r]),Ne(lo,{type:"source",position:e,connectable:n,isValidConnection:o})]};Cr.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Cr.inheritAttrs=!1;Cr.compatConfig={MODE:3};const wb=Cr,_b=["transform"],Sb=["width","height","x","y","rx","ry"],Cb=["y"],Eb={name:"EdgeText",compatConfig:{MODE:3}},Ib=Fe({...Eb,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=xe({x:0,y:0,width:0,height:0}),n=xe(null),o=ue(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);lt(s),ye([()=>e.x,()=>e.y,n,()=>e.label],s);function s(){if(!n.value)return;const r=n.value.getBBox();(r.width!==t.value.width||r.height!==t.value.height)&&(t.value=r)}return(r,i)=>(F(),X("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[r.labelShowBg?(F(),X("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*r.labelBgPadding[0]}px`,height:`${t.value.height+2*r.labelBgPadding[1]}px`,x:-r.labelBgPadding[0],y:-r.labelBgPadding[1],style:We(r.labelBgStyle),rx:r.labelBgBorderRadius,ry:r.labelBgBorderRadius},null,12,Sb)):fe("",!0),b("text",Xi(r.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:r.labelStyle}),[Be(r.$slots,"default",{},()=>[typeof r.label!="string"?(F(),Ve(Bn(r.label),{key:0})):(F(),X(ce,{key:1},[Ye(Ce(r.label),1)],64))])],16,Cb)],8,_b))}}),Nb=["id","d","marker-end","marker-start"],$b=["d","stroke-width"],Mb={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Er=Fe({...Mb,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=xe(null),o=xe(null),s=xe(null),r=eh();return t({pathEl:n,interactionEl:o,labelEl:s}),(i,l)=>(F(),X(ce,null,[b("path",Xi(L(r),{id:i.id,ref_key:"pathEl",ref:n,d:i.path,class:"vue-flow__edge-path","marker-end":i.markerEnd,"marker-start":i.markerStart}),null,16,Nb),i.interactionWidth?(F(),X("path",{key:0,ref_key:"interactionEl",ref:o,fill:"none",d:i.path,"stroke-width":i.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,$b)):fe("",!0),i.label&&i.labelX&&i.labelY?(F(),Ve(Ib,{key:1,ref_key:"labelEl",ref:s,x:i.labelX,y:i.labelY,label:i.label,"label-show-bg":i.labelShowBg,"label-bg-style":i.labelBgStyle,"label-bg-padding":i.labelBgPadding,"label-bg-border-radius":i.labelBgBorderRadius,"label-style":i.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):fe("",!0)],64))}});function Pd({sourceX:e,sourceY:t,targetX:n,targetY:o}){const s=Math.abs(n-e)/2,r=n<e?n+s:n-s,i=Math.abs(o-t)/2,l=o<t?o+i:o-i;return[r,l,s,i]}function Rd({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:s,sourceControlY:r,targetControlX:i,targetControlY:l}){const a=e*.125+s*.375+i*.375+n*.125,u=t*.125+r*.375+l*.375+o*.125,c=Math.abs(a-e),d=Math.abs(u-t);return[a,u,c,d]}function ys(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ka({pos:e,x1:t,y1:n,x2:o,y2:s,c:r}){let i,l;switch(e){case le.Left:i=t-ys(t-o,r),l=n;break;case le.Right:i=t+ys(o-t,r),l=n;break;case le.Top:i=t,l=n-ys(n-s,r);break;case le.Bottom:i=t,l=n+ys(s-n,r);break}return[i,l]}function zd(e){const{sourceX:t,sourceY:n,sourcePosition:o=le.Bottom,targetX:s,targetY:r,targetPosition:i=le.Top,curvature:l=.25}=e,[a,u]=Ka({pos:o,x1:t,y1:n,x2:s,y2:r,c:l}),[c,d]=Ka({pos:i,x1:s,y1:r,x2:t,y2:n,c:l}),[p,m,_,C]=Rd({sourceX:t,sourceY:n,targetX:s,targetY:r,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${t},${n} C${a},${u} ${c},${d} ${s},${r}`,p,m,_,C]}function Ga({pos:e,x1:t,y1:n,x2:o,y2:s}){let r,i;switch(e){case le.Left:case le.Right:r=.5*(t+o),i=n;break;case le.Top:case le.Bottom:r=t,i=.5*(n+s);break}return[r,i]}function Hd(e){const{sourceX:t,sourceY:n,sourcePosition:o=le.Bottom,targetX:s,targetY:r,targetPosition:i=le.Top}=e,[l,a]=Ga({pos:o,x1:t,y1:n,x2:s,y2:r}),[u,c]=Ga({pos:i,x1:s,y1:r,x2:t,y2:n}),[d,p,m,_]=Rd({sourceX:t,sourceY:n,targetX:s,targetY:r,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${t},${n} C${l},${a} ${u},${c} ${s},${r}`,d,p,m,_]}const Ya={[le.Left]:{x:-1,y:0},[le.Right]:{x:1,y:0},[le.Top]:{x:0,y:-1},[le.Bottom]:{x:0,y:1}};function kb({source:e,sourcePosition:t=le.Bottom,target:n}){return t===le.Left||t===le.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function Wa(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function Tb({source:e,sourcePosition:t=le.Bottom,target:n,targetPosition:o=le.Top,center:s,offset:r}){const i=Ya[t],l=Ya[o],a={x:e.x+i.x*r,y:e.y+i.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},c=kb({source:a,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",p=c[d];let m,_,C;const $={x:0,y:0},A={x:0,y:0},[D,w,I,O]=Pd({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[d]*l[d]===-1){_=s.x??D,C=s.y??w;const j=[{x:_,y:a.y},{x:_,y:u.y}],f=[{x:a.x,y:C},{x:u.x,y:C}];i[d]===p?m=d==="x"?j:f:m=d==="x"?f:j}else{const j=[{x:a.x,y:u.y}],f=[{x:u.x,y:a.y}];if(d==="x"?m=i.x===p?f:j:m=i.y===p?j:f,t===o){const q=Math.abs(e[d]-n[d]);if(q<=r){const y=Math.min(r-1,r-q);i[d]===p?$[d]=(a[d]>e[d]?-1:1)*y:A[d]=(u[d]>n[d]?-1:1)*y}}if(t!==o){const q=d==="x"?"y":"x",y=i[d]===l[q],P=a[q]>u[q],T=a[q]<u[q];(i[d]===1&&(!y&&P||y&&T)||i[d]!==1&&(!y&&T||y&&P))&&(m=d==="x"?j:f)}const h={x:a.x+$.x,y:a.y+$.y},G={x:u.x+A.x,y:u.y+A.y},K=Math.max(Math.abs(h.x-m[0].x),Math.abs(G.x-m[0].x)),N=Math.max(Math.abs(h.y-m[0].y),Math.abs(G.y-m[0].y));K>=N?(_=(h.x+G.x)/2,C=m[0].y):(_=m[0].x,C=(h.y+G.y)/2)}return[[e,{x:a.x+$.x,y:a.y+$.y},...m,{x:u.x+A.x,y:u.y+A.y},n],_,C,I,O]}function Ab(e,t,n,o){const s=Math.min(Wa(e,t)/2,Wa(t,n)/2,o),{x:r,y:i}=t;if(e.x===r&&r===n.x||e.y===i&&i===n.y)return`L${r} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${r+s*u},${i}Q ${r},${i} ${r},${i+s*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${r},${i+s*a}Q ${r},${i} ${r+s*l},${i}`}function Ai(e){const{sourceX:t,sourceY:n,sourcePosition:o=le.Bottom,targetX:s,targetY:r,targetPosition:i=le.Top,borderRadius:l=5,centerX:a,centerY:u,offset:c=20}=e,[d,p,m,_,C]=Tb({source:{x:t,y:n},sourcePosition:o,target:{x:s,y:r},targetPosition:i,center:{x:a,y:u},offset:c});return[d.reduce((A,D,w)=>{let I;return w>0&&w<d.length-1?I=Ab(d[w-1],D,d[w+1],l):I=`${w===0?"M":"L"}${D.x} ${D.y}`,A+=I,A},""),p,m,_,C]}function Db(e){const{sourceX:t,sourceY:n,targetX:o,targetY:s}=e,[r,i,l,a]=Pd({sourceX:t,sourceY:n,targetX:o,targetY:s});return[`M ${t},${n}L ${o},${s}`,r,i,l,a]}const Ob=Fe({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,s]=Db(e);return Ne(Er,{path:n,labelX:o,labelY:s,...t,...e})}}}),Pb=Ob,Rb=Fe({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,s]=Ai({...e,sourcePosition:e.sourcePosition??le.Bottom,targetPosition:e.targetPosition??le.Top});return Ne(Er,{path:n,labelX:o,labelY:s,...t,...e})}}}),Vd=Rb,zb=Fe({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Ne(Vd,{...e,...t,borderRadius:0})}}),Hb=zb,Vb=Fe({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,s]=zd({...e,sourcePosition:e.sourcePosition??le.Bottom,targetPosition:e.targetPosition??le.Top});return Ne(Er,{path:n,labelX:o,labelY:s,...t,...e})}}}),Fb=Vb,Bb=Fe({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,s]=Hd({...e,sourcePosition:e.sourcePosition??le.Bottom,targetPosition:e.targetPosition??le.Top});return Ne(Er,{path:n,labelX:o,labelY:s,...t,...e})}}}),Lb=Bb,jb={input:wb,default:bb,output:xb},Ub={default:Fb,straight:Pb,step:Hb,smoothstep:Vd,simplebezier:Lb};function Kb(e,t,n){const o=ue(()=>C=>t.value.get(C)),s=ue(()=>C=>n.value.get(C)),r=ue(()=>{const C={...Ub,...e.edgeTypes},$=Object.keys(C);for(const A of e.edges)A.type&&!$.includes(A.type)&&(C[A.type]=A.type);return C}),i=ue(()=>{const C={...jb,...e.nodeTypes},$=Object.keys(C);for(const A of e.nodes)A.type&&!$.includes(A.type)&&(C[A.type]=A.type);return C}),l=ue(()=>e.onlyRenderVisibleElements?xd(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),a=ue(()=>{if(e.onlyRenderVisibleElements){const C=[];for(const $ of e.edges){const A=t.value.get($.source),D=t.value.get($.target);By({sourcePos:A.computedPosition||{x:0,y:0},targetPos:D.computedPosition||{x:0,y:0},sourceWidth:A.dimensions.width,sourceHeight:A.dimensions.height,targetWidth:D.dimensions.width,targetHeight:D.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&C.push($)}return C}return e.edges}),u=ue(()=>[...l.value,...a.value]),c=ue(()=>{const C=[];for(const $ of e.nodes)$.selected&&C.push($);return C}),d=ue(()=>{const C=[];for(const $ of e.edges)$.selected&&C.push($);return C}),p=ue(()=>[...c.value,...d.value]),m=ue(()=>{const C=[];for(const $ of e.nodes)$.dimensions.width&&$.dimensions.height&&$.handleBounds!==void 0&&C.push($);return C}),_=ue(()=>l.value.length>0&&m.value.length===l.value.length);return{getNode:o,getEdge:s,getElements:u,getEdgeTypes:r,getNodeTypes:i,getEdges:a,getNodes:l,getSelectedElements:p,getSelectedNodes:c,getSelectedEdges:d,getNodesInitialized:m,areNodesInitialized:_}}let Gb=class Un{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=Ct())==null?void 0:t.appContext.app,o=n?.config.globalProperties.$vueFlowStorage??Un.instance;return Un.instance=o??new Un,n&&(n.config.globalProperties.$vueFlowStorage=Un.instance),Un.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Od(),s=Zo(o),r={};for(const[p,m]of Object.entries(s.hooks)){const _=`on${p.charAt(0).toUpperCase()+p.slice(1)}`;r[_]=m.on}const i={};for(const[p,m]of Object.entries(s.hooks))i[p]=m.trigger;const l=ue(()=>{const p=new Map;for(const m of s.nodes)p.set(m.id,m);return p}),a=ue(()=>{const p=new Map;for(const m of s.edges)p.set(m.id,m);return p}),u=Kb(s,l,a),c=mb(s,l,a);c.setState({...s,...n});const d={...r,...u,...c,...Rg(s),nodeLookup:l,edgeLookup:a,emits:i,id:t,vueFlowVersion:"1.48.2",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}};function Re(e){const t=Gb.getInstance(),n=sr(),o=typeof e=="object",s=o?e:{id:e},r=s.id,i=r??n?.vueFlowId;let l;if(n){const a=xt(Ua,null);typeof a<"u"&&a!==null&&(!i||a.id===i)&&(l=a)}if(l||i&&(l=t.get(i)),!l||i&&l.id!==i){const a=r??t.getId(),u=t.create(a,s);l=u,(n??or(!0)).run(()=>{ye(u.applyDefault,(d,p,m)=>{const _=$=>{u.applyNodeChanges($)},C=$=>{u.applyEdgeChanges($)};d?(u.onNodesChange(_),u.onEdgesChange(C)):(u.hooks.value.nodesChange.off(_),u.hooks.value.edgesChange.off(C)),m(()=>{u.hooks.value.nodesChange.off(_),u.hooks.value.edgesChange.off(C)})},{immediate:!0}),Lo(()=>{if(l){const d=t.get(l.id);d?d.$destroy():os(`No store instance found for id ${l.id} in storage.`)}})})}else o&&l.setState(s);if(n&&(Mn(Ua,l),n.vueFlowId=l.id),o){const a=Ct();a?.type.name!=="VueFlow"&&l.emits.error(new Ge(Ue.USEVUEFLOW_OPTIONS))}return l}function Yb(e){const{emits:t,dimensions:n}=Re();let o;lt(()=>{const s=()=>{var r,i;if(!e.value||!(((i=(r=e.value).checkVisibility)==null?void 0:i.call(r))??!0))return;const l=br(e.value);(l.width===0||l.height===0)&&t.error(new Ge(Ue.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:l.width||500,height:l.height||500}};s(),window.addEventListener("resize",s),e.value&&(o=new ResizeObserver(()=>s()),o.observe(e.value)),cr(()=>{window.removeEventListener("resize",s),o&&e.value&&o.unobserve(e.value)})})}const Wb={name:"UserSelection",compatConfig:{MODE:3}},Xb=Fe({...Wb,props:{userSelectionRect:{}},setup(e){return(t,n)=>(F(),X("div",{class:"vue-flow__selection vue-flow__container",style:We({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),qb=["tabIndex"],Zb={name:"NodesSelection",compatConfig:{MODE:3}},Jb=Fe({...Zb,setup(e){const{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:s,disableKeyboardA11y:r,userSelectionActive:i}=Re(),l=Dd(),a=xe(null),u=kd({el:a,onStart(_){t.selectionDragStart(_),t.nodeDragStart(_)},onDrag(_){t.selectionDrag(_),t.nodeDrag(_)},onStop(_){t.selectionDragStop(_),t.nodeDragStop(_)}});lt(()=>{var _;r.value||(_=a.value)==null||_.focus({preventScroll:!0})});const c=ue(()=>bd(o.value)),d=ue(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function p(_){t.selectionContextMenu({event:_,nodes:o.value})}function m(_){r.value||Jn[_.key]&&(_.preventDefault(),l({x:Jn[_.key].x,y:Jn[_.key].y},_.shiftKey))}return(_,C)=>!L(i)&&c.value.width&&c.value.height?(F(),X("div",{key:0,class:Ee(["vue-flow__nodesselection vue-flow__container",L(s)]),style:We({transform:`translate(${L(n).x}px,${L(n).y}px) scale(${L(n).zoom})`})},[b("div",{ref_key:"el",ref:a,class:Ee([{dragging:L(u)},"vue-flow__nodesselection-rect"]),style:We(d.value),tabIndex:L(r)?void 0:-1,onContextmenu:p,onKeydown:m},null,46,qb)],6)):fe("",!0)}});function Qb(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const e1={name:"Pane",compatConfig:{MODE:3}},t1=Fe({...e1,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:o,emits:s,userSelectionActive:r,removeSelectedElements:i,userSelectionRect:l,elementsSelectable:a,nodesSelectionActive:u,getSelectedEdges:c,getSelectedNodes:d,removeNodes:p,removeEdges:m,selectionMode:_,deleteKeyCode:C,multiSelectionKeyCode:$,multiSelectionActive:A,edgeLookup:D,nodeLookup:w,connectionLookup:I,defaultEdgeOptions:O,connectionStartHandle:B,panOnDrag:j}=Re(),f=Yt(null),h=Yt(new Set),G=Yt(new Set),K=Yt(null),N=Oe(()=>a.value&&(e.isSelecting||r.value)),q=Oe(()=>B.value!==null);let y=!1,P=!1;const T=Po(C,{actInsideInputWithModifier:!1}),R=Po($);ye(T,re=>{re&&(p(d.value),m(c.value),u.value=!1)}),ye(R,re=>{A.value=re});function U(re,oe){return ae=>{ae.target===oe&&re?.(ae)}}function J(re){if(y||q.value){y=!1;return}s.paneClick(re),i(),u.value=!1}function Q(re){var oe;if(Array.isArray(j.value)&&((oe=j.value)!=null&&oe.includes(2))){re.preventDefault();return}s.paneContextMenu(re)}function ne(re){s.paneScroll(re)}function ie(re){var oe,ae,we;if(K.value=((oe=t.value)==null?void 0:oe.getBoundingClientRect())??null,!a.value||!e.isSelecting||re.button!==0||re.target!==f.value||!K.value)return;(we=(ae=re.target)==null?void 0:ae.setPointerCapture)==null||we.call(ae,re.pointerId);const{x:Me,y:pe}=Qb(re,K.value);P=!0,y=!1,i(),l.value={width:0,height:0,startX:Me,startY:pe,x:Me,y:pe},s.selectionStart(re)}function he(re){var oe;if(!K.value||!l.value)return;y=!0;const{x:ae,y:we}=Pt(re,K.value),{startX:Me=0,startY:pe=0}=l.value,$e={startX:Me,startY:pe,x:ae<Me?ae:Me,y:we<pe?we:pe,width:Math.abs(ae-Me),height:Math.abs(we-pe)},S=h.value,k=G.value;h.value=new Set(xd(n.value,$e,o.value,_.value===rl.Partial,!0).map(v=>v.id)),G.value=new Set;const g=((oe=O.value)==null?void 0:oe.selectable)??!0;for(const v of h.value){const x=I.value.get(v);if(x)for(const{edgeId:E}of x.values()){const M=D.value.get(E);M&&(M.selectable??g)&&G.value.add(E)}}if(!ja(S,h.value)){const v=fn(w.value,h.value,!0);s.nodesChange(v)}if(!ja(k,G.value)){const v=fn(D.value,G.value);s.edgesChange(v)}l.value=$e,r.value=!0,u.value=!1}function be(re){var oe;re.button!==0||!P||((oe=re.target)==null||oe.releasePointerCapture(re.pointerId),!r.value&&l.value&&re.target===f.value&&J(re),r.value=!1,l.value=null,u.value=h.value.size>0,s.selectionEnd(re),e.selectionKeyPressed&&(y=!1),P=!1)}return(re,oe)=>(F(),X("div",{ref_key:"container",ref:f,class:Ee(["vue-flow__pane vue-flow__container",{selection:re.isSelecting}]),onClick:oe[0]||(oe[0]=ae=>N.value?void 0:U(J,f.value)(ae)),onContextmenu:oe[1]||(oe[1]=ae=>U(Q,f.value)(ae)),onWheelPassive:oe[2]||(oe[2]=ae=>U(ne,f.value)(ae)),onPointerenter:oe[3]||(oe[3]=ae=>N.value?void 0:L(s).paneMouseEnter(ae)),onPointerdown:oe[4]||(oe[4]=ae=>N.value?ie(ae):L(s).paneMouseMove(ae)),onPointermove:oe[5]||(oe[5]=ae=>N.value?he(ae):L(s).paneMouseMove(ae)),onPointerup:oe[6]||(oe[6]=ae=>N.value?be(ae):void 0),onPointerleave:oe[7]||(oe[7]=ae=>L(s).paneMouseLeave(ae))},[Be(re.$slots,"default"),L(r)&&L(l)?(F(),Ve(Xb,{key:0,"user-selection-rect":L(l)},null,8,["user-selection-rect"])):fe("",!0),L(u)&&L(d).length?(F(),Ve(Jb,{key:1})):fe("",!0)],34))}}),n1={name:"Transform",compatConfig:{MODE:3}},o1=Fe({...n1,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=Re(),s=ue(()=>n.value?!o.value:!1),r=ue(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(i,l)=>(F(),X("div",{class:"vue-flow__transformationpane vue-flow__container",style:We({transform:r.value,opacity:s.value?0:void 0})},[Be(i.$slots,"default")],4))}}),s1={name:"Viewport",compatConfig:{MODE:3}},r1=Fe({...s1,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:s,zoomActivationKeyCode:r,selectionKeyCode:i,panActivationKeyCode:l,panOnScroll:a,panOnScrollMode:u,panOnScrollSpeed:c,panOnDrag:d,zoomOnDoubleClick:p,zoomOnPinch:m,zoomOnScroll:_,preventScrolling:C,noWheelClassName:$,noPanClassName:A,emits:D,connectionStartHandle:w,userSelectionActive:I,paneDragging:O,d3Zoom:B,d3Selection:j,d3ZoomHandler:f,viewport:h,viewportRef:G,paneClickDistance:K}=Re();Yb(G);const N=Yt(!1),q=Yt(!1);let y=null,P=!1,T=0,R={x:0,y:0,zoom:0};const U=Po(l),J=Po(i),Q=Po(r),ne=Oe(()=>(!J.value||J.value&&i.value===!0)&&(U.value||d.value)),ie=Oe(()=>U.value||a.value),he=Oe(()=>i.value===!0&&ne.value!==!0),be=Oe(()=>J.value&&i.value!==!0||I.value||he.value),re=Oe(()=>w.value!==null);lt(()=>{if(!G.value){os("Viewport element is missing");return}const pe=G.value,$e=pe.getBoundingClientRect(),S=xy().clickDistance(K.value).scaleExtent([t.value,n.value]).translateExtent(s.value),k=vt(pe).call(S),g=k.on("wheel.zoom"),v=ro.translate(o.value.x??0,o.value.y??0).scale(Dn(o.value.zoom??1,t.value,n.value)),x=[[0,0],[$e.width,$e.height]],E=S.constrain()(v,x,s.value);S.transform(k,E),S.wheelDelta(Ma),B.value=S,j.value=k,f.value=g,h.value={x:E.x,y:E.y,zoom:E.k},S.on("start",M=>{var V;if(!M.sourceEvent)return null;T=M.sourceEvent.button,N.value=!0;const H=we(M.transform);((V=M.sourceEvent)==null?void 0:V.type)==="mousedown"&&(O.value=!0),R=H,D.viewportChangeStart(H),D.moveStart({event:M,flowTransform:H})}),S.on("end",M=>{if(!M.sourceEvent)return null;if(N.value=!1,O.value=!1,oe(ne.value,T??0)&&!P&&D.paneContextMenu(M.sourceEvent),P=!1,ae(R,M.transform)){const V=we(M.transform);R=V,D.viewportChangeEnd(V),D.moveEnd({event:M,flowTransform:V})}}),S.filter(M=>{var V;const H=Q.value||_.value,z=m.value&&M.ctrlKey,W=M.button,Y=M.type==="wheel";if(W===1&&M.type==="mousedown"&&(Me(M,"vue-flow__node")||Me(M,"vue-flow__edge")))return!0;if(!ne.value&&!H&&!ie.value&&!p.value&&!m.value||I.value||re.value&&!Y||!p.value&&M.type==="dblclick"||Me(M,$.value)&&Y||Me(M,A.value)&&(!Y||ie.value&&Y&&!Q.value)||!m.value&&M.ctrlKey&&Y||!H&&!ie.value&&!z&&Y)return!1;if(!m&&M.type==="touchstart"&&((V=M.touches)==null?void 0:V.length)>1)return M.preventDefault(),!1;if(!ne.value&&(M.type==="mousedown"||M.type==="touchstart")||he.value&&Array.isArray(d.value)&&d.value.includes(0)&&W===0||Array.isArray(d.value)&&!d.value.includes(W)&&(M.type==="mousedown"||M.type==="touchstart"))return!1;const Z=Array.isArray(d.value)&&d.value.includes(W)||i.value===!0&&Array.isArray(d.value)&&!d.value.includes(0)||!W||W<=1;return(!M.ctrlKey||U.value||Y)&&Z}),ye([I,ne],()=>{I.value&&!N.value?S.on("zoom",null):I.value||S.on("zoom",M=>{h.value={x:M.transform.x,y:M.transform.y,zoom:M.transform.k};const V=we(M.transform);P=oe(ne.value,T??0),D.viewportChange(V),D.move({event:M,flowTransform:V})})},{immediate:!0}),ye([I,ie,u,Q,m,C,$],()=>{ie.value&&!Q.value&&!I.value?k.on("wheel.zoom",M=>{if(Me(M,$.value))return!1;const V=Q.value||_.value,H=m.value&&M.ctrlKey;if(!(!C.value||ie.value||V||H))return!1;M.preventDefault(),M.stopImmediatePropagation();const W=k.property("__zoom").k||1,Y=Zs();if(!U.value&&M.ctrlKey&&m.value&&Y){const ke=At(M),Ze=Ma(M),Je=W*2**Ze;S.scaleTo(k,Je,ke,M);return}const Z=M.deltaMode===1?20:1;let ee=u.value===Oo.Vertical?0:M.deltaX*Z,me=u.value===Oo.Horizontal?0:M.deltaY*Z;!Y&&M.shiftKey&&u.value!==Oo.Vertical&&!ee&&me&&(ee=me,me=0),S.translateBy(k,-(ee/W)*c.value,-(me/W)*c.value);const _e=we(k.property("__zoom"));y&&clearTimeout(y),q.value?(D.move({event:M,flowTransform:_e}),D.viewportChange(_e),y=setTimeout(()=>{D.moveEnd({event:M,flowTransform:_e}),D.viewportChangeEnd(_e),q.value=!1},150)):(q.value=!0,D.moveStart({event:M,flowTransform:_e}),D.viewportChangeStart(_e))},{passive:!1}):typeof g<"u"&&k.on("wheel.zoom",function(M,V){const H=!C.value&&M.type==="wheel"&&!M.ctrlKey,z=Q.value||_.value,W=m.value&&M.ctrlKey;if(!z&&!a.value&&!W&&M.type==="wheel"||H||Me(M,$.value))return null;M.preventDefault(),g.call(this,M,V)},{passive:!1})},{immediate:!0})});function oe(pe,$e){return $e===2&&Array.isArray(pe)&&pe.includes(2)}function ae(pe,$e){return pe.x!==$e.x&&!Number.isNaN($e.x)||pe.y!==$e.y&&!Number.isNaN($e.y)||pe.zoom!==$e.k&&!Number.isNaN($e.k)}function we(pe){return{x:pe.x,y:pe.y,zoom:pe.k}}function Me(pe,$e){return pe.target.closest(`.${$e}`)}return(pe,$e)=>(F(),X("div",{ref_key:"viewportRef",ref:G,class:"vue-flow__viewport vue-flow__container"},[se(t1,{"is-selecting":be.value,"selection-key-pressed":L(J),class:Ee({connecting:re.value,dragging:L(O),draggable:L(d)===!0||Array.isArray(L(d))&&L(d).includes(0)})},{default:ft(()=>[se(o1,null,{default:ft(()=>[Be(pe.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),i1=["id"],l1=["id"],a1=["id"],u1={name:"A11yDescriptions",compatConfig:{MODE:3}},c1=Fe({...u1,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=Re();return(s,r)=>(F(),X(ce,null,[b("div",{id:`${L(dd)}-${L(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Ce(L(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,i1),b("div",{id:`${L(fd)}-${L(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,l1),L(n)?fe("",!0):(F(),X("div",{key:0,id:`${L(Iy)}-${L(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Ce(L(o)),9,a1))],64))}});function d1(){const e=Re();ye(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function f1(e,t,n){return n===le.Left?e-t:n===le.Right?e+t:e}function h1(e,t,n){return n===le.Top?e-t:n===le.Bottom?e+t:e}const al=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=le.Top,type:s}){return Ne("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${s}`,cx:f1(t,e,o),cy:h1(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};al.props=["radius","centerX","centerY","position","type"];al.compatConfig={MODE:3};const Xa=al,p1=Fe({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:s,emits:r,nodesSelectionActive:i,noPanClassName:l,getEdgeTypes:a,removeSelectedEdges:u,findEdge:c,findNode:d,isValidConnection:p,multiSelectionActive:m,disableKeyboardA11y:_,elementsSelectable:C,edgesUpdatable:$,edgesFocusable:A,hooks:D}=Re(),w=ue(()=>c(e.id)),{emit:I,on:O}=ob(w.value,r),B=xt(wr),j=Ct(),f=xe(!1),h=xe(!1),G=xe(""),K=xe(null),N=xe("source"),q=xe(null),y=Oe(()=>typeof w.value.selectable>"u"?C.value:w.value.selectable),P=Oe(()=>typeof w.value.updatable>"u"?$.value:w.value.updatable),T=Oe(()=>typeof w.value.focusable>"u"?A.value:w.value.focusable);Mn(eb,e.id),Mn(tb,q);const R=ue(()=>w.value.class instanceof Function?w.value.class(w.value):w.value.class),U=ue(()=>w.value.style instanceof Function?w.value.style(w.value):w.value.style),J=ue(()=>{const v=w.value.type||"default",x=B?.[`edge-${v}`];if(x)return x;let E=w.value.template??a.value[v];if(typeof E=="string"&&j){const M=Object.keys(j.appContext.components);M&&M.includes(v)&&(E=Ui(v,!1))}return E&&typeof E!="string"?E:(r.error(new Ge(Ue.EDGE_TYPE_MISSING,E)),!1)}),{handlePointerDown:Q}=Td({nodeId:G,handleId:K,type:N,isValidConnection:p,edgeUpdaterType:N,onEdgeUpdate:he,onEdgeUpdateEnd:be});return()=>{const v=d(w.value.source),x=d(w.value.target),E="pathOptions"in w.value?w.value.pathOptions:{};if(!v&&!x)return r.error(new Ge(Ue.EDGE_SOURCE_TARGET_MISSING,w.value.id,w.value.source,w.value.target)),null;if(!v)return r.error(new Ge(Ue.EDGE_SOURCE_MISSING,w.value.id,w.value.source)),null;if(!x)return r.error(new Ge(Ue.EDGE_TARGET_MISSING,w.value.id,w.value.target)),null;if(!w.value||w.value.hidden||v.hidden||x.hidden)return null;let M;o.value===pn.Strict?M=v.handleBounds.source:M=[...v.handleBounds.source||[],...v.handleBounds.target||[]];const V=za(M,w.value.sourceHandle);let H;o.value===pn.Strict?H=x.handleBounds.target:H=[...x.handleBounds.target||[],...x.handleBounds.source||[]];const z=za(H,w.value.targetHandle),W=V?.position||le.Bottom,Y=z?.position||le.Top,{x:Z,y:ee}=io(v,V,W),{x:me,y:_e}=io(x,z,Y);return w.value.sourceX=Z,w.value.sourceY=ee,w.value.targetX=me,w.value.targetY=_e,Ne("g",{ref:q,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${J.value===!1?"default":w.value.type||"default"}`,l.value,R.value,{updating:f.value,selected:w.value.selected,animated:w.value.animated,inactive:!y.value&&!D.value.edgeClick.hasListeners()}],tabIndex:T.value?0:void 0,"aria-label":w.value.ariaLabel===null?void 0:w.value.ariaLabel??`Edge from ${w.value.source} to ${w.value.target}`,"aria-describedby":T.value?`${fd}-${t}`:void 0,"aria-roledescription":"edge",role:T.value?"group":"img",...w.value.domAttributes,onClick:oe,onContextmenu:ae,onDblclick:we,onMouseenter:Me,onMousemove:pe,onMouseleave:$e,onKeyDown:T.value?g:void 0},[h.value?null:Ne(J.value===!1?a.value.default:J.value,{id:e.id,sourceNode:v,targetNode:x,source:w.value.source,target:w.value.target,type:w.value.type,updatable:P.value,selected:w.value.selected,animated:w.value.animated,label:w.value.label,labelStyle:w.value.labelStyle,labelShowBg:w.value.labelShowBg,labelBgStyle:w.value.labelBgStyle,labelBgPadding:w.value.labelBgPadding,labelBgBorderRadius:w.value.labelBgBorderRadius,data:w.value.data,events:{...w.value.events,...O},style:U.value,markerStart:`url('#${Xo(w.value.markerStart,t)}')`,markerEnd:`url('#${Xo(w.value.markerEnd,t)}')`,sourcePosition:W,targetPosition:Y,sourceX:Z,sourceY:ee,targetX:me,targetY:_e,sourceHandleId:w.value.sourceHandle,targetHandleId:w.value.targetHandle,interactionWidth:w.value.interactionWidth,...E}),[P.value==="source"||P.value===!0?[Ne("g",{onMousedown:S,onMouseenter:ne,onMouseout:ie},Ne(Xa,{position:W,centerX:Z,centerY:ee,radius:s.value,type:"source","data-type":"source"}))]:null,P.value==="target"||P.value===!0?[Ne("g",{onMousedown:k,onMouseenter:ne,onMouseout:ie},Ne(Xa,{position:Y,centerX:me,centerY:_e,radius:s.value,type:"target","data-type":"target"}))]:null]])};function ne(){f.value=!0}function ie(){f.value=!1}function he(v,x){I.update({event:v,edge:w.value,connection:x})}function be(v){I.updateEnd({event:v,edge:w.value}),h.value=!1}function re(v,x){v.button===0&&(h.value=!0,G.value=x?w.value.target:w.value.source,K.value=(x?w.value.targetHandle:w.value.sourceHandle)??null,N.value=x?"target":"source",I.updateStart({event:v,edge:w.value}),Q(v))}function oe(v){var x;const E={event:v,edge:w.value};y.value&&(i.value=!1,w.value.selected&&m.value?(u([w.value]),(x=q.value)==null||x.blur()):n([w.value])),I.click(E)}function ae(v){I.contextMenu({event:v,edge:w.value})}function we(v){I.doubleClick({event:v,edge:w.value})}function Me(v){I.mouseEnter({event:v,edge:w.value})}function pe(v){I.mouseMove({event:v,edge:w.value})}function $e(v){I.mouseLeave({event:v,edge:w.value})}function S(v){re(v,!0)}function k(v){re(v,!1)}function g(v){var x;!_.value&&hd.includes(v.key)&&y.value&&(v.key==="Escape"?((x=q.value)==null||x.blur(),u([c(e.id)])):n([c(e.id)]))}}}),g1=p1,m1=Fe({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:s,connectionPosition:r,connectionLineType:i,connectionLineStyle:l,connectionLineOptions:a,connectionStatus:u,viewport:c,findNode:d}=Re(),p=(e=xt(wr))==null?void 0:e["connection-line"],m=ue(()=>{var D;return d((D=o.value)==null?void 0:D.nodeId)}),_=ue(()=>{var D;return d((D=s.value)==null?void 0:D.nodeId)??null}),C=ue(()=>({x:(r.value.x-c.value.x)/c.value.zoom,y:(r.value.y-c.value.y)/c.value.zoom})),$=ue(()=>a.value.markerStart?`url(#${Xo(a.value.markerStart,t)})`:""),A=ue(()=>a.value.markerEnd?`url(#${Xo(a.value.markerEnd,t)})`:"");return()=>{var D,w,I;if(!m.value||!o.value)return null;const O=o.value.id,B=o.value.type,j=m.value.handleBounds;let f=j?.[B]??[];if(n.value===pn.Loose){const U=j?.[B==="source"?"target":"source"]??[];f=[...f,...U]}if(!f)return null;const h=(O?f.find(U=>U.id===O):f[0])??null,G=h?.position??le.Top,{x:K,y:N}=io(m.value,h,G);let q=null;_.value&&(n.value===pn.Strict?q=((D=_.value.handleBounds[B==="source"?"target":"source"])==null?void 0:D.find(U=>{var J;return U.id===((J=s.value)==null?void 0:J.id)}))||null:q=((w=[..._.value.handleBounds.source??[],..._.value.handleBounds.target??[]])==null?void 0:w.find(U=>{var J;return U.id===((J=s.value)==null?void 0:J.id)}))||null);const y=((I=s.value)==null?void 0:I.position)??(G?ki[G]:null);if(!G||!y)return null;const P=i.value??a.value.type??_n.Bezier;let T="";const R={sourceX:K,sourceY:N,sourcePosition:G,targetX:C.value.x,targetY:C.value.y,targetPosition:y};return P===_n.Bezier?[T]=zd(R):P===_n.Step?[T]=Ai({...R,borderRadius:0}):P===_n.SmoothStep?[T]=Ai(R):P===_n.SimpleBezier?[T]=Hd(R):T=`M${K},${N} ${C.value.x},${C.value.y}`,Ne("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Ne("g",{class:"vue-flow__connection"},p?Ne(p,{sourceX:K,sourceY:N,sourcePosition:G,targetX:C.value.x,targetY:C.value.y,targetPosition:y,sourceNode:m.value,sourceHandle:h,targetNode:_.value,targetHandle:q,markerEnd:A.value,markerStart:$.value,connectionStatus:u.value}):Ne("path",{d:T,class:[a.value.class,u.value,"vue-flow__connection-path"],style:{...l.value,...a.value.style},"marker-end":A.value,"marker-start":$.value})))}}}),v1=m1,y1=["id","markerWidth","markerHeight","markerUnits","orient"],b1={name:"MarkerType",compatConfig:{MODE:3}},x1=Fe({...b1,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(F(),X("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===L($i).ArrowClosed?(F(),X("polyline",{key:0,style:We({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):fe("",!0),t.type===L($i).Arrow?(F(),X("polyline",{key:1,style:We({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):fe("",!0)],8,y1))}}),w1={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},_1={name:"MarkerDefinitions",compatConfig:{MODE:3}},S1=Fe({..._1,setup(e){const{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:s}=Re(),r=ue(()=>{const i=new Set,l=[],a=u=>{if(u){const c=Xo(u,t);i.has(c)||(typeof u=="object"?l.push({...u,id:c,color:u.color||s.value}):l.push({id:c,color:s.value,type:u}),i.add(c))}};for(const u of[o.value.markerEnd,o.value.markerStart])a(u);for(const u of n.value)for(const c of[u.markerStart,u.markerEnd])a(c);return l.sort((u,c)=>u.id.localeCompare(c.id))});return(i,l)=>(F(),X("svg",w1,[b("defs",null,[(F(!0),X(ce,null,Te(r.value,a=>(F(),Ve(x1,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,"stroke-width":a.strokeWidth,orient:a.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),C1={name:"Edges",compatConfig:{MODE:3}},E1=Fe({...C1,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=Re();return(s,r)=>(F(),X(ce,null,[se(S1),(F(!0),X(ce,null,Te(L(n),i=>(F(),X("svg",{key:i.id,class:"vue-flow__edges vue-flow__container",style:We({zIndex:L(Ly)(i,L(t),L(o))})},[se(L(g1),{id:i.id},null,8,["id"])],4))),128)),se(L(v1))],64))}}),I1=Fe({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:s,multiSelectionActive:r,emits:i,removeSelectedNodes:l,addSelectedNodes:a,updateNodeDimensions:u,onUpdateNodeInternals:c,getNodeTypes:d,nodeExtent:p,elevateNodesOnSelect:m,disableKeyboardA11y:_,ariaLiveMessage:C,snapToGrid:$,snapGrid:A,nodeDragThreshold:D,nodesDraggable:w,elementsSelectable:I,nodesConnectable:O,nodesFocusable:B,hooks:j}=Re(),f=xe(null);Mn(Md,f),Mn($d,e.id);const h=xt(wr),G=Ct(),K=Dd(),{node:N,parentNode:q}=Ad(e.id),{emit:y,on:P}=lb(N,i),T=Oe(()=>typeof N.draggable>"u"?w.value:N.draggable),R=Oe(()=>typeof N.selectable>"u"?I.value:N.selectable),U=Oe(()=>typeof N.connectable>"u"?O.value:N.connectable),J=Oe(()=>typeof N.focusable>"u"?B.value:N.focusable),Q=ue(()=>R.value||T.value||j.value.nodeClick.hasListeners()||j.value.nodeDoubleClick.hasListeners()||j.value.nodeMouseEnter.hasListeners()||j.value.nodeMouseMove.hasListeners()||j.value.nodeMouseLeave.hasListeners()),ne=Oe(()=>!!N.dimensions.width&&!!N.dimensions.height),ie=ue(()=>{const x=N.type||"default",E=h?.[`node-${x}`];if(E)return E;let M=N.template||d.value[x];if(typeof M=="string"&&G){const V=Object.keys(G.appContext.components);V&&V.includes(x)&&(M=Ui(x,!1))}return M&&typeof M!="string"?M:(i.error(new Ge(Ue.NODE_TYPE_MISSING,M)),!1)}),he=kd({id:e.id,el:f,disabled:()=>!T.value,selectable:R,dragHandle:()=>N.dragHandle,onStart(x){y.dragStart(x)},onDrag(x){y.drag(x)},onStop(x){y.dragStop(x)},onClick(x){g(x)}}),be=ue(()=>N.class instanceof Function?N.class(N):N.class),re=ue(()=>{const x=(N.style instanceof Function?N.style(N):N.style)||{},E=N.width instanceof Function?N.width(N):N.width,M=N.height instanceof Function?N.height(N):N.height;return!x.width&&E&&(x.width=typeof E=="string"?E:`${E}px`),!x.height&&M&&(x.height=typeof M=="string"?M:`${M}px`),x}),oe=Oe(()=>Number(N.zIndex??re.value.zIndex??0));return c(x=>{(x.includes(e.id)||!x.length)&&we()}),lt(()=>{ye(()=>N.hidden,(x=!1,E,M)=>{!x&&f.value&&(e.resizeObserver.observe(f.value),M(()=>{f.value&&e.resizeObserver.unobserve(f.value)}))},{immediate:!0,flush:"post"})}),ye([()=>N.type,()=>N.sourcePosition,()=>N.targetPosition],()=>{ct(()=>{u([{id:e.id,nodeElement:f.value,forceUpdate:!0}])})}),ye([()=>N.position.x,()=>N.position.y,()=>{var x;return(x=q.value)==null?void 0:x.computedPosition.x},()=>{var x;return(x=q.value)==null?void 0:x.computedPosition.y},()=>{var x;return(x=q.value)==null?void 0:x.computedPosition.z},oe,()=>N.selected,()=>N.dimensions.height,()=>N.dimensions.width,()=>{var x;return(x=q.value)==null?void 0:x.dimensions.height},()=>{var x;return(x=q.value)==null?void 0:x.dimensions.width}],([x,E,M,V,H,z])=>{const W={x,y:E,z:z+(m.value&&N.selected?1e3:0)};typeof M<"u"&&typeof V<"u"?N.computedPosition=Ry({x:M,y:V,z:H},W):N.computedPosition=W},{flush:"post",immediate:!0}),ye([()=>N.extent,p],([x,E],[M,V])=>{(x!==M||E!==V)&&ae()}),N.extent==="parent"||typeof N.extent=="object"&&"range"in N.extent&&N.extent.range==="parent"?bi(()=>ne).toBe(!0).then(ae):ae(),()=>N.hidden?null:Ne("div",{ref:f,"data-id":N.id,class:["vue-flow__node",`vue-flow__node-${ie.value===!1?"default":N.type||"default"}`,{[n.value]:T.value,dragging:he?.value,draggable:T.value,selected:N.selected,selectable:R.value,parent:N.isParent},be.value],style:{visibility:ne.value?"visible":"hidden",zIndex:N.computedPosition.z??oe.value,transform:`translate(${N.computedPosition.x}px,${N.computedPosition.y}px)`,pointerEvents:Q.value?"all":"none",...re.value},tabIndex:J.value?0:void 0,role:J.value?"group":void 0,"aria-describedby":_.value?void 0:`${dd}-${t}`,"aria-label":N.ariaLabel,"aria-roledescription":"node",...N.domAttributes,onMouseenter:Me,onMousemove:pe,onMouseleave:$e,onContextmenu:S,onClick:g,onDblclick:k,onKeydown:v},[Ne(ie.value===!1?d.value.default:ie.value,{id:N.id,type:N.type,data:N.data,events:{...N.events,...P},selected:N.selected,resizing:N.resizing,dragging:he.value,connectable:U.value,position:N.computedPosition,dimensions:N.dimensions,isValidTargetPos:N.isValidTargetPos,isValidSourcePos:N.isValidSourcePos,parent:N.parentNode,parentNodeId:N.parentNode,zIndex:N.computedPosition.z??oe.value,targetPosition:N.targetPosition,sourcePosition:N.sourcePosition,label:N.label,dragHandle:N.dragHandle,onUpdateNodeInternals:we})]);function ae(){const x=N.computedPosition,{computedPosition:E,position:M}=il(N,$.value?xr(x,A.value):x,i.error,p.value,q.value);(N.computedPosition.x!==E.x||N.computedPosition.y!==E.y)&&(N.computedPosition={...N.computedPosition,...E}),(N.position.x!==M.x||N.position.y!==M.y)&&(N.position=M)}function we(){f.value&&u([{id:e.id,nodeElement:f.value,forceUpdate:!0}])}function Me(x){he?.value||y.mouseEnter({event:x,node:N})}function pe(x){he?.value||y.mouseMove({event:x,node:N})}function $e(x){he?.value||y.mouseLeave({event:x,node:N})}function S(x){return y.contextMenu({event:x,node:N})}function k(x){return y.doubleClick({event:x,node:N})}function g(x){R.value&&(!o.value||!T.value||D.value>0)&&Ti(N,r.value,a,l,s,!1,f.value),y.click({event:x,node:N})}function v(x){if(!(Mi(x)||_.value))if(hd.includes(x.key)&&R.value){const E=x.key==="Escape";Ti(N,r.value,a,l,s,E,f.value)}else T.value&&N.selected&&Jn[x.key]&&(x.preventDefault(),C.value=`Moved selected node ${x.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~N.position.x}, y: ${~~N.position.y}`,K({x:Jn[x.key].x,y:Jn[x.key].y},x.shiftKey))}}}),N1=I1;function $1(e={includeHiddenNodes:!1}){const{nodes:t}=Re();return ue(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&(n?.handleBounds===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const M1={class:"vue-flow__nodes vue-flow__container"},k1={name:"Nodes",compatConfig:{MODE:3}},T1=Fe({...k1,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:o}=Re(),s=$1(),r=xe();return ye(s,i=>{i&&ct(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),lt(()=>{r.value=new ResizeObserver(i=>{const l=i.map(a=>({id:a.target.getAttribute("data-id"),nodeElement:a.target,forceUpdate:!0}));ct(()=>n(l))})}),cr(()=>{var i;return(i=r.value)==null?void 0:i.disconnect()}),(i,l)=>(F(),X("div",M1,[r.value?(F(!0),X(ce,{key:0},Te(L(t),(a,u,c,d)=>{const p=[a.id];if(d&&d.key===a.id&&Hh(d,p))return d;const m=(F(),Ve(L(N1),{id:a.id,key:a.id,"resize-observer":r.value},null,8,["id","resize-observer"]));return m.memo=p,m},l,0),128)):fe("",!0)]))}});function A1(){const{emits:e}=Re();lt(()=>{if(Nd()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Ge(Ue.MISSING_STYLES))}})}const D1=b("div",{class:"vue-flow__edge-labels"},null,-1),O1={name:"VueFlow",compatConfig:{MODE:3}},P1=Fe({...O1,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,s=Qf(),r=Kr(o,"modelValue",n),i=Kr(o,"nodes",n),l=Kr(o,"edges",n),a=Re(o),u=db({modelValue:r,nodes:i,edges:l},o,a);return hb(n,a.hooks),d1(),A1(),Mn(wr,s),vn(u),t(a),(c,d)=>(F(),X("div",{ref:L(a).vueFlowRef,class:"vue-flow"},[se(r1,null,{default:ft(()=>[se(E1),D1,se(T1),Be(c.$slots,"zoom-pane")]),_:3}),Be(c.$slots,"default"),se(c1)],512))}}),R1={name:"Panel",compatConfig:{MODE:3}},z1=Fe({...R1,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=Re(),o=ue(()=>`${t.position}`.split("-"));return(s,r)=>(F(),X("div",{class:Ee(["vue-flow__panel",o.value]),style:We({pointerEvents:L(n)?"none":"all"})},[Be(s.$slots,"default")],6))}});var Xt=(e=>(e.Lines="lines",e.Dots="dots",e))(Xt||{});const Fd=function({dimensions:e,size:t,color:n}){return Ne("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},Bd=function({radius:e,color:t}){return Ne("circle",{cx:e,cy:e,r:e,fill:t})};Xt.Lines+"",Xt.Dots+"";const H1={[Xt.Dots]:"#81818a",[Xt.Lines]:"#eee"},V1=["id","x","y","width","height","patternTransform"],F1={key:2,height:"100",width:"100"},B1=["fill"],L1=["x","y","fill"],j1={name:"Background",compatConfig:{MODE:3}},U1=Fe({...j1,props:{id:{},variant:{default:()=>Xt.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=Re(),o=ue(()=>{const i=n.value.zoom,[l,a]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],u=[l*i||1,a*i||1],c=e.size*i,[d,p]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],m=[d*i||1+u[0]/2,p*i||1+u[1]/2];return{scaledGap:u,offset:m,size:c}}),s=Oe(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),r=Oe(()=>e.color||e.patternColor||H1[e.variant||Xt.Dots]);return(i,l)=>(F(),X("svg",{class:"vue-flow__background vue-flow__container",style:We({height:`${i.height>100?100:i.height}%`,width:`${i.width>100?100:i.width}%`})},[Be(i.$slots,"pattern-container",{id:s.value},()=>[b("pattern",{id:s.value,x:L(n).x%o.value.scaledGap[0],y:L(n).y%o.value.scaledGap[1],width:o.value.scaledGap[0],height:o.value.scaledGap[1],patternTransform:`translate(-${o.value.offset[0]},-${o.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[Be(i.$slots,"pattern",{},()=>[i.variant===L(Xt).Lines?(F(),Ve(L(Fd),{key:0,size:i.lineWidth,color:r.value,dimensions:o.value.scaledGap},null,8,["size","color","dimensions"])):i.variant===L(Xt).Dots?(F(),Ve(L(Bd),{key:1,color:r.value,radius:o.value.size/2},null,8,["color","radius"])):fe("",!0),i.bgColor?(F(),X("svg",F1,[b("rect",{width:"100%",height:"100%",fill:i.bgColor},null,8,B1)])):fe("",!0)])],8,V1)]),b("rect",{x:i.x,y:i.y,width:"100%",height:"100%",fill:`url(#${s.value})`},null,8,L1),Be(i.$slots,"default",{id:s.value})],4))}}),K1={name:"ControlButton",compatConfig:{MODE:3}},G1=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},Y1={type:"button",class:"vue-flow__controls-button"};function W1(e,t,n,o,s,r){return F(),X("button",Y1,[Be(e.$slots,"default")])}const bs=G1(K1,[["render",W1]]),X1={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},q1=b("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),Z1=[q1];function J1(e,t){return F(),X("svg",X1,Z1)}const Q1={render:J1},ex={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},tx=b("path",{d:"M0 0h32v4.2H0z"},null,-1),nx=[tx];function ox(e,t){return F(),X("svg",ex,nx)}const sx={render:ox},rx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ix=b("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),lx=[ix];function ax(e,t){return F(),X("svg",rx,lx)}const ux={render:ax},cx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},dx=b("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),fx=[dx];function hx(e,t){return F(),X("svg",cx,fx)}const px={render:hx},gx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},mx=b("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),vx=[mx];function yx(e,t){return F(),X("svg",gx,vx)}const bx={render:yx},xx={name:"Controls",compatConfig:{MODE:3}},wx=Fe({...xx,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>cd.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:o,elementsSelectable:s,setInteractive:r,zoomIn:i,zoomOut:l,fitView:a,viewport:u,minZoom:c,maxZoom:d}=Re(),p=Oe(()=>n.value||o.value||s.value),m=Oe(()=>u.value.zoom<=c.value),_=Oe(()=>u.value.zoom>=d.value);function C(){i(),t("zoomIn")}function $(){l(),t("zoomOut")}function A(){a(e.fitViewParams),t("fitView")}function D(){r(!p.value),t("interactionChange",!p.value)}return(w,I)=>(F(),Ve(L(z1),{class:"vue-flow__controls",position:w.position},{default:ft(()=>[Be(w.$slots,"top"),w.showZoom?(F(),X(ce,{key:0},[Be(w.$slots,"control-zoom-in",{},()=>[se(bs,{class:"vue-flow__controls-zoomin",disabled:_.value,onClick:C},{default:ft(()=>[Be(w.$slots,"icon-zoom-in",{},()=>[(F(),Ve(Bn(L(Q1))))])]),_:3},8,["disabled"])]),Be(w.$slots,"control-zoom-out",{},()=>[se(bs,{class:"vue-flow__controls-zoomout",disabled:m.value,onClick:$},{default:ft(()=>[Be(w.$slots,"icon-zoom-out",{},()=>[(F(),Ve(Bn(L(sx))))])]),_:3},8,["disabled"])])],64)):fe("",!0),w.showFitView?Be(w.$slots,"control-fit-view",{key:1},()=>[se(bs,{class:"vue-flow__controls-fitview",onClick:A},{default:ft(()=>[Be(w.$slots,"icon-fit-view",{},()=>[(F(),Ve(Bn(L(ux))))])]),_:3})]):fe("",!0),w.showInteractive?Be(w.$slots,"control-interactive",{key:2},()=>[w.showInteractive?(F(),Ve(bs,{key:0,class:"vue-flow__controls-interactive",onClick:D},{default:ft(()=>[p.value?Be(w.$slots,"icon-unlock",{key:0},()=>[(F(),Ve(Bn(L(bx))))]):fe("",!0),p.value?fe("",!0):Be(w.$slots,"icon-lock",{key:1},()=>[(F(),Ve(Bn(L(px))))])]),_:3})):fe("",!0)]):fe("",!0),Be(w.$slots,"default")]),_:3},8,["position"]))}}),ul=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},_x={class:"nodrag"},Sx=["draggable"],Cx={class:"text-gray-500/80 group-hover/field:text-gray-300 transition-colors cursor-grab active:cursor-grabbing",title:"Drag to reorder field"},Ex={key:0,class:"text-xs text-yellow-500 font-mono"},Ix={key:1,class:"flex-1 mr-2"},Nx={key:2,class:"text-[13px] text-gray-100 truncate select-none"},$x={key:3,class:"text-[10px] text-red-500 font-bold"},Mx={class:"flex items-center gap-2 ml-2"},kx={key:0,class:"relative"},xs=16,Tx={__name:"FieldItem",props:{field:Object,collectionId:String,parentId:{type:String,default:null},index:{type:Number,default:0},isLast:{type:Boolean,default:!1},level:{type:Number,default:0},ancestorLastFlags:{type:Array,default:()=>[]}},setup(e){const t=e,n=On(),o=ue(()=>n.selectedItemId===t.field.id),s=ue(()=>`${t.level*xs+16}px`),r=ue(()=>({ObjectId:"text-amber-400",String:"text-blue-400",Number:"text-violet-400",Date:"text-emerald-400",Boolean:"text-pink-400",Array:"text-slate-300",Object:"text-cyan-300",Map:"text-indigo-300",Buffer:"text-orange-300",Mixed:"text-gray-300"})[t.field.type]||"text-gray-300"),i=xe(!1),l=xe(""),a=xe(null),u=xe(!1),c=xe(!1),d=()=>{i.value=!0,l.value=t.field.name,setTimeout(()=>{a.value?.focus()},0)},p=()=>{l.value.trim()&&n.updateFieldProps(t.collectionId,t.field.id,{name:l.value.trim()}),i.value=!1},m=()=>{n.selectItem(t.field.id,"field",t.collectionId)},_=()=>{const O=`f-${Date.now()}`;n.addChildField(t.collectionId,t.field.id,{id:O,name:"childField",type:"String"}),n.selectItem(O,"field",t.collectionId)},C=O=>{if(c.value){O.preventDefault();return}O.dataTransfer.effectAllowed="move",O.dataTransfer.setData("application/json",JSON.stringify({fieldId:t.field.id,index:t.index,parentId:t.parentId,collectionId:t.collectionId})),O.stopPropagation()},$=O=>{O.preventDefault(),O.dataTransfer.dropEffect="move",u.value=!0},A=O=>{u.value=!1},D=O=>{O.preventDefault(),O.stopPropagation(),u.value=!1;try{const B=JSON.parse(O.dataTransfer.getData("application/json"));B.collectionId===t.collectionId&&B.parentId===t.parentId&&B.index!==t.index&&n.reorderField(t.collectionId,t.parentId,B.index,t.index)}catch(B){console.error("Drop error:",B)}},w=()=>{c.value=!0},I=()=>{requestAnimationFrame(()=>{c.value=!1})};return lt(()=>{window.addEventListener("mouseup",I),window.addEventListener("touchend",I)}),vn(()=>{window.removeEventListener("mouseup",I),window.removeEventListener("touchend",I)}),(O,B)=>{const j=Ui("FieldItem",!0);return F(),X("div",_x,[b("div",{onClick:at(m,["stop"]),class:Ee(["relative group/field flex items-center justify-between text-sm py-1.5 pr-2.5 rounded cursor-pointer border-2 transition-all duration-150",[o.value?"bg-[#2a2a2a] border-emerald-500":"border-transparent hover:bg-[#2a2a2a]",u.value?"border-t-emerald-500 bg-[#2a2a2a]/50 scale-[1.02]":""]]),style:We({paddingLeft:s.value}),draggable:!c.value,onDragstart:C,onDragover:$,onDragleave:A,onDrop:D},[(F(!0),X(ce,null,Te(e.ancestorLastFlags,(f,h)=>Os((F(),X("div",{key:h,class:"absolute top-0 bottom-0 w-px bg-[#404040]",style:We({left:`${h*xs+22}px`})},null,4)),[[mc,!f]])),128)),e.level>0?(F(),X(ce,{key:0},[b("div",{class:"absolute w-px bg-[#404040]",style:We({left:`${(e.level-1)*xs+22}px`,top:"0",height:e.isLast?"50%":"100%"})},null,4),b("div",{class:"absolute h-px bg-[#404040]",style:We({left:`${(e.level-1)*xs+22}px`,top:"50%",width:"8px"})},null,4)],64)):fe("",!0),se(L(lo),{type:"target",position:L(le).Left,id:e.field.id,onMousedown:at(w,["stop"]),onTouchstart:at(w,["stop"]),class:"!w-2 !h-2 !bg-gray-500 !-left-2.5 opacity-0 group-hover/field:opacity-100 transition-opacity"},null,8,["position","id"]),b("div",{class:"flex items-center gap-2 flex-1 min-w-0",onDblclick:at(d,["stop"])},[b("span",Cx,[se(L(rg),{size:13})]),e.field.key?(F(),X("span",Ex,"PK")):fe("",!0),i.value?(F(),X("div",Ix,[Os(b("input",{ref_key:"nameInput",ref:a,"onUpdate:modelValue":B[0]||(B[0]=f=>l.value=f),onBlur:p,onKeydown:Zi(p,["enter"]),onClick:B[1]||(B[1]=at(()=>{},["stop"])),class:"w-full bg-[#1e1e1e] text-gray-200 font-bold px-1 py-0.5 rounded border border-emerald-500 focus:outline-none text-xs"},null,544),[[xc,l.value]])])):(F(),X("span",Nx,Ce(e.field.name),1)),e.field.required?(F(),X("span",$x,"*")):fe("",!0)],32),b("div",Mx,[b("span",{class:Ee(["w-[82px] text-right text-[11px] font-semibold font-mono uppercase tracking-wider",r.value])},Ce(e.field.type),3),e.field.type==="Object"||e.field.type==="Array"?(F(),X("button",{key:0,onClick:at(_,["stop"]),class:"p-0.5 rounded hover:bg-emerald-600/20 text-gray-400 hover:text-emerald-400 opacity-0 group-hover/field:opacity-100 transition-opacity"},[se(L(Bs),{size:13})])):fe("",!0)]),se(L(lo),{type:"source",position:L(le).Right,id:e.field.id,onMousedown:at(w,["stop"]),onTouchstart:at(w,["stop"]),class:"!w-2 !h-2 !bg-emerald-500 !-right-2.5 opacity-0 group-hover/field:opacity-100 transition-opacity"},null,8,["position","id"])],46,Sx),e.field.children&&e.field.children.length>0?(F(),X("div",kx,[se(qi,{name:"field-list"},{default:ft(()=>[(F(!0),X(ce,null,Te(e.field.children,(f,h)=>(F(),Ve(j,{key:f.id,field:f,collectionId:e.collectionId,parentId:e.field.id,index:h,isLast:h===e.field.children.length-1,level:e.level+1,ancestorLastFlags:[...e.ancestorLastFlags,e.isLast]},null,8,["field","collectionId","parentId","index","isLast","level","ancestorLastFlags"]))),128))]),_:1})])):fe("",!0)])}}},Ax=ul(Tx,[["__scopeId","data-v-630bc11e"]]),Dx={class:"flex items-center gap-2 min-w-0 flex-1 mr-2"},Ox={class:"w-6 h-6 rounded-md bg-emerald-500/15 border border-emerald-500/30 flex items-center justify-center text-emerald-400"},Px={key:0,class:"flex-1 min-w-0"},Rx={key:1,class:"min-w-0 flex-1"},zx={class:"font-bold text-emerald-300 truncate block leading-tight select-none"},Hx={class:"text-[10px] text-gray-500"},Vx={key:0,class:"flex gap-1"},Fx={class:"p-1 rounded text-gray-500 hover:text-white hover:bg-gray-700/70 transition-colors"},Bx={class:"px-2.5 py-2.5 space-y-1.5 nodrag bg-[#1a1a1f]"},Lx={class:"p-2 border-t border-gray-700/80 bg-[#212127]"},jx={__name:"CollectionNode",props:{data:{type:Object,required:!0},id:{type:String,required:!0},selected:{type:Boolean,default:!1}},setup(e){const t=e,n=On(),{updateNodeInternals:o,findNode:s,addSelectedNodes:r,removeSelectedNodes:i}=Re(),l=xe(!1),a=xe(""),u=xe(null);let c=null;const d=()=>{l.value=!0,a.value=t.data.label,setTimeout(()=>{u.value?.focus()},0)},p=()=>{a.value.trim()&&n.updateCollectionProps(t.id,{label:a.value.trim()}),l.value=!1},m=()=>{const A=new Set(n.activeCollections.filter(I=>I.selected).map(I=>I.id)),D=[],w=[];n.activeCollections.forEach(I=>{const O=s(I.id);if(O){if(A.has(I.id)){O.selected||D.push(O);return}O.selected&&w.push(O)}}),w.length>0&&i(w),D.length>0&&r(D)},_=A=>{const D=A.shiftKey||A.metaKey||A.ctrlKey;if(s(t.id)){if(D){const I=n.activeCollections.filter(B=>B.selected).length;if(!!n.activeCollections.find(B=>B.id===t.id)?.selected&&I===1){n.selectItem(t.id,"collection"),m();return}n.setCollectionSelection(t.id,!0),m();return}n.setCollectionSelection(t.id,!1),m()}},C=()=>{const A=`f-${Date.now()}`;n.addField(t.id,{id:A,name:"newField",type:"String"}),n.selectItem(A,"field",t.id)},$=()=>{c&&(cancelAnimationFrame(c),c=null);const A=180,D=performance.now(),w=()=>{o([t.id]),performance.now()-D<A?c=requestAnimationFrame(w):c=null};c=requestAnimationFrame(w)};return ye(()=>t.data.fields,async()=>{await ct(),$()},{deep:!0}),vn(()=>{c&&cancelAnimationFrame(c)}),(A,D)=>(F(),X("div",{onClick:at(_,["stop"]),class:Ee(["min-w-[276px] bg-gradient-to-b from-[#1f1f23] to-[#17171a] rounded-xl border shadow-[0_8px_28px_rgba(0,0,0,0.35)] overflow-hidden transition-all duration-200 group",e.selected||L(n).selectedItemId===e.id&&L(n).selectedItemType==="collection"?"border-emerald-400 ring-1 ring-emerald-400/90 shadow-[0_8px_28px_rgba(16,185,129,0.16)]":"border-gray-700/90 hover:border-gray-500"])},[D[2]||(D[2]=b("div",{class:"h-0.5 bg-gradient-to-r from-emerald-400/80 via-cyan-400/70 to-blue-400/60"},null,-1)),b("div",{class:"px-3 py-2 bg-[#27272d] border-b border-gray-700/80 flex justify-between items-center handle drag-handle cursor-grab active:cursor-grabbing",onDblclick:at(d,["stop"])},[b("div",Dx,[b("div",Ox,[se(L(Tc),{size:13})]),l.value?(F(),X("div",Px,[Os(b("input",{ref_key:"titleInput",ref:u,"onUpdate:modelValue":D[0]||(D[0]=w=>a.value=w),onBlur:p,onKeydown:Zi(p,["enter"]),class:"w-full bg-[#1e1e1e] text-emerald-300 font-bold px-2 py-1 rounded border border-emerald-500 focus:outline-none text-sm"},null,544),[[xc,a.value]])])):(F(),X("div",Rx,[b("span",zx,Ce(e.data.label),1),b("span",Hx,Ce(e.data.fields.length)+" fields",1)]))]),l.value?fe("",!0):(F(),X("div",Vx,[b("button",Fx,[se(L(sg),{size:14})])]))],32),b("div",Bx,[se(qi,{name:"field-list"},{default:ft(()=>[(F(!0),X(ce,null,Te(e.data.fields,(w,I)=>(F(),Ve(Ax,{key:w.id,field:w,collectionId:e.id,parentId:null,index:I,isLast:I===e.data.fields.length-1,level:0},null,8,["field","collectionId","index","isLast"]))),128))]),_:1})]),b("div",Lx,[b("button",{onClick:at(C,["stop"]),class:"w-full flex items-center justify-center gap-1 py-1.5 text-xs font-medium text-gray-300 hover:text-emerald-200 bg-[#2a2a33] hover:bg-[#30303a] border border-gray-600/60 rounded-md transition-colors"},[se(L(Bs),{size:14}),D[1]||(D[1]=Ye(" Add Field ",-1))])])],2))}},Ux=ul(jx,[["__scopeId","data-v-3a782cb6"]]),Kx={key:0,class:"px-2 py-1 text-xs font-bold text-gray-500 uppercase border-b border-gray-700 mb-1"},Gx={key:1,class:"px-2 py-1 text-xs font-bold text-gray-500 uppercase border-b border-gray-700 mb-1"},Yx={key:2,class:"px-2 py-1 text-xs font-bold text-gray-500 uppercase border-b border-gray-700 mb-1"},Wx={__name:"ContextMenu",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},type:{type:String,required:!0},id:{type:String,default:null}},emits:["close","delete","duplicate"],setup(e,{emit:t}){const n=t,o=xe(null),s=r=>{o.value&&!o.value.contains(r.target)&&n("close")};return lt(()=>{console.log("[ContextMenu] Component Mounted"),setTimeout(()=>{console.log("[ContextMenu] Adding global listeners"),document.addEventListener("click",s),document.addEventListener("contextmenu",s)},100)}),vn(()=>{console.log("[ContextMenu] Component Unmounted"),document.removeEventListener("click",s),document.removeEventListener("contextmenu",s)}),(r,i)=>(F(),Ve(Ff,{to:"body"},[(F(),X("div",{key:0,ref_key:"menuRef",ref:o,class:"fixed z-[9999] bg-[#1e1e1e] border border-gray-700 rounded-lg shadow-xl py-1 w-48 text-sm",style:We({top:`${e.y}px`,left:`${e.x}px`})},[e.type==="collection"?(F(),X("div",Kx," Collection Actions ")):e.type==="edge"?(F(),X("div",Gx," Relation Actions ")):e.type==="canvas"?(F(),X("div",Yx," Canvas Actions ")):fe("",!0),e.type==="canvas"?(F(),X("button",{key:3,onClick:i[0]||(i[0]=l=>r.$emit("create")),class:"w-full text-left px-3 py-2 hover:bg-[#2a2a2a] text-emerald-400 hover:text-emerald-300 flex items-center gap-2 transition-colors"},[se(L(kc),{size:14}),i[2]||(i[2]=Ye(" Create Collection ",-1))])):fe("",!0),e.type!=="canvas"?(F(),X("button",{key:4,onClick:i[1]||(i[1]=l=>r.$emit("delete",e.id)),class:"w-full text-left px-3 py-2 hover:bg-red-900/30 text-red-400 hover:text-red-300 flex items-center gap-2 transition-colors"},[se(L(In),{size:14}),i[3]||(i[3]=Ye(" Delete ",-1))])):fe("",!0)],4))]))}},Xx={class:"h-full w-full bg-[#1a1a1a]"},qx="#64748b",Zx={__name:"DiagramCanvas",setup(e){const t=On(),{onConnect:n,addEdges:o,onPaneClick:s,onEdgeClick:r,onNodeContextMenu:i,onEdgeContextMenu:l,onPaneContextMenu:a,project:u,getSelectedNodes:c,getSelectedEdges:d,findEdge:p,addSelectedEdges:m,removeSelectedEdges:_}=Re(),C={collection:hn(Ux)},$=ue({get:()=>t.activeCollections,set:y=>{const P=t.activeDatabaseId,T=t.collections.filter(U=>U.databaseId!==P),R=(y||[]).map(U=>U?.databaseId===P?U:{...U,databaseId:P});t.collections=[...T,...R]}}),A=(y=[])=>{const P=t.activeDatabaseId,T=new Set(t.activeCollections.map(R=>R.id));return(y||[]).filter(R=>R&&R.source&&R.target&&R.sourceHandle&&R.targetHandle).filter(R=>T.has(R.source)&&T.has(R.target)).filter(R=>B(R.source,R.sourceHandle)).filter(R=>B(R.target,R.targetHandle)).map(R=>R?.databaseId===P?R:{...R,databaseId:P})},D=ue({get:()=>t.activeEdges,set:y=>{const P=t.activeDatabaseId,T=t.edges.filter(U=>U.databaseId!==P),R=A(y);t.edges=[...T,...R]}}),w={ObjectId:"#fbbf24",String:"#60a5fa",Number:"#a78bfa",Date:"#34d399",Boolean:"#f472b6",Array:"#cbd5e1",Object:"#67e8f9",Map:"#818cf8",Buffer:"#fdba74",Mixed:"#9ca3af"},I=(y,P)=>{for(const T of y||[]){if(T.id===P)return T;if(T.children?.length){const R=I(T.children,P);if(R)return R}}return null},O=(y,P)=>{const T=t.collections.find(U=>U.id===y);return!T||!P?null:I(T.data?.fields||[],P)?.type||null},B=(y,P)=>P?!!O(y,P):!1,j=y=>({stroke:w[y]||qx,strokeWidth:2,strokeDasharray:"7 5"}),f=()=>{t.edges.forEach(y=>{const P=O(y.source,y.sourceHandle),T=j(P),R=y.style||{};(R.stroke!==T.stroke||R.strokeWidth!==T.strokeWidth||R.strokeDasharray!==T.strokeDasharray)&&(y.style={...R,...T}),y.animated!==!1&&(y.animated=!1)})},h=xe({visible:!1,x:0,y:0,type:null,id:null}),G=(y,P,T)=>{y.preventDefault(),y.stopPropagation(),h.value={visible:!0,x:y.clientX,y:y.clientY,type:P,id:T}},K=()=>{h.value.visible=!1},N=(y,P)=>{if(y==="delete")h.value.type==="collection"?t.removeCollection(P):h.value.type==="edge"&&t.removeEdge(P);else if(y==="create"){const{x:T,y:R}=u({x:h.value.x,y:h.value.y}),J={id:`col-${Date.now()}`,type:"collection",position:{x:T,y:R},data:{label:"New Collection",fields:[{id:`f-${Date.now()}-1`,name:"_id",type:"ObjectId",key:!0}]}};t.addCollection(J)}K()};n(y=>{if(!y.source||!y.target||!y.sourceHandle||!y.targetHandle||!B(y.source,y.sourceHandle)||!B(y.target,y.targetHandle))return;const P=O(y.source,y.sourceHandle);o([{...y,databaseId:t.activeDatabaseId,style:j(P),animated:!1}])}),s(()=>{t.clearSelections(),K()}),r(y=>{if(y.event.shiftKey||y.event.metaKey||y.event.ctrlKey){const T=p(y.edge.id);if(T){const R=d.value.some(J=>J.id===T.id),U=d.value.length;if(R&&U===1){t.selectItem(T.id,"edge"),K();return}R?_([T]):m([T])}K();return}t.selectItem(y.edge.id,"edge"),K()}),i(y=>{G(y.event,"collection",y.node.id)}),l(y=>{G(y.event,"edge",y.edge.id)}),a(y=>{G(y,"canvas",null)}),ye([c,d],([y,P])=>{if(y.length+P.length!==1){t.selectedItemType!=="field"&&t.selectItem(null,null,null);return}if(y.length===1){t.selectItem(y[0].id,"collection");return}P.length===1&&t.selectItem(P[0].id,"edge")},{deep:!0}),ye(()=>t.collections,()=>{t.pruneInvalidEdges(t.activeDatabaseId),f()},{deep:!0});const q=y=>{if(!(["INPUT","TEXTAREA"].includes(document.activeElement.tagName)||document.activeElement.isContentEditable)){if(y.key==="Delete"||y.key==="Backspace"){const P=c.value.map(R=>R.id),T=d.value.map(R=>R.id);if(P.length||T.length){P.forEach(R=>t.removeCollection(R)),T.forEach(R=>t.removeEdge(R));return}t.selectedItemId&&(t.selectedItemType==="collection"?t.removeCollection(t.selectedItemId):t.selectedItemType==="edge"&&t.removeEdge(t.selectedItemId))}if(y.ctrlKey||y.metaKey){const P=y.key.toLowerCase();if(P==="z"){y.preventDefault(),y.shiftKey?t.redo():t.undo();return}if(P==="y"){y.preventDefault(),t.redo();return}P==="c"?t.selectedItemId&&t.selectedItemType==="collection"&&t.copyNode(t.selectedItemId):P==="v"&&t.pasteNode()}}};return lt(()=>{t.pruneInvalidEdges(t.activeDatabaseId),f(),window.addEventListener("keydown",q)}),vn(()=>{window.removeEventListener("keydown",q)}),(y,P)=>(F(),X("div",Xx,[(F(),Ve(L(P1),{key:L(t).activeDatabaseId,nodes:$.value,"onUpdate:nodes":P[2]||(P[2]=T=>$.value=T),edges:D.value,"onUpdate:edges":P[3]||(P[3]=T=>D.value=T),"node-types":C,"multi-selection-key-code":["Meta","Control","Shift"],class:"h-full w-full","default-viewport":{zoom:1},"min-zoom":.2,"max-zoom":4},{default:ft(()=>[se(L(U1),{"pattern-color":"#333",gap:20}),se(L(wx)),h.value.visible?(F(),Ve(Wx,{key:0,x:h.value.x,y:h.value.y,type:h.value.type,id:h.value.id,onClose:K,onDelete:P[0]||(P[0]=T=>N("delete",T)),onCreate:P[1]||(P[1]=()=>N("create"))},null,8,["x","y","type","id"])):fe("",!0)]),_:1},8,["nodes","edges"]))]))}},Jx={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"},Qx={class:"bg-[#1e1e1e] border border-gray-700 rounded-lg shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col overflow-hidden"},ew={class:"px-6 py-4 border-b border-gray-700 flex justify-between items-center bg-[#252525]"},tw={class:"flex-1 bg-[#1e1e1e] overflow-hidden relative"},nw={class:"absolute inset-0 flex flex-col items-center justify-center z-10 bg-[#1e1e1e]"},ow={class:"px-6 py-4 border-t border-gray-700 bg-[#252525] flex justify-end gap-3"},sw={__name:"CodeExport",props:{isOpen:Boolean,collectionId:{type:String,default:null},collectionIds:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const n=e,o=On(),s=ue(()=>n.collectionIds.length>0?o.getCollectionsCode(n.collectionIds):n.collectionId?o.getCollectionCode(n.collectionId):o.mongooseSchemaCode),r=xe(null),i=xe(!0);let l=null;const a=()=>{navigator.clipboard.writeText(s.value)},u=()=>{if(l)return;i.value=!0;const c=()=>{require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs"}}),require(["vs/editor/editor.main"],function(){i.value=!1,r.value&&(l&&l.dispose(),l=monaco.editor.create(r.value,{value:s.value,language:"javascript",theme:"vs-dark",readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14,padding:{top:16}}))})};if(window.monaco&&window.monaco.editor){c();return}if(document.getElementById("monaco-loader")){if(window.require)c();else{const p=setInterval(()=>{window.require&&(clearInterval(p),c())},100)}return}const d=document.createElement("script");d.id="monaco-loader",d.src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js",d.onload=c,document.body.appendChild(d)};return ye(()=>n.isOpen,c=>{c?setTimeout(()=>{u(),l&&l.setValue(s.value)},100):l&&(l.dispose(),l=null)}),ye(s,c=>{l&&l.setValue(c)}),vn(()=>{l&&l.dispose()}),(c,d)=>e.isOpen?(F(),X("div",Jx,[b("div",Qx,[b("div",ew,[d[2]||(d[2]=b("h2",{class:"text-xl font-bold text-white"},"Export Schema",-1)),b("button",{onClick:d[0]||(d[0]=p=>c.$emit("close")),class:"text-gray-400 hover:text-white transition-colors"},[se(L(Dc),{size:20})])]),b("div",tw,[Os(b("div",nw,[...d[3]||(d[3]=[b("div",{class:"w-8 h-8 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin mb-2"},null,-1),b("span",{class:"text-gray-400 text-sm"},"Loading Editor...",-1)])],512),[[mc,i.value]]),b("div",{ref_key:"editorContainer",ref:r,class:Ee(["w-full h-full",{"opacity-0":i.value}])},null,2)]),b("div",ow,[b("button",{onClick:d[1]||(d[1]=p=>c.$emit("close")),class:"px-4 py-2 rounded bg-gray-700 hover:bg-gray-600 text-white font-medium transition-colors"}," Close "),b("button",{onClick:a,class:"px-4 py-2 rounded bg-emerald-600 hover:bg-emerald-700 text-white font-medium flex items-center gap-2 transition-colors"},[se(L(kc),{size:16}),d[4]||(d[4]=Ye(" Copy Code ",-1))])])])])):fe("",!0)}},rw={class:"w-80 bg-[#1e1e1e] border-l border-gray-700 flex flex-col h-full overflow-y-auto"},iw={key:0,class:"flex-1 flex flex-col items-center justify-center text-gray-500 p-8 text-center"},lw={key:1,class:"p-4 space-y-6"},aw={class:"pt-4 border-t border-gray-700"},uw={key:2,class:"p-4 space-y-6"},cw=["value"],dw={class:"space-y-3"},fw={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},hw={key:0,class:"space-y-2 pl-2 border-l-2 border-emerald-500/30"},pw=["value"],gw=["value"],mw={class:"space-y-3"},vw=["value"],yw={class:"grid grid-cols-2 gap-2"},bw=["value"],xw=["value"],ww=["value"],_w=["value"],Sw=["value"],Cw=["value"],Ew=["value"],Iw=["value"],Nw=["value"],$w=["value"],Mw=["value"],kw=["value"],Tw=["value"],Aw=["value"],Dw=["value"],Ow=["value"],Pw={class:"grid grid-cols-2 gap-2"},Rw=["value"],zw={key:0},Hw=["value"],Vw={class:"grid grid-cols-2 gap-2"},Fw=["value"],Bw=["value"],Lw=["value"],jw=["value"],Uw={class:"space-y-2"},Kw={class:"grid grid-cols-3 gap-2"},Gw=["value"],Yw=["value"],Ww=["value"],Xw=["value"],qw={class:"space-y-2"},Zw={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},Jw={key:0,class:"grid grid-cols-3 gap-2"},Qw=["value"],e_=["value"],t_=["value"],n_=["value"],o_={class:"space-y-2"},s_={class:"grid grid-cols-2 gap-2"},r_=["value"],i_=["value"],l_=["value"],a_=["value"],u_=["value"],c_=["value"],d_=["value"],f_=["value"],h_={class:"pt-4 border-t border-gray-700"},p_={key:3,class:"p-4 space-y-6"},g_=["value"],m_=["value"],v_=["value"],y_={class:"space-y-3"},b_={class:"grid grid-cols-2 gap-2"},x_={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},w_={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},__={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},S_={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},C_={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},E_={class:"grid grid-cols-2 gap-2"},I_=["value"],N_=["value"],$_=["value"],M_={key:0,class:"space-y-3"},k_={class:"grid grid-cols-3 gap-2"},T_={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},A_={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},D_={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},O_={class:"grid grid-cols-2 gap-2"},P_=["value"],R_=["value"],z_={class:"grid grid-cols-2 gap-2"},H_=["value"],V_=["value"],F_=["value"],B_={class:"space-y-2"},L_=["value","onInput"],j_=["onClick"],U_={key:1,class:"space-y-3"},K_={class:"grid grid-cols-3 gap-2"},G_=["value"],Y_=["value"],W_=["value"],X_={key:2,class:"space-y-3"},q_=["value"],Z_=["value"],J_={key:3,class:"space-y-3"},Q_={class:"grid grid-cols-2 gap-2"},eS=["value"],tS=["value"],nS={class:"grid grid-cols-3 gap-2"},oS=["value"],sS=["value"],rS=["value"],iS={key:4,class:"space-y-3"},lS=["value"],aS=["value"],uS=["value"],cS={key:5,class:"space-y-3"},dS=["value"],fS=["value"],hS={key:6,class:"space-y-3"},pS=["value"],gS=["value"],mS={class:"pt-4 border-t border-gray-700"},vS={__name:"PropertiesPanel",setup(e){const t=On(),n=es(),o=ue(()=>t.selectedItem),s=ue(()=>t.selectedItemType==="collection"),r=ue(()=>t.selectedItemType==="field"),i=ue(()=>t.selectedItemType==="edge"),l=["String","Number","ObjectId","Date","Boolean","Array","Object","Map","Buffer","Mixed"],a=[{value:"",label:"Default"},{value:"true",label:"True"},{value:"false",label:"False"}],u=[{value:"",label:"Default"},{value:"true",label:"True"},{value:"false",label:"False"},{value:"throw",label:"Throw"}],c=[{value:"",label:"Default"},{value:"primary",label:"primary"},{value:"primaryPreferred",label:"primaryPreferred"},{value:"secondary",label:"secondary"},{value:"secondaryPreferred",label:"secondaryPreferred"},{value:"nearest",label:"nearest"}],d=[{value:"",label:"Default"},{value:"upper",label:"upper"},{value:"lower",label:"lower"},{value:"off",label:"off"}],p=["String","Number","Boolean","Date","ObjectId","Object","Mixed"],m=(j,f)=>{t.updateCollectionProps(t.selectedItemId,{[j]:f})},_=(j,f)=>{r.value&&t.updateFieldProps(t.selectedCollectionId,t.selectedItemId,{[j]:f})},C=()=>{if(!r.value||!o.value)return[];if(Array.isArray(o.value.enumValues))return o.value.enumValues;if(typeof o.value.enum=="string"&&o.value.enum.trim()){const j=o.value.enum.split(",").map(f=>f.trim()).filter(Boolean);return t.updateFieldProps(t.selectedCollectionId,t.selectedItemId,{enumValues:j,enum:""}),j}return[]},$=()=>{_("enumValues",[...C(),""])},A=(j,f)=>{const h=[...C()];j<0||j>=h.length||(h[j]=f,_("enumValues",h))},D=j=>{const f=[...C()];j<0||j>=f.length||(f.splice(j,1),_("enumValues",f))},w=j=>{s.value?t.updateCollectionProps(t.selectedItemId,{label:j.target.value}):r.value&&t.updateFieldProps(t.selectedCollectionId,t.selectedItemId,{name:j.target.value})},I=j=>{r.value&&t.updateFieldProps(t.selectedCollectionId,t.selectedItemId,{type:j.target.value})},O=j=>{if(r.value){const f=o.value[j]||!1;t.updateFieldProps(t.selectedCollectionId,t.selectedItemId,{[j]:!f})}},B=async()=>{await n.openConfirm({title:"Delete Item",message:"Are you sure?",confirmText:"Delete"})&&(s.value?(t.removeCollection(t.selectedItemId),n.showToast("Collection deleted.","success")):r.value?(t.removeField(t.selectedCollectionId,t.selectedItemId),n.showToast("Field deleted.","success")):i.value&&(t.removeEdge(t.selectedItemId),n.showToast("Relationship deleted.","success")))};return(j,f)=>(F(),X("aside",rw,[f[111]||(f[111]=b("div",{class:"p-4 border-b border-gray-700"},[b("h2",{class:"font-bold text-gray-200"},"Properties")],-1)),!o.value&&!i.value?(F(),X("div",iw,[se(L(og),{size:48,class:"mb-4 opacity-50"}),f[56]||(f[56]=b("p",{class:"text-sm"},"Select a collection, field, or relationship to edit properties",-1))])):i.value?(F(),X("div",lw,[f[58]||(f[58]=b("div",{class:"p-4 bg-[#2a2a2a] rounded text-center"},[b("h3",{class:"text-gray-300 font-medium mb-2"},"Relationship Selected"),b("p",{class:"text-xs text-gray-500"},"You can delete this relationship connection.")],-1)),b("div",aw,[b("button",{onClick:B,class:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-900/30 hover:bg-red-900/50 text-red-500 border border-red-900/50 rounded transition-colors text-sm"},[se(L(In),{size:16}),f[57]||(f[57]=Ye(" Delete Relationship ",-1))])])])):s.value?(F(),X("div",uw,[b("div",null,[f[59]||(f[59]=b("label",{class:"block text-xs font-bold text-gray-500 uppercase mb-2"},"Collection Name",-1)),b("input",{value:o.value.data.label,onInput:w,class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-3 py-2 text-white text-sm focus:border-emerald-500 focus:outline-none transition-colors",type:"text"},null,40,cw)]),b("div",dw,[f[63]||(f[63]=b("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Schema Options",-1)),b("div",fw,[f[60]||(f[60]=b("span",{class:"text-sm text-gray-300"},"Timestamps",-1)),b("button",{onClick:f[0]||(f[0]=h=>L(t).updateCollectionProps(L(t).selectedItemId,{timestampsEnabled:!o.value.data.timestampsEnabled})),class:Ee(["w-10 h-5 rounded-full relative transition-colors",o.value.data.timestampsEnabled?"bg-emerald-500":"bg-gray-600"])},[b("div",{class:Ee(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.data.timestampsEnabled?"translate-x-5":""])},null,2)],2)]),o.value.data.timestampsEnabled?(F(),X("div",hw,[b("div",null,[f[61]||(f[61]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Created At Field",-1)),b("input",{value:o.value.data.createdAtName,onInput:f[1]||(f[1]=h=>L(t).updateCollectionProps(L(t).selectedItemId,{createdAtName:h.target.value})),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs focus:border-emerald-500 focus:outline-none transition-colors",type:"text",placeholder:"default: createdAt"},null,40,pw)]),b("div",null,[f[62]||(f[62]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Updated At Field",-1)),b("input",{value:o.value.data.updatedAtName,onInput:f[2]||(f[2]=h=>L(t).updateCollectionProps(L(t).selectedItemId,{updatedAtName:h.target.value})),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs focus:border-emerald-500 focus:outline-none transition-colors",type:"text",placeholder:"default: updatedAt"},null,40,gw)])])):fe("",!0)]),b("div",mw,[f[81]||(f[81]=b("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Advanced Schema Options",-1)),b("div",null,[f[64]||(f[64]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Collection Name",-1)),b("input",{value:o.value.data.schemaCollectionName||"",onInput:f[3]||(f[3]=h=>m("schemaCollectionName",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs focus:border-emerald-500 focus:outline-none transition-colors",type:"text",placeholder:"default model name plural"},null,40,vw)]),b("div",yw,[b("div",null,[f[65]||(f[65]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Strict",-1)),b("select",{value:o.value.data.schemaStrictMode||"",onChange:f[4]||(f[4]=h=>m("schemaStrictMode",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(u,h=>b("option",{key:h.value,value:h.value},Ce(h.label),9,xw)),64))],40,bw)]),b("div",null,[f[66]||(f[66]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Strict Query",-1)),b("select",{value:o.value.data.schemaStrictQueryMode||"",onChange:f[5]||(f[5]=h=>m("schemaStrictQueryMode",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`strict-query-${h.value}`,value:h.value},Ce(h.label),9,_w)),64))],40,ww)]),b("div",null,[f[67]||(f[67]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Auto Index",-1)),b("select",{value:o.value.data.schemaAutoIndexMode||"",onChange:f[6]||(f[6]=h=>m("schemaAutoIndexMode",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`auto-index-${h.value}`,value:h.value},Ce(h.label),9,Cw)),64))],40,Sw)]),b("div",null,[f[68]||(f[68]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Auto Create",-1)),b("select",{value:o.value.data.schemaAutoCreateMode||"",onChange:f[7]||(f[7]=h=>m("schemaAutoCreateMode",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`auto-create-${h.value}`,value:h.value},Ce(h.label),9,Iw)),64))],40,Ew)]),b("div",null,[f[69]||(f[69]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"id Virtual",-1)),b("select",{value:o.value.data.schemaIdVirtualMode||"",onChange:f[8]||(f[8]=h=>m("schemaIdVirtualMode",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`id-virtual-${h.value}`,value:h.value},Ce(h.label),9,$w)),64))],40,Nw)]),b("div",null,[f[70]||(f[70]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"_id Field",-1)),b("select",{value:o.value.data.schemaUnderscoreIdMode||"",onChange:f[9]||(f[9]=h=>m("schemaUnderscoreIdMode",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`id-field-${h.value}`,value:h.value},Ce(h.label),9,kw)),64))],40,Mw)]),b("div",null,[f[71]||(f[71]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Minimize",-1)),b("select",{value:o.value.data.schemaMinimizeMode||"",onChange:f[10]||(f[10]=h=>m("schemaMinimizeMode",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`minimize-${h.value}`,value:h.value},Ce(h.label),9,Aw)),64))],40,Tw)]),b("div",null,[f[72]||(f[72]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Optimistic Concurrency",-1)),b("select",{value:o.value.data.schemaOptimisticConcurrencyMode||"",onChange:f[11]||(f[11]=h=>m("schemaOptimisticConcurrencyMode",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`optimistic-${h.value}`,value:h.value},Ce(h.label),9,Ow)),64))],40,Dw)])]),b("div",Pw,[b("div",null,[f[74]||(f[74]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Version Key",-1)),b("select",{value:o.value.data.schemaVersionKeyMode||"",onChange:f[12]||(f[12]=h=>m("schemaVersionKeyMode",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[...f[73]||(f[73]=[b("option",{value:""},"Default",-1),b("option",{value:"disable"},"Disable",-1),b("option",{value:"custom"},"Custom",-1)])],40,Rw)]),o.value.data.schemaVersionKeyMode==="custom"?(F(),X("div",zw,[f[75]||(f[75]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Version Key Name",-1)),b("input",{value:o.value.data.schemaVersionKeyName||"",onInput:f[13]||(f[13]=h=>m("schemaVersionKeyName",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"e.g. version"},null,40,Hw)])):fe("",!0)]),b("div",Vw,[b("div",null,[f[76]||(f[76]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Read Preference",-1)),b("select",{value:o.value.data.schemaReadPreference||"",onChange:f[14]||(f[14]=h=>m("schemaReadPreference",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(c,h=>b("option",{key:`read-${h.value}`,value:h.value},Ce(h.label),9,Bw)),64))],40,Fw)]),b("div",null,[f[77]||(f[77]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"skipVersioning",-1)),b("select",{value:o.value.data.schemaSkipVersioningMode||"",onChange:f[15]||(f[15]=h=>m("schemaSkipVersioningMode",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`skip-version-${h.value}`,value:h.value},Ce(h.label),9,jw)),64))],40,Lw)])]),b("div",Uw,[f[78]||(f[78]=b("label",{class:"block text-[10px] text-gray-400 uppercase"},"Write Concern",-1)),b("div",Kw,[b("input",{value:o.value.data.schemaWriteConcernW||"",onInput:f[16]||(f[16]=h=>m("schemaWriteConcernW",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"w (1/majority)"},null,40,Gw),b("select",{value:o.value.data.schemaWriteConcernJMode||"",onChange:f[17]||(f[17]=h=>m("schemaWriteConcernJMode",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`write-j-${h.value}`,value:h.value},"j: "+Ce(h.label),9,Ww)),64))],40,Yw),b("input",{value:o.value.data.schemaWriteConcernWtimeout||"",onInput:f[18]||(f[18]=h=>m("schemaWriteConcernWtimeout",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"0",placeholder:"wtimeout ms"},null,40,Xw)])]),b("div",qw,[b("div",Zw,[f[79]||(f[79]=b("span",{class:"text-sm text-gray-300"},"Capped Collection",-1)),b("button",{onClick:f[19]||(f[19]=h=>m("schemaCappedEnabled",!o.value.data.schemaCappedEnabled)),class:Ee(["w-10 h-5 rounded-full relative transition-colors",o.value.data.schemaCappedEnabled?"bg-emerald-500":"bg-gray-600"])},[b("div",{class:Ee(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.data.schemaCappedEnabled?"translate-x-5":""])},null,2)],2)]),o.value.data.schemaCappedEnabled?(F(),X("div",Jw,[b("input",{value:o.value.data.schemaCappedSize||"",onInput:f[20]||(f[20]=h=>m("schemaCappedSize",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"1",placeholder:"size bytes"},null,40,Qw),b("input",{value:o.value.data.schemaCappedMax||"",onInput:f[21]||(f[21]=h=>m("schemaCappedMax",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"1",placeholder:"max docs"},null,40,e_),b("select",{value:o.value.data.schemaCappedAutoIndexIdMode||"",onChange:f[22]||(f[22]=h=>m("schemaCappedAutoIndexIdMode",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`capped-id-${h.value}`,value:h.value},"autoIndexId: "+Ce(h.label),9,n_)),64))],40,t_)])):fe("",!0)]),b("div",o_,[f[80]||(f[80]=b("label",{class:"block text-[10px] text-gray-400 uppercase"},"Collation",-1)),b("div",s_,[b("input",{value:o.value.data.schemaCollationLocale||"",onInput:f[23]||(f[23]=h=>m("schemaCollationLocale",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"locale (e.g. en)"},null,40,r_),b("input",{value:o.value.data.schemaCollationStrength||"",onInput:f[24]||(f[24]=h=>m("schemaCollationStrength",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"1",max:"5",placeholder:"strength 1-5"},null,40,i_),b("select",{value:o.value.data.schemaCollationCaseLevelMode||"",onChange:f[25]||(f[25]=h=>m("schemaCollationCaseLevelMode",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`collation-case-level-${h.value}`,value:h.value},"caseLevel: "+Ce(h.label),9,a_)),64))],40,l_),b("select",{value:o.value.data.schemaCollationCaseFirst||"",onChange:f[26]||(f[26]=h=>m("schemaCollationCaseFirst",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(d,h=>b("option",{key:`collation-case-first-${h.value}`,value:h.value},"caseFirst: "+Ce(h.label),9,c_)),64))],40,u_),b("select",{value:o.value.data.schemaCollationNumericOrderingMode||"",onChange:f[27]||(f[27]=h=>m("schemaCollationNumericOrderingMode",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs col-span-2"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`collation-numeric-${h.value}`,value:h.value},"numericOrdering: "+Ce(h.label),9,f_)),64))],40,d_)])])]),b("div",h_,[b("button",{onClick:B,class:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-900/30 hover:bg-red-900/50 text-red-500 border border-red-900/50 rounded transition-colors text-sm"},[se(L(In),{size:16}),f[82]||(f[82]=Ye(" Delete Collection ",-1))])])])):r.value?(F(),X("div",p_,[b("div",null,[f[83]||(f[83]=b("label",{class:"block text-xs font-bold text-gray-500 uppercase mb-2"},"Field Name",-1)),b("input",{value:o.value.name,onInput:w,class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-3 py-2 text-white text-sm focus:border-emerald-500 focus:outline-none transition-colors",type:"text"},null,40,g_)]),b("div",null,[f[84]||(f[84]=b("label",{class:"block text-xs font-bold text-gray-500 uppercase mb-2"},"Type",-1)),b("select",{value:o.value.type,onChange:I,class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-3 py-2 text-white text-sm focus:border-emerald-500 focus:outline-none transition-colors appearance-none"},[(F(),X(ce,null,Te(l,h=>b("option",{key:h,value:h},Ce(h),9,v_)),64))],40,m_)]),b("div",y_,[f[92]||(f[92]=b("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Common Options",-1)),b("div",b_,[b("div",x_,[f[85]||(f[85]=b("span",{class:"text-sm text-gray-300"},"Required",-1)),b("button",{onClick:f[28]||(f[28]=h=>O("required")),class:Ee(["w-10 h-5 rounded-full relative transition-colors",o.value.required?"bg-emerald-500":"bg-gray-600"])},[b("div",{class:Ee(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.required?"translate-x-5":""])},null,2)],2)]),b("div",w_,[f[86]||(f[86]=b("span",{class:"text-sm text-gray-300"},"Unique",-1)),b("button",{onClick:f[29]||(f[29]=h=>O("unique")),class:Ee(["w-10 h-5 rounded-full relative transition-colors",o.value.unique?"bg-emerald-500":"bg-gray-600"])},[b("div",{class:Ee(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.unique?"translate-x-5":""])},null,2)],2)]),b("div",__,[f[87]||(f[87]=b("span",{class:"text-sm text-gray-300"},"Index",-1)),b("button",{onClick:f[30]||(f[30]=h=>O("index")),class:Ee(["w-10 h-5 rounded-full relative transition-colors",o.value.index?"bg-emerald-500":"bg-gray-600"])},[b("div",{class:Ee(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.index?"translate-x-5":""])},null,2)],2)]),b("div",S_,[f[88]||(f[88]=b("span",{class:"text-sm text-gray-300"},"Sparse",-1)),b("button",{onClick:f[31]||(f[31]=h=>O("sparse")),class:Ee(["w-10 h-5 rounded-full relative transition-colors",o.value.sparse?"bg-emerald-500":"bg-gray-600"])},[b("div",{class:Ee(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.sparse?"translate-x-5":""])},null,2)],2)]),b("div",C_,[f[89]||(f[89]=b("span",{class:"text-sm text-gray-300"},"Immutable",-1)),b("button",{onClick:f[32]||(f[32]=h=>O("immutable")),class:Ee(["w-10 h-5 rounded-full relative transition-colors",o.value.immutable?"bg-emerald-500":"bg-gray-600"])},[b("div",{class:Ee(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.immutable?"translate-x-5":""])},null,2)],2)])]),b("div",E_,[b("div",null,[f[90]||(f[90]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Alias",-1)),b("input",{value:o.value.alias||"",onInput:f[33]||(f[33]=h=>_("alias",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"optional alias"},null,40,I_)]),b("div",null,[f[91]||(f[91]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Select",-1)),b("select",{value:o.value.selectMode||"",onChange:f[34]||(f[34]=h=>_("selectMode",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`field-select-${h.value}`,value:h.value},Ce(h.label),9,$_)),64))],40,N_)])])]),o.value.type==="String"?(F(),X("div",M_,[f[98]||(f[98]=b("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"String Options",-1)),b("div",k_,[b("div",T_,[f[93]||(f[93]=b("span",{class:"text-xs text-gray-300"},"Trim",-1)),b("button",{onClick:f[35]||(f[35]=h=>O("trim")),class:Ee(["w-8 h-4 rounded-full relative transition-colors",o.value.trim?"bg-emerald-500":"bg-gray-600"])},[b("div",{class:Ee(["absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full transition-transform",o.value.trim?"translate-x-4":""])},null,2)],2)]),b("div",A_,[f[94]||(f[94]=b("span",{class:"text-xs text-gray-300"},"Lowercase",-1)),b("button",{onClick:f[36]||(f[36]=h=>O("lowercase")),class:Ee(["w-8 h-4 rounded-full relative transition-colors",o.value.lowercase?"bg-emerald-500":"bg-gray-600"])},[b("div",{class:Ee(["absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full transition-transform",o.value.lowercase?"translate-x-4":""])},null,2)],2)]),b("div",D_,[f[95]||(f[95]=b("span",{class:"text-xs text-gray-300"},"Uppercase",-1)),b("button",{onClick:f[37]||(f[37]=h=>O("uppercase")),class:Ee(["w-8 h-4 rounded-full relative transition-colors",o.value.uppercase?"bg-emerald-500":"bg-gray-600"])},[b("div",{class:Ee(["absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full transition-transform",o.value.uppercase?"translate-x-4":""])},null,2)],2)])]),b("div",O_,[b("input",{value:o.value.minLength||"",onInput:f[38]||(f[38]=h=>_("minLength",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"0",placeholder:"minLength"},null,40,P_),b("input",{value:o.value.maxLength||"",onInput:f[39]||(f[39]=h=>_("maxLength",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"0",placeholder:"maxLength"},null,40,R_)]),b("div",z_,[b("input",{value:o.value.matchPattern||"",onInput:f[40]||(f[40]=h=>_("matchPattern",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"regex pattern"},null,40,H_),b("input",{value:o.value.matchFlags||"",onInput:f[41]||(f[41]=h=>_("matchFlags",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"flags (e.g. i)"},null,40,V_)]),b("div",null,[f[96]||(f[96]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Default",-1)),b("input",{value:o.value.defaultString||"",onInput:f[42]||(f[42]=h=>_("defaultString",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"default string"},null,40,F_)]),b("div",B_,[b("div",{class:"flex items-center justify-between"},[f[97]||(f[97]=b("label",{class:"block text-[10px] text-gray-400 uppercase"},"Enum Values",-1)),b("button",{onClick:$,class:"px-2 py-1 text-xs rounded bg-[#2d2d2d] hover:bg-[#3d3d3d] text-gray-300"},"Add")]),(F(!0),X(ce,null,Te(C(),(h,G)=>(F(),X("div",{key:`enum-${G}`,class:"flex gap-2"},[b("input",{value:h,onInput:K=>A(G,K.target.value),class:"flex-1 bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"enum value"},null,40,L_),b("button",{onClick:K=>D(G),class:"px-2 py-1 text-xs rounded bg-red-900/30 hover:bg-red-900/50 text-red-300"},"Remove",8,j_)]))),128))])])):fe("",!0),o.value.type==="Number"?(F(),X("div",U_,[f[99]||(f[99]=b("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Number Options",-1)),b("div",K_,[b("input",{value:o.value.min||"",onInput:f[43]||(f[43]=h=>_("min",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",placeholder:"min"},null,40,G_),b("input",{value:o.value.max||"",onInput:f[44]||(f[44]=h=>_("max",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",placeholder:"max"},null,40,Y_),b("input",{value:o.value.defaultNumber||"",onInput:f[45]||(f[45]=h=>_("defaultNumber",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",placeholder:"default"},null,40,W_)])])):fe("",!0),o.value.type==="Boolean"?(F(),X("div",X_,[f[101]||(f[101]=b("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Boolean Options",-1)),b("div",null,[f[100]||(f[100]=b("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Default",-1)),b("select",{value:o.value.defaultBooleanMode||"",onChange:f[46]||(f[46]=h=>_("defaultBooleanMode",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(F(),X(ce,null,Te(a,h=>b("option",{key:`bool-default-${h.value}`,value:h.value},Ce(h.label),9,Z_)),64))],40,q_)])])):fe("",!0),o.value.type==="Date"?(F(),X("div",J_,[f[103]||(f[103]=b("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Date Options",-1)),b("div",Q_,[b("select",{value:o.value.defaultDateMode||"",onChange:f[47]||(f[47]=h=>_("defaultDateMode",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[...f[102]||(f[102]=[b("option",{value:""},"Default: none",-1),b("option",{value:"now"},"Default: Date.now",-1),b("option",{value:"custom"},"Default: custom date",-1)])],40,eS),o.value.defaultDateMode==="custom"?(F(),X("input",{key:0,value:o.value.defaultDateValue||"",onInput:f[48]||(f[48]=h=>_("defaultDateValue",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"datetime-local"},null,40,tS)):fe("",!0)]),b("div",nS,[b("input",{value:o.value.minDate||"",onInput:f[49]||(f[49]=h=>_("minDate",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"datetime-local",placeholder:"min date"},null,40,oS),b("input",{value:o.value.maxDate||"",onInput:f[50]||(f[50]=h=>_("maxDate",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"datetime-local",placeholder:"max date"},null,40,sS),b("input",{value:o.value.expiresSeconds||"",onInput:f[51]||(f[51]=h=>_("expiresSeconds",h.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"0",placeholder:"expires sec"},null,40,rS)])])):fe("",!0),o.value.type==="ObjectId"?(F(),X("div",iS,[f[105]||(f[105]=b("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"ObjectId Options",-1)),b("select",{value:o.value.ref||"",onChange:f[52]||(f[52]=h=>_("ref",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-3 py-2 text-white text-sm"},[f[104]||(f[104]=b("option",{value:""},"Reference collection...",-1)),(F(!0),X(ce,null,Te(L(t).collections,h=>(F(),X("option",{key:h.id,value:h.data.label},Ce(h.data.label),9,aS))),128))],40,lS),b("input",{value:o.value.defaultObjectId||"",onInput:f[53]||(f[53]=h=>_("defaultObjectId",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"default objectId (optional)"},null,40,uS)])):fe("",!0),o.value.type==="Map"?(F(),X("div",cS,[f[107]||(f[107]=b("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Map Options",-1)),b("select",{value:o.value.mapOfType||"",onChange:f[54]||(f[54]=h=>_("mapOfType",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[f[106]||(f[106]=b("option",{value:""},"Map value type (default Mixed)",-1)),(F(),X(ce,null,Te(p,h=>b("option",{key:`map-${h}`,value:h},Ce(h),9,fS)),64))],40,dS)])):fe("",!0),o.value.type==="Array"?(F(),X("div",hS,[f[109]||(f[109]=b("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Array Options",-1)),b("select",{value:o.value.arrayOfType||"",onChange:f[55]||(f[55]=h=>_("arrayOfType",h.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[f[108]||(f[108]=b("option",{value:""},"Array item type (default Mixed)",-1)),(F(),X(ce,null,Te(p,h=>b("option",{key:`arr-${h}`,value:h},Ce(h),9,gS)),64))],40,pS)])):fe("",!0),b("div",mS,[b("button",{onClick:B,class:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-900/30 hover:bg-red-900/50 text-red-500 border border-red-900/50 rounded transition-colors text-sm"},[se(L(In),{size:16}),f[110]||(f[110]=Ye(" Delete Field ",-1))])])])):fe("",!0)]))}},yS={class:"pointer-events-none fixed inset-0 z-[120]"},bS={class:"absolute top-4 right-4 space-y-2"},xS={class:"w-full max-w-md rounded-xl border border-gray-700 bg-[#1e1e1e] text-gray-100 shadow-2xl"},wS={class:"flex items-center justify-between border-b border-gray-700 px-4 py-3"},_S={class:"font-semibold"},SS={class:"space-y-3 px-4 py-4"},CS={class:"text-sm text-gray-300"},ES=["value","placeholder"],IS={class:"flex justify-end gap-2 border-t border-gray-700 px-4 py-3"},NS=["disabled"],$S={__name:"UiLayer",setup(e){const t=es(),n=ue(()=>t.modal.kind==="prompt"&&t.modal.inputRequired&&!String(t.modal.inputValue||"").trim()),o=()=>{t.modal.kind==="alert"?t.resolveModal(!0):t.resolveModal(t.modal.kind==="prompt"?null:!1)},s=()=>{if(t.modal.kind==="prompt"){t.resolveModal(String(t.modal.inputValue||"").trim());return}t.resolveModal(!0)},r=()=>{t.resolveModal(t.modal.kind==="prompt"?null:!1)};return(i,l)=>(F(),X("div",yS,[b("div",bS,[se(qi,{name:"toast"},{default:ft(()=>[(F(!0),X(ce,null,Te(L(t).toasts,a=>(F(),X("div",{key:a.id,class:Ee(["pointer-events-auto min-w-[260px] max-w-[360px] rounded-lg border px-3 py-2 text-sm shadow-lg backdrop-blur",a.type==="error"?"bg-red-900/40 border-red-700 text-red-200":a.type==="success"?"bg-emerald-900/35 border-emerald-700 text-emerald-200":"bg-[#1e1e1e]/95 border-gray-700 text-gray-200"])},Ce(a.message),3))),128))]),_:1})]),L(t).modal.isOpen?(F(),X("div",{key:0,class:"pointer-events-auto absolute inset-0 bg-black/50 flex items-center justify-center p-4",onClick:at(o,["self"])},[b("div",xS,[b("div",wS,[b("h3",_S,Ce(L(t).modal.title),1),b("button",{class:"rounded p-1 text-gray-400 hover:bg-[#2a2a2a] hover:text-white",onClick:r},[se(L(Dc),{size:16})])]),b("div",SS,[b("p",CS,Ce(L(t).modal.message),1),L(t).modal.kind==="prompt"?(F(),X("input",{key:0,value:L(t).modal.inputValue,onInput:l[0]||(l[0]=a=>L(t).setModalInputValue(a.target.value)),placeholder:L(t).modal.inputPlaceholder,class:"w-full rounded border border-gray-600 bg-[#2a2a2a] px-3 py-2 text-sm text-white focus:border-emerald-500 focus:outline-none",type:"text",onKeydown:l[1]||(l[1]=Zi(a=>!n.value&&s(),["enter"]))},null,40,ES)):fe("",!0)]),b("div",IS,[L(t).modal.kind!=="alert"?(F(),X("button",{key:0,class:"rounded border border-gray-600 bg-[#2d2d2d] px-3 py-1.5 text-sm text-gray-200 hover:bg-[#3a3a3a]",onClick:r},Ce(L(t).modal.cancelText),1)):fe("",!0),b("button",{class:"rounded border border-emerald-700 bg-emerald-600 px-3 py-1.5 text-sm text-white hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:n.value,onClick:s},Ce(L(t).modal.confirmText),9,NS)])])])):fe("",!0)]))}},MS=ul($S,[["__scopeId","data-v-9c87af23"]]),kS={class:"flex h-screen w-screen overflow-hidden bg-[#1a1a1a] text-white font-sans antialiased"},TS={class:"flex-1 h-full w-full relative flex"},AS={class:"flex-1 relative h-full"},DS={class:"absolute top-4 right-4 bg-[#1e1e1e]/90 backdrop-blur border border-gray-700 rounded-lg shadow-2xl p-2 flex gap-2 z-10"},OS=["disabled"],PS=["disabled"],RS={class:"flex items-center gap-2 px-3 py-1.5 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-gray-300 hover:text-white rounded text-sm font-medium transition-colors border border-gray-600/50"},zS={__name:"App",setup(e){const t=xe(!1),n=xe(null),o=xe([]),s=xe(!0),r=On(),i=es(),l=ue(()=>r.selectedItemType==="collection"||r.selectedItemType==="field"),a=ue(()=>r.activeCollections.filter(I=>I.selected)),u=ue(()=>a.value.length>1),c=ue(()=>s.value?"left-[1.05rem] top-4":"left-4 top-16"),d=()=>{i.showToast("AI Assistant: Analysis complete! Consider indexing 'email' in Users.","success")},p=()=>{n.value=null,o.value=[],t.value=!0},m=I=>{o.value=[],n.value=I,t.value=!0},_=I=>{n.value=null,o.value=I,t.value=!0},C=()=>{const I=a.value.map(O=>O.id);I.length<2||_(I)},$=async()=>{const I=a.value.map(B=>B.id);I.length<2||!await i.openConfirm({title:"Delete Selected Collections",message:`Delete ${I.length} selected collections? This action cannot be undone immediately.`,confirmText:"Delete"})||(r.removeCollections(I),i.showToast(`${I.length} collections deleted.`,"success"))},A=()=>{r.undo()},D=()=>{r.redo()},w=()=>{s.value=!s.value};return lt(()=>{r.initializeDatabases(),r.clearSelections(),r.initializeHistory()}),(I,O)=>(F(),X("div",kS,[s.value?(F(),Ve(Ng,{key:0,onToggleSidebar:w,onExportCollection:m})):fe("",!0),b("main",TS,[b("div",AS,[se(Zx),s.value?fe("",!0):(F(),X("button",{key:0,onClick:w,class:"absolute top-4 left-4 z-20 flex items-center gap-2 px-3 py-1.5 bg-[#1e1e1e]/90 backdrop-blur border border-gray-700 rounded-lg text-gray-300 hover:text-white hover:bg-[#2a2a2a] transition-colors",title:"Show Sidebar"},[se(L(lg),{size:16}),O[1]||(O[1]=Ye(" Menu ",-1))])),u.value?(F(),X("div",{key:1,class:Ee([c.value,"absolute z-20 bg-[#1e1e1e]/90 backdrop-blur border border-gray-700 rounded-lg shadow-2xl p-2 flex gap-2"])},[b("button",{onClick:C,class:"flex items-center gap-2 px-3 py-1.5 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-gray-300 hover:text-white rounded text-sm font-medium transition-colors border border-gray-600/50"},[se(L(Mc),{size:16}),O[2]||(O[2]=Ye(" Export Selected ",-1))]),b("button",{onClick:$,class:"flex items-center gap-2 px-3 py-1.5 bg-red-900/25 hover:bg-red-900/40 text-red-300 hover:text-red-200 rounded text-sm font-medium transition-colors border border-red-800/60"},[se(L(In),{size:16}),O[3]||(O[3]=Ye(" Delete Selected ",-1))])],2)):fe("",!0),b("div",DS,[b("button",{onClick:A,disabled:!L(r).canUndo||!L(r).isDirty,class:"flex items-center gap-2 px-3 py-1.5 bg-[#2d2d2d] hover:bg-[#3d3d3d] disabled:hover:bg-[#2d2d2d] text-gray-300 hover:text-white disabled:text-gray-500 rounded text-sm font-medium transition-colors border border-gray-600/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Undo (Ctrl/Cmd+Z)"},[se(L(dg),{size:16}),O[4]||(O[4]=Ye(" Undo ",-1))],8,OS),b("button",{onClick:D,disabled:!L(r).canRedo||!L(r).isDirty,class:"flex items-center gap-2 px-3 py-1.5 bg-[#2d2d2d] hover:bg-[#3d3d3d] disabled:hover:bg-[#2d2d2d] text-gray-300 hover:text-white disabled:text-gray-500 rounded text-sm font-medium transition-colors border border-gray-600/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Redo (Ctrl/Cmd+Shift+Z / Ctrl+Y)"},[se(L(ag),{size:16}),O[5]||(O[5]=Ye(" Redo ",-1))],8,PS),O[9]||(O[9]=b("div",{class:"w-px bg-gray-700 mx-1"},null,-1)),b("button",{onClick:d,class:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white rounded text-sm font-medium transition-all shadow-lg shadow-purple-900/20"},[se(L(cg),{size:16}),O[6]||(O[6]=Ye(" AI Analyze ",-1))]),O[10]||(O[10]=b("div",{class:"w-px bg-gray-700 mx-1"},null,-1)),b("button",{onClick:p,class:"flex items-center gap-2 px-3 py-1.5 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-gray-300 hover:text-white rounded text-sm font-medium transition-colors border border-gray-600/50"},[se(L(Ac),{size:16}),O[7]||(O[7]=Ye(" Export ",-1))]),b("button",RS,[se(L(ug),{size:16}),O[8]||(O[8]=Ye(" Share ",-1))])])]),l.value?(F(),Ve(vS,{key:0})):fe("",!0),se(sw,{isOpen:t.value,collectionId:n.value,collectionIds:o.value,onClose:O[0]||(O[0]=B=>t.value=!1)},null,8,["isOpen","collectionId","collectionIds"]),se(MS)])]))}},Ld=bp(zS),HS=_p();Ld.use(HS);Ld.mount("#app");
