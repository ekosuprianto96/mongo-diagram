(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Hi(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Re={},Xn=[],Lt=()=>{},du=()=>!1,ir=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ji=e=>e.startsWith("onUpdate:"),Ye=Object.assign,Ui=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},lf=Object.prototype.hasOwnProperty,Oe=(e,t)=>lf.call(e,t),ge=Array.isArray,qn=e=>ss(e)==="[object Map]",fu=e=>ss(e)==="[object Set]",Cl=e=>ss(e)==="[object Date]",ye=e=>typeof e=="function",je=e=>typeof e=="string",_t=e=>typeof e=="symbol",De=e=>e!==null&&typeof e=="object",pu=e=>(De(e)||ye(e))&&ye(e.then)&&ye(e.catch),hu=Object.prototype.toString,ss=e=>hu.call(e),af=e=>ss(e).slice(8,-1),gu=e=>ss(e)==="[object Object]",lr=e=>je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$o=Hi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ar=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},uf=/-\w/g,vt=ar(e=>e.replace(uf,t=>t.slice(1).toUpperCase())),cf=/\B([A-Z])/g,vn=ar(e=>e.replace(cf,"-$1").toLowerCase()),ur=ar(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pr=ar(e=>e?`on${ur(e)}`:""),Zt=(e,t)=>!Object.is(e,t),Ts=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},mu=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Gi=e=>{const t=parseFloat(e);return isNaN(t)?e:t},df=e=>{const t=je(e)?Number(e):NaN;return isNaN(t)?e:t};let El;const cr=()=>El||(El=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xe(e){if(ge(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],s=je(o)?gf(o):Xe(o);if(s)for(const r in s)t[r]=s[r]}return t}else if(je(e)||De(e))return e}const ff=/;(?![^(]*\))/g,pf=/:([^]+)/,hf=/\/\*[^]*?\*\//g;function gf(e){const t={};return e.replace(hf,"").split(ff).forEach(n=>{if(n){const o=n.split(pf);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function pe(e){let t="";if(je(e))t=e;else if(ge(e))for(let n=0;n<e.length;n++){const o=pe(e[n]);o&&(t+=o+" ")}else if(De(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const mf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vf=Hi(mf);function vu(e){return!!e||e===""}function yf(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=jo(e[o],t[o]);return n}function jo(e,t){if(e===t)return!0;let n=Cl(e),o=Cl(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=_t(e),o=_t(t),n||o)return e===t;if(n=ge(e),o=ge(t),n||o)return n&&o?yf(e,t):!1;if(n=De(e),o=De(t),n||o){if(!n||!o)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const i in e){const l=e.hasOwnProperty(i),a=t.hasOwnProperty(i);if(l&&!a||!l&&a||!jo(e[i],t[i]))return!1}}return String(e)===String(t)}const yu=e=>!!(e&&e.__v_isRef===!0),he=e=>je(e)?e:e==null?"":ge(e)||De(e)&&(e.toString===hu||!ye(e.toString))?yu(e)?he(e.value):JSON.stringify(e,bu,2):String(e),bu=(e,t)=>yu(t)?bu(e,t.value):qn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,s],r)=>(n[Rr(o,r)+" =>"]=s,n),{})}:fu(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Rr(n))}:_t(t)?Rr(t):De(t)&&!ge(t)&&!gu(t)?String(t):t,Rr=(e,t="")=>{var n;return _t(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let tt;class xu{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=tt,!t&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=tt;try{return tt=this,t()}finally{tt=n}}}on(){++this._on===1&&(this.prevScope=tt,tt=this)}off(){this._on>0&&--this._on===0&&(tt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function dr(e){return new xu(e)}function fr(){return tt}function ko(e,t=!1){tt&&tt.cleanups.push(e)}let Be;const Lr=new WeakSet;class wu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tt&&tt.active&&tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Lr.has(this)&&(Lr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Su(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Il(this),Cu(this);const t=Be,n=xt;Be=this,xt=!0;try{return this.fn()}finally{Eu(this),Be=t,xt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Wi(t);this.deps=this.depsTail=void 0,Il(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Lr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ci(this)&&this.run()}get dirty(){return ci(this)}}let _u=0,Ao,Do;function Su(e,t=!1){if(e.flags|=8,t){e.next=Do,Do=e;return}e.next=Ao,Ao=e}function Yi(){_u++}function Ki(){if(--_u>0)return;if(Do){let t=Do;for(Do=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ao;){let t=Ao;for(Ao=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Cu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Eu(e){let t,n=e.depsTail,o=n;for(;o;){const s=o.prevDep;o.version===-1?(o===n&&(n=s),Wi(o),bf(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=s}e.deps=t,e.depsTail=n}function ci(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Iu(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Iu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Uo)||(e.globalVersion=Uo,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ci(e))))return;e.flags|=2;const t=e.dep,n=Be,o=xt;Be=e,xt=!0;try{Cu(e);const s=e.fn(e._value);(t.version===0||Zt(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Be=n,xt=o,Eu(e),e.flags&=-3}}function Wi(e,t=!1){const{dep:n,prevSub:o,nextSub:s}=e;if(o&&(o.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Wi(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function bf(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let xt=!0;const Nu=[];function Qt(){Nu.push(xt),xt=!1}function en(){const e=Nu.pop();xt=e===void 0?!0:e}function Il(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Be;Be=void 0;try{t()}finally{Be=n}}}let Uo=0;class xf{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class pr{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Be||!xt||Be===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Be)n=this.activeLink=new xf(Be,this),Be.deps?(n.prevDep=Be.depsTail,Be.depsTail.nextDep=n,Be.depsTail=n):Be.deps=Be.depsTail=n,Tu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Be.depsTail,n.nextDep=void 0,Be.depsTail.nextDep=n,Be.depsTail=n,Be.deps===n&&(Be.deps=o)}return n}trigger(t){this.version++,Uo++,this.notify(t)}notify(t){Yi();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ki()}}}function Tu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Tu(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Bs=new WeakMap,Tn=Symbol(""),di=Symbol(""),Go=Symbol("");function nt(e,t,n){if(xt&&Be){let o=Bs.get(e);o||Bs.set(e,o=new Map);let s=o.get(n);s||(o.set(n,s=new pr),s.map=o,s.key=n),s.track()}}function Gt(e,t,n,o,s,r){const i=Bs.get(e);if(!i){Uo++;return}const l=a=>{a&&a.trigger()};if(Yi(),t==="clear")i.forEach(l);else{const a=ge(e),u=a&&lr(n);if(a&&n==="length"){const c=Number(o);i.forEach((f,g)=>{(g==="length"||g===Go||!_t(g)&&g>=c)&&l(f)})}else switch((n!==void 0||i.has(void 0))&&l(i.get(n)),u&&l(i.get(Go)),t){case"add":a?u&&l(i.get("length")):(l(i.get(Tn)),qn(e)&&l(i.get(di)));break;case"delete":a||(l(i.get(Tn)),qn(e)&&l(i.get(di)));break;case"set":qn(e)&&l(i.get(Tn));break}}Ki()}function wf(e,t){const n=Bs.get(e);return n&&n.get(t)}function Fn(e){const t=Te(e);return t===e?t:(nt(t,"iterate",Go),ht(e)?t:t.map(St))}function hr(e){return nt(e=Te(e),"iterate",Go),e}function dn(e,t){return tn(e)?so(Jt(e)?St(t):t):St(t)}const _f={__proto__:null,[Symbol.iterator](){return Br(this,Symbol.iterator,e=>dn(this,e))},concat(...e){return Fn(this).concat(...e.map(t=>ge(t)?Fn(t):t))},entries(){return Br(this,"entries",e=>(e[1]=dn(this,e[1]),e))},every(e,t){return zt(this,"every",e,t,void 0,arguments)},filter(e,t){return zt(this,"filter",e,t,n=>n.map(o=>dn(this,o)),arguments)},find(e,t){return zt(this,"find",e,t,n=>dn(this,n),arguments)},findIndex(e,t){return zt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return zt(this,"findLast",e,t,n=>dn(this,n),arguments)},findLastIndex(e,t){return zt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return zt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Fr(this,"includes",e)},indexOf(...e){return Fr(this,"indexOf",e)},join(e){return Fn(this).join(e)},lastIndexOf(...e){return Fr(this,"lastIndexOf",e)},map(e,t){return zt(this,"map",e,t,void 0,arguments)},pop(){return mo(this,"pop")},push(...e){return mo(this,"push",e)},reduce(e,...t){return Nl(this,"reduce",e,t)},reduceRight(e,...t){return Nl(this,"reduceRight",e,t)},shift(){return mo(this,"shift")},some(e,t){return zt(this,"some",e,t,void 0,arguments)},splice(...e){return mo(this,"splice",e)},toReversed(){return Fn(this).toReversed()},toSorted(e){return Fn(this).toSorted(e)},toSpliced(...e){return Fn(this).toSpliced(...e)},unshift(...e){return mo(this,"unshift",e)},values(){return Br(this,"values",e=>dn(this,e))}};function Br(e,t,n){const o=hr(e),s=o[t]();return o!==e&&!ht(e)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.done||(r.value=n(r.value)),r}),s}const Sf=Array.prototype;function zt(e,t,n,o,s,r){const i=hr(e),l=i!==e&&!ht(e),a=i[t];if(a!==Sf[t]){const f=a.apply(e,r);return l?St(f):f}let u=n;i!==e&&(l?u=function(f,g){return n.call(this,dn(e,f),g,e)}:n.length>2&&(u=function(f,g){return n.call(this,f,g,e)}));const c=a.call(i,u,o);return l&&s?s(c):c}function Nl(e,t,n,o){const s=hr(e);let r=n;return s!==e&&(ht(e)?n.length>3&&(r=function(i,l,a){return n.call(this,i,l,a,e)}):r=function(i,l,a){return n.call(this,i,dn(e,l),a,e)}),s[t](r,...o)}function Fr(e,t,n){const o=Te(e);nt(o,"iterate",Go);const s=o[t](...n);return(s===-1||s===!1)&&gr(n[0])?(n[0]=Te(n[0]),o[t](...n)):s}function mo(e,t,n=[]){Qt(),Yi();const o=Te(e)[t].apply(e,n);return Ki(),en(),o}const Cf=Hi("__proto__,__v_isRef,__isVue"),Mu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(_t));function Ef(e){_t(e)||(e=String(e));const t=Te(this);return nt(t,"has",e),t.hasOwnProperty(e)}class $u{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return o===(s?r?Pf:Ou:r?Du:Au).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const i=ge(t);if(!s){let a;if(i&&(a=_f[n]))return a;if(n==="hasOwnProperty")return Ef}const l=Reflect.get(t,n,Fe(t)?t:o);if((_t(n)?Mu.has(n):Cf(n))||(s||nt(t,"get",n),r))return l;if(Fe(l)){const a=i&&lr(n)?l:l.value;return s&&De(a)?oo(a):a}return De(l)?s?oo(l):rs(l):l}}class ku extends $u{constructor(t=!1){super(!1,t)}set(t,n,o,s){let r=t[n];const i=ge(t)&&lr(n);if(!this._isShallow){const u=tn(r);if(!ht(o)&&!tn(o)&&(r=Te(r),o=Te(o)),!i&&Fe(r)&&!Fe(o))return u||(r.value=o),!0}const l=i?Number(n)<t.length:Oe(t,n),a=Reflect.set(t,n,o,Fe(t)?t:s);return t===Te(s)&&(l?Zt(o,r)&&Gt(t,"set",n,o):Gt(t,"add",n,o)),a}deleteProperty(t,n){const o=Oe(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&o&&Gt(t,"delete",n,void 0),s}has(t,n){const o=Reflect.has(t,n);return(!_t(n)||!Mu.has(n))&&nt(t,"has",n),o}ownKeys(t){return nt(t,"iterate",ge(t)?"length":Tn),Reflect.ownKeys(t)}}class If extends $u{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Nf=new ku,Tf=new If,Mf=new ku(!0);const fi=e=>e,ds=e=>Reflect.getPrototypeOf(e);function $f(e,t,n){return function(...o){const s=this.__v_raw,r=Te(s),i=qn(r),l=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,u=s[e](...o),c=n?fi:t?so:St;return!t&&nt(r,"iterate",a?di:Tn),Ye(Object.create(u),{next(){const{value:f,done:g}=u.next();return g?{value:f,done:g}:{value:l?[c(f[0]),c(f[1])]:c(f),done:g}}})}}function fs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function kf(e,t){const n={get(s){const r=this.__v_raw,i=Te(r),l=Te(s);e||(Zt(s,l)&&nt(i,"get",s),nt(i,"get",l));const{has:a}=ds(i),u=t?fi:e?so:St;if(a.call(i,s))return u(r.get(s));if(a.call(i,l))return u(r.get(l));r!==i&&r.get(s)},get size(){const s=this.__v_raw;return!e&&nt(Te(s),"iterate",Tn),s.size},has(s){const r=this.__v_raw,i=Te(r),l=Te(s);return e||(Zt(s,l)&&nt(i,"has",s),nt(i,"has",l)),s===l?r.has(s):r.has(s)||r.has(l)},forEach(s,r){const i=this,l=i.__v_raw,a=Te(l),u=t?fi:e?so:St;return!e&&nt(a,"iterate",Tn),l.forEach((c,f)=>s.call(r,u(c),u(f),i))}};return Ye(n,e?{add:fs("add"),set:fs("set"),delete:fs("delete"),clear:fs("clear")}:{add(s){!t&&!ht(s)&&!tn(s)&&(s=Te(s));const r=Te(this);return ds(r).has.call(r,s)||(r.add(s),Gt(r,"add",s,s)),this},set(s,r){!t&&!ht(r)&&!tn(r)&&(r=Te(r));const i=Te(this),{has:l,get:a}=ds(i);let u=l.call(i,s);u||(s=Te(s),u=l.call(i,s));const c=a.call(i,s);return i.set(s,r),u?Zt(r,c)&&Gt(i,"set",s,r):Gt(i,"add",s,r),this},delete(s){const r=Te(this),{has:i,get:l}=ds(r);let a=i.call(r,s);a||(s=Te(s),a=i.call(r,s)),l&&l.call(r,s);const u=r.delete(s);return a&&Gt(r,"delete",s,void 0),u},clear(){const s=Te(this),r=s.size!==0,i=s.clear();return r&&Gt(s,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=$f(s,e,t)}),n}function Xi(e,t){const n=kf(e,t);return(o,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(Oe(n,s)&&s in o?n:o,s,r)}const Af={get:Xi(!1,!1)},Df={get:Xi(!1,!0)},Of={get:Xi(!0,!1)};const Au=new WeakMap,Du=new WeakMap,Ou=new WeakMap,Pf=new WeakMap;function Rf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Lf(e){return e.__v_skip||!Object.isExtensible(e)?0:Rf(af(e))}function rs(e){return tn(e)?e:qi(e,!1,Nf,Af,Au)}function Bf(e){return qi(e,!1,Mf,Df,Du)}function oo(e){return qi(e,!0,Tf,Of,Ou)}function qi(e,t,n,o,s){if(!De(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Lf(e);if(r===0)return e;const i=s.get(e);if(i)return i;const l=new Proxy(e,r===2?o:n);return s.set(e,l),l}function Jt(e){return tn(e)?Jt(e.__v_raw):!!(e&&e.__v_isReactive)}function tn(e){return!!(e&&e.__v_isReadonly)}function ht(e){return!!(e&&e.__v_isShallow)}function gr(e){return e?!!e.__v_raw:!1}function Te(e){const t=e&&e.__v_raw;return t?Te(t):e}function hn(e){return!Oe(e,"__v_skip")&&Object.isExtensible(e)&&mu(e,"__v_skip",!0),e}const St=e=>De(e)?rs(e):e,so=e=>De(e)?oo(e):e;function Fe(e){return e?e.__v_isRef===!0:!1}function we(e){return Pu(e,!1)}function Wt(e){return Pu(e,!0)}function Pu(e,t){return Fe(e)?e:new Ff(e,t)}class Ff{constructor(t,n){this.dep=new pr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Te(t),this._value=n?t:St(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||ht(t)||tn(t);t=o?t:Te(t),Zt(t,n)&&(this._rawValue=t,this._value=o?t:St(t),this.dep.trigger())}}function V(e){return Fe(e)?e.value:e}function xe(e){return ye(e)?e():V(e)}const Vf={get:(e,t,n)=>t==="__v_raw"?e:V(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const s=e[t];return Fe(s)&&!Fe(n)?(s.value=n,!0):Reflect.set(e,t,n,o)}};function Ru(e){return Jt(e)?e:new Proxy(e,Vf)}class zf{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new pr,{get:o,set:s}=t(n.track.bind(n),n.trigger.bind(n));this._get=o,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Lu(e){return new zf(e)}function Bu(e){const t=ge(e)?new Array(e.length):{};for(const n in e)t[n]=Fu(e,n);return t}class Hf{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0,this._raw=Te(t);let s=!0,r=t;if(!ge(t)||!lr(String(n)))do s=!gr(r)||ht(r);while(s&&(r=r.__v_raw));this._shallow=s}get value(){let t=this._object[this._key];return this._shallow&&(t=V(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Fe(this._raw[this._key])){const n=this._object[this._key];if(Fe(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return wf(this._raw,this._key)}}class jf{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Pe(e,t,n){return Fe(e)?e:ye(e)?new jf(e):De(e)&&arguments.length>1?Fu(e,t,n):we(e)}function Fu(e,t,n){return new Hf(e,t,n)}class Uf{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new pr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Uo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Be!==this)return Su(this,!0),!0}get value(){const t=this.dep.track();return Iu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Gf(e,t,n=!1){let o,s;return ye(e)?o=e:(o=e.get,s=e.set),new Uf(o,s,n)}const ps={},Fs=new WeakMap;let Cn;function Yf(e,t=!1,n=Cn){if(n){let o=Fs.get(n);o||Fs.set(n,o=[]),o.push(e)}}function Kf(e,t,n=Re){const{immediate:o,deep:s,once:r,scheduler:i,augmentJob:l,call:a}=n,u=w=>s?w:ht(w)||s===!1||s===0?Yt(w,1):Yt(w);let c,f,g,b,I=!1,S=!1;if(Fe(e)?(f=()=>e.value,I=ht(e)):Jt(e)?(f=()=>u(e),I=!0):ge(e)?(S=!0,I=e.some(w=>Jt(w)||ht(w)),f=()=>e.map(w=>{if(Fe(w))return w.value;if(Jt(w))return u(w);if(ye(w))return a?a(w,2):w()})):ye(e)?t?f=a?()=>a(e,2):e:f=()=>{if(g){Qt();try{g()}finally{en()}}const w=Cn;Cn=c;try{return a?a(e,3,[b]):e(b)}finally{Cn=w}}:f=Lt,t&&s){const w=f,O=s===!0?1/0:s;f=()=>Yt(w(),O)}const k=fr(),D=()=>{c.stop(),k&&k.active&&Ui(k.effects,c)};if(r&&t){const w=t;t=(...O)=>{w(...O),D()}}let N=S?new Array(e.length).fill(ps):ps;const m=w=>{if(!(!(c.flags&1)||!c.dirty&&!w))if(t){const O=c.run();if(s||I||(S?O.some((R,W)=>Zt(R,N[W])):Zt(O,N))){g&&g();const R=Cn;Cn=c;try{const W=[O,N===ps?void 0:S&&N[0]===ps?[]:N,b];N=O,a?a(t,3,W):t(...W)}finally{Cn=R}}}else c.run()};return l&&l(m),c=new wu(f),c.scheduler=i?()=>i(m,!1):m,b=w=>Yf(w,!1,c),g=c.onStop=()=>{const w=Fs.get(c);if(w){if(a)a(w,4);else for(const O of w)O();Fs.delete(c)}},t?o?m(!0):N=c.run():i?i(m.bind(null,!0),!0):c.run(),D.pause=c.pause.bind(c),D.resume=c.resume.bind(c),D.stop=D,D}function Yt(e,t=1/0,n){if(t<=0||!De(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Fe(e))Yt(e.value,t,n);else if(ge(e))for(let o=0;o<e.length;o++)Yt(e[o],t,n);else if(fu(e)||qn(e))e.forEach(o=>{Yt(o,t,n)});else if(gu(e)){for(const o in e)Yt(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Yt(e[o],t,n)}return e}function is(e,t,n,o){try{return o?e(...o):e()}catch(s){mr(s,t,n)}}function Ct(e,t,n,o){if(ye(e)){const s=is(e,t,n,o);return s&&pu(s)&&s.catch(r=>{mr(r,t,n)}),s}if(ge(e)){const s=[];for(let r=0;r<e.length;r++)s.push(Ct(e[r],t,n,o));return s}}function mr(e,t,n,o=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Re;if(t){let l=t.parent;const a=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const c=l.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,a,u)===!1)return}l=l.parent}if(r){Qt(),is(r,null,10,[e,a,u]),en();return}}Wf(e,n,s,o,i)}function Wf(e,t,n,o=!0,s=!1){if(s)throw e;console.error(e)}const it=[];let At=-1;const Zn=[];let fn=null,Un=0;const Vu=Promise.resolve();let Vs=null;function dt(e){const t=Vs||Vu;return e?t.then(this?e.bind(this):e):t}function Xf(e){let t=At+1,n=it.length;for(;t<n;){const o=t+n>>>1,s=it[o],r=Yo(s);r<e||r===e&&s.flags&2?t=o+1:n=o}return t}function Zi(e){if(!(e.flags&1)){const t=Yo(e),n=it[it.length-1];!n||!(e.flags&2)&&t>=Yo(n)?it.push(e):it.splice(Xf(t),0,e),e.flags|=1,zu()}}function zu(){Vs||(Vs=Vu.then(ju))}function qf(e){ge(e)?Zn.push(...e):fn&&e.id===-1?fn.splice(Un+1,0,e):e.flags&1||(Zn.push(e),e.flags|=1),zu()}function Tl(e,t,n=At+1){for(;n<it.length;n++){const o=it[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;it.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Hu(e){if(Zn.length){const t=[...new Set(Zn)].sort((n,o)=>Yo(n)-Yo(o));if(Zn.length=0,fn){fn.push(...t);return}for(fn=t,Un=0;Un<fn.length;Un++){const n=fn[Un];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}fn=null,Un=0}}const Yo=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ju(e){try{for(At=0;At<it.length;At++){const t=it[At];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),is(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;At<it.length;At++){const t=it[At];t&&(t.flags&=-2)}At=-1,it.length=0,Hu(),Vs=null,(it.length||Zn.length)&&ju()}}let qe=null,Uu=null;function zs(e){const t=qe;return qe=e,Uu=e&&e.type.__scopeId||null,t}function pt(e,t=qe,n){if(!t||e._n)return e;const o=(...s)=>{o._d&&Us(-1);const r=zs(t);let i;try{i=e(...s)}finally{zs(r),o._d&&Us(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function ro(e,t){if(qe===null)return e;const n=wr(qe),o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,i,l,a=Re]=t[s];r&&(ye(r)&&(r={mounted:r,updated:r}),r.deep&&Yt(i),o.push({dir:r,instance:n,value:i,oldValue:void 0,arg:l,modifiers:a}))}return e}function wn(e,t,n,o){const s=e.dirs,r=t&&t.dirs;for(let i=0;i<s.length;i++){const l=s[i];r&&(l.oldValue=r[i].value);let a=l.dir[o];a&&(Qt(),Ct(a,n,8,[e.el,l,e,t]),en())}}function Dn(e,t){if(ot){let n=ot.provides;const o=ot.parent&&ot.parent.provides;o===n&&(n=ot.provides=Object.create(o)),n[e]=t}}function wt(e,t,n=!1){const o=Et();if(o||Mn){let s=Mn?Mn._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ye(t)?t.call(o&&o.proxy):t}}function Zf(){return!!(Et()||Mn)}const Jf=Symbol.for("v-scx"),Qf=()=>wt(Jf);function _e(e,t,n){return Gu(e,t,n)}function Gu(e,t,n=Re){const{immediate:o,deep:s,flush:r,once:i}=n,l=Ye({},n),a=t&&o||!t&&r!=="post";let u;if(Xo){if(r==="sync"){const b=Qf();u=b.__watcherHandles||(b.__watcherHandles=[])}else if(!a){const b=()=>{};return b.stop=Lt,b.resume=Lt,b.pause=Lt,b}}const c=ot;l.call=(b,I,S)=>Ct(b,c,I,S);let f=!1;r==="post"?l.scheduler=b=>{et(b,c&&c.suspense)}:r!=="sync"&&(f=!0,l.scheduler=(b,I)=>{I?b():Zi(b)}),l.augmentJob=b=>{t&&(b.flags|=4),f&&(b.flags|=2,c&&(b.id=c.uid,b.i=c))};const g=Kf(e,t,l);return Xo&&(u?u.push(g):a&&g()),g}function ep(e,t,n){const o=this.proxy,s=je(e)?e.includes(".")?Yu(o,e):()=>o[e]:e.bind(o,o);let r;ye(t)?r=t:(r=t.handler,n=t);const i=ls(this),l=Gu(s,r.bind(o),n);return i(),l}function Yu(e,t){const n=t.split(".");return()=>{let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}const Ku=Symbol("_vte"),tp=e=>e.__isTeleport,Oo=e=>e&&(e.disabled||e.disabled===""),Ml=e=>e&&(e.defer||e.defer===""),$l=e=>typeof SVGElement<"u"&&e instanceof SVGElement,kl=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,pi=(e,t)=>{const n=e&&e.to;return je(n)?t?t(n):null:n},Wu={name:"Teleport",__isTeleport:!0,process(e,t,n,o,s,r,i,l,a,u){const{mc:c,pc:f,pbc:g,o:{insert:b,querySelector:I,createText:S,createComment:k}}=u,D=Oo(t.props);let{shapeFlag:N,children:m,dynamicChildren:w}=t;if(e==null){const O=t.el=S(""),R=t.anchor=S("");b(O,n,o),b(R,n,o);const W=(L,Y)=>{N&16&&c(m,L,Y,s,r,i,l,a)},H=()=>{const L=t.target=pi(t.props,I),Y=hi(L,t,S,b);L&&(i!=="svg"&&$l(L)?i="svg":i!=="mathml"&&kl(L)&&(i="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(L),D||(W(L,Y),Ms(t,!1)))};D&&(W(n,R),Ms(t,!0)),Ml(t.props)?(t.el.__isMounted=!1,et(()=>{H(),delete t.el.__isMounted},r)):H()}else{if(Ml(t.props)&&e.el.__isMounted===!1){et(()=>{Wu.process(e,t,n,o,s,r,i,l,a,u)},r);return}t.el=e.el,t.targetStart=e.targetStart;const O=t.anchor=e.anchor,R=t.target=e.target,W=t.targetAnchor=e.targetAnchor,H=Oo(e.props),L=H?n:R,Y=H?O:W;if(i==="svg"||$l(R)?i="svg":(i==="mathml"||kl(R))&&(i="mathml"),w?(g(e.dynamicChildren,w,L,s,r,i,l),tl(e,t,!0)):a||f(e,t,L,Y,s,r,i,l,!1),D)H?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):hs(t,n,O,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const G=t.target=pi(t.props,I);G&&hs(t,G,null,u,0)}else H&&hs(t,R,W,u,1);Ms(t,D)}},remove(e,t,n,{um:o,o:{remove:s}},r){const{shapeFlag:i,children:l,anchor:a,targetStart:u,targetAnchor:c,target:f,props:g}=e;if(f&&(s(u),s(c)),r&&s(a),i&16){const b=r||!Oo(g);for(let I=0;I<l.length;I++){const S=l[I];o(S,t,n,b,!!S.dynamicChildren)}}},move:hs,hydrate:np};function hs(e,t,n,{o:{insert:o},m:s},r=2){r===0&&o(e.targetAnchor,t,n);const{el:i,anchor:l,shapeFlag:a,children:u,props:c}=e,f=r===2;if(f&&o(i,t,n),(!f||Oo(c))&&a&16)for(let g=0;g<u.length;g++)s(u[g],t,n,2);f&&o(l,t,n)}function np(e,t,n,o,s,r,{o:{nextSibling:i,parentNode:l,querySelector:a,insert:u,createText:c}},f){function g(k,D){let N=D;for(;N;){if(N&&N.nodeType===8){if(N.data==="teleport start anchor")t.targetStart=N;else if(N.data==="teleport anchor"){t.targetAnchor=N,k._lpa=t.targetAnchor&&i(t.targetAnchor);break}}N=i(N)}}function b(k,D){D.anchor=f(i(k),D,l(k),n,o,s,r)}const I=t.target=pi(t.props,a),S=Oo(t.props);if(I){const k=I._lpa||I.firstChild;t.shapeFlag&16&&(S?(b(e,t),g(I,k),t.targetAnchor||hi(I,t,c,u,l(e)===I?e:null)):(t.anchor=i(e),g(I,k),t.targetAnchor||hi(I,t,c,u),f(k&&i(k),t,I,n,o,s,r))),Ms(t,S)}else S&&t.shapeFlag&16&&(b(e,t),t.targetStart=e,t.targetAnchor=i(e));return t.anchor&&i(t.anchor)}const op=Wu;function Ms(e,t){const n=e.ctx;if(n&&n.ut){let o,s;for(t?(o=e.el,s=e.anchor):(o=e.targetStart,s=e.targetAnchor);o&&o!==s;)o.nodeType===1&&o.setAttribute("data-v-owner",n.uid),o=o.nextSibling;n.ut()}}function hi(e,t,n,o,s=null){const r=t.targetStart=n(""),i=t.targetAnchor=n("");return r[Ku]=i,e&&(o(r,e,s),o(i,e,s)),i}const ln=Symbol("_leaveCb"),vo=Symbol("_enterCb");function sp(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return at(()=>{e.isMounted=!0}),yr(()=>{e.isUnmounting=!0}),e}const mt=[Function,Array],rp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mt,onEnter:mt,onAfterEnter:mt,onEnterCancelled:mt,onBeforeLeave:mt,onLeave:mt,onAfterLeave:mt,onLeaveCancelled:mt,onBeforeAppear:mt,onAppear:mt,onAfterAppear:mt,onAppearCancelled:mt};function ip(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function gi(e,t,n,o,s){const{appear:r,mode:i,persisted:l=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:g,onLeave:b,onAfterLeave:I,onLeaveCancelled:S,onBeforeAppear:k,onAppear:D,onAfterAppear:N,onAppearCancelled:m}=t,w=String(e.key),O=ip(n,e),R=(L,Y)=>{L&&Ct(L,o,9,Y)},W=(L,Y)=>{const G=Y[1];R(L,Y),ge(L)?L.every(T=>T.length<=1)&&G():L.length<=1&&G()},H={mode:i,persisted:l,beforeEnter(L){let Y=a;if(!n.isMounted)if(r)Y=k||a;else return;L[ln]&&L[ln](!0);const G=O[w];G&&Yn(e,G)&&G.el[ln]&&G.el[ln](),R(Y,[L])},enter(L){let Y=u,G=c,T=f;if(!n.isMounted)if(r)Y=D||u,G=N||c,T=m||f;else return;let q=!1;L[vo]=A=>{q||(q=!0,A?R(T,[L]):R(G,[L]),H.delayedLeave&&H.delayedLeave(),L[vo]=void 0)};const x=L[vo].bind(null,!1);Y?W(Y,[L,x]):x()},leave(L,Y){const G=String(e.key);if(L[vo]&&L[vo](!0),n.isUnmounting)return Y();R(g,[L]);let T=!1;L[ln]=x=>{T||(T=!0,Y(),x?R(S,[L]):R(I,[L]),L[ln]=void 0,O[G]===e&&delete O[G])};const q=L[ln].bind(null,!1);O[G]=e,b?W(b,[L,q]):q()},clone(L){return gi(L,t,n,o)}};return H}function Ko(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ko(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Xu(e,t=!1,n){let o=[],s=0;for(let r=0;r<e.length;r++){let i=e[r];const l=n==null?i.key:String(n)+String(i.key!=null?i.key:r);i.type===ce?(i.patchFlag&128&&s++,o=o.concat(Xu(i.children,t,l))):(t||i.type!==Ft)&&o.push(l!=null?On(i,{key:l}):i)}if(s>1)for(let r=0;r<o.length;r++)o[r].patchFlag=-2;return o}function ze(e,t){return ye(e)?Ye({name:e.name},t,{setup:e}):e}function qu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Al(e,t){let n;return!!((n=Object.getOwnPropertyDescriptor(e,t))&&!n.configurable)}const Hs=new WeakMap;function Po(e,t,n,o,s=!1){if(ge(e)){e.forEach((S,k)=>Po(S,t&&(ge(t)?t[k]:t),n,o,s));return}if(Jn(o)&&!s){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Po(e,t,n,o.component.subTree);return}const r=o.shapeFlag&4?wr(o.component):o.el,i=s?null:r,{i:l,r:a}=e,u=t&&t.r,c=l.refs===Re?l.refs={}:l.refs,f=l.setupState,g=Te(f),b=f===Re?du:S=>Al(c,S)?!1:Oe(g,S),I=(S,k)=>!(k&&Al(c,k));if(u!=null&&u!==a){if(Dl(t),je(u))c[u]=null,b(u)&&(f[u]=null);else if(Fe(u)){const S=t;I(u,S.k)&&(u.value=null),S.k&&(c[S.k]=null)}}if(ye(a))is(a,l,12,[i,c]);else{const S=je(a),k=Fe(a);if(S||k){const D=()=>{if(e.f){const N=S?b(a)?f[a]:c[a]:I()||!e.k?a.value:c[e.k];if(s)ge(N)&&Ui(N,r);else if(ge(N))N.includes(r)||N.push(r);else if(S)c[a]=[r],b(a)&&(f[a]=c[a]);else{const m=[r];I(a,e.k)&&(a.value=m),e.k&&(c[e.k]=m)}}else S?(c[a]=i,b(a)&&(f[a]=i)):k&&(I(a,e.k)&&(a.value=i),e.k&&(c[e.k]=i))};if(i){const N=()=>{D(),Hs.delete(e)};N.id=-1,Hs.set(e,N),et(N,n)}else Dl(e),D()}}}function Dl(e){const t=Hs.get(e);t&&(t.flags|=8,Hs.delete(e))}cr().requestIdleCallback;cr().cancelIdleCallback;const Jn=e=>!!e.type.__asyncLoader,Zu=e=>e.type.__isKeepAlive;function lp(e,t){Ju(e,"a",t)}function ap(e,t){Ju(e,"da",t)}function Ju(e,t,n=ot){const o=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(vr(t,o,n),n){let s=n.parent;for(;s&&s.parent;)Zu(s.parent.vnode)&&up(o,t,n,s),s=s.parent}}function up(e,t,n,o){const s=vr(t,e,o,!0);yn(()=>{Ui(o[t],s)},n)}function vr(e,t,n=ot,o=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{Qt();const l=ls(n),a=Ct(t,n,e,i);return l(),en(),a});return o?s.unshift(r):s.push(r),r}}const on=e=>(t,n=ot)=>{(!Xo||e==="sp")&&vr(e,(...o)=>t(...o),n)},Qu=on("bm"),at=on("m"),cp=on("bu"),ec=on("u"),yr=on("bum"),yn=on("um"),dp=on("sp"),fp=on("rtg"),pp=on("rtc");function hp(e,t=ot){vr("ec",e,t)}const tc="components";function Ji(e,t){return oc(tc,e,!0,t)||e}const nc=Symbol.for("v-ndc");function Gn(e){return je(e)?oc(tc,e,!1)||e:e||nc}function oc(e,t,n=!0,o=!1){const s=qe||ot;if(s){const r=s.type;{const l=Qp(r,!1);if(l&&(l===t||l===vt(t)||l===ur(vt(t))))return r}const i=Ol(s[e]||r[e],t)||Ol(s.appContext[e],t);return!i&&o?r:i}}function Ol(e,t){return e&&(e[t]||e[vt(t)]||e[ur(vt(t))])}function Ie(e,t,n,o){let s;const r=n&&n[o],i=ge(e);if(i||je(e)){const l=i&&Jt(e);let a=!1,u=!1;l&&(a=!ht(e),u=tn(e),e=hr(e)),s=new Array(e.length);for(let c=0,f=e.length;c<f;c++)s[c]=t(a?u?so(St(e[c])):St(e[c]):e[c],c,void 0,r&&r[c])}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,r&&r[l])}else if(De(e))if(e[Symbol.iterator])s=Array.from(e,(l,a)=>t(l,a,void 0,r&&r[a]));else{const l=Object.keys(e);s=new Array(l.length);for(let a=0,u=l.length;a<u;a++){const c=l[a];s[a]=t(e[c],c,a,r&&r[a])}}else s=[];return n&&(n[o]=s),s}function He(e,t,n={},o,s){if(qe.ce||qe.parent&&Jn(qe.parent)&&qe.parent.ce){const u=Object.keys(n).length>0;return t!=="default"&&(n.name=t),P(),Ve(ce,null,[se("slot",n,o&&o())],u?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),P();const i=r&&sc(r(n)),l=n.key||i&&i.key,a=Ve(ce,{key:(l&&!_t(l)?l:`_${t}`)+(!i&&o?"_fb":"")},i||(o?o():[]),i&&e._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function sc(e){return e.some(t=>Wo(t)?!(t.type===Ft||t.type===ce&&!sc(t.children)):!0)?e:null}const mi=e=>e?Cc(e)?wr(e):mi(e.parent):null,Ro=Ye(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>mi(e.parent),$root:e=>mi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>lc(e),$forceUpdate:e=>e.f||(e.f=()=>{Zi(e.update)}),$nextTick:e=>e.n||(e.n=dt.bind(e.proxy)),$watch:e=>ep.bind(e)}),Vr=(e,t)=>e!==Re&&!e.__isScriptSetup&&Oe(e,t),gp={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:s,props:r,accessCache:i,type:l,appContext:a}=e;if(t[0]!=="$"){const g=i[t];if(g!==void 0)switch(g){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(Vr(o,t))return i[t]=1,o[t];if(s!==Re&&Oe(s,t))return i[t]=2,s[t];if(Oe(r,t))return i[t]=3,r[t];if(n!==Re&&Oe(n,t))return i[t]=4,n[t];vi&&(i[t]=0)}}const u=Ro[t];let c,f;if(u)return t==="$attrs"&&nt(e.attrs,"get",""),u(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(n!==Re&&Oe(n,t))return i[t]=4,n[t];if(f=a.config.globalProperties,Oe(f,t))return f[t]},set({_:e},t,n){const{data:o,setupState:s,ctx:r}=e;return Vr(s,t)?(s[t]=n,!0):o!==Re&&Oe(o,t)?(o[t]=n,!0):Oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:s,props:r,type:i}},l){let a;return!!(n[l]||e!==Re&&l[0]!=="$"&&Oe(e,l)||Vr(t,l)||Oe(r,l)||Oe(o,l)||Oe(Ro,l)||Oe(s.config.globalProperties,l)||(a=i.__cssModules)&&a[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Oe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function mp(){return rc().slots}function vp(){return rc().attrs}function rc(e){const t=Et();return t.setupContext||(t.setupContext=Ic(t))}function Pl(e){return ge(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function yp(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}let vi=!0;function bp(e){const t=lc(e),n=e.proxy,o=e.ctx;vi=!1,t.beforeCreate&&Rl(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:i,watch:l,provide:a,inject:u,created:c,beforeMount:f,mounted:g,beforeUpdate:b,updated:I,activated:S,deactivated:k,beforeDestroy:D,beforeUnmount:N,destroyed:m,unmounted:w,render:O,renderTracked:R,renderTriggered:W,errorCaptured:H,serverPrefetch:L,expose:Y,inheritAttrs:G,components:T,directives:q,filters:x}=t;if(u&&xp(u,o,null),i)for(const p in i){const j=i[p];ye(j)&&(o[p]=j.bind(n))}if(s){const p=s.call(n,n);De(p)&&(e.data=rs(p))}if(vi=!0,r)for(const p in r){const j=r[p],Z=ye(j)?j.bind(n,n):ye(j.get)?j.get.bind(n,n):Lt,Q=!ye(j)&&ye(j.set)?j.set.bind(n):Lt,te=ne({get:Z,set:Q});Object.defineProperty(o,p,{enumerable:!0,configurable:!0,get:()=>te.value,set:le=>te.value=le})}if(l)for(const p in l)ic(l[p],o,n,p);if(a){const p=ye(a)?a.call(n):a;Reflect.ownKeys(p).forEach(j=>{Dn(j,p[j])})}c&&Rl(c,e,"c");function d(p,j){ge(j)?j.forEach(Z=>p(Z.bind(n))):j&&p(j.bind(n))}if(d(Qu,f),d(at,g),d(cp,b),d(ec,I),d(lp,S),d(ap,k),d(hp,H),d(pp,R),d(fp,W),d(yr,N),d(yn,w),d(dp,L),ge(Y))if(Y.length){const p=e.exposed||(e.exposed={});Y.forEach(j=>{Object.defineProperty(p,j,{get:()=>n[j],set:Z=>n[j]=Z,enumerable:!0})})}else e.exposed||(e.exposed={});O&&e.render===Lt&&(e.render=O),G!=null&&(e.inheritAttrs=G),T&&(e.components=T),q&&(e.directives=q),L&&qu(e)}function xp(e,t,n=Lt){ge(e)&&(e=yi(e));for(const o in e){const s=e[o];let r;De(s)?"default"in s?r=wt(s.from||o,s.default,!0):r=wt(s.from||o):r=wt(s),Fe(r)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[o]=r}}function Rl(e,t,n){Ct(ge(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function ic(e,t,n,o){let s=o.includes(".")?Yu(n,o):()=>n[o];if(je(e)){const r=t[e];ye(r)&&_e(s,r)}else if(ye(e))_e(s,e.bind(n));else if(De(e))if(ge(e))e.forEach(r=>ic(r,t,n,o));else{const r=ye(e.handler)?e.handler.bind(n):t[e.handler];ye(r)&&_e(s,r,e)}}function lc(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let a;return l?a=l:!s.length&&!n&&!o?a=t:(a={},s.length&&s.forEach(u=>js(a,u,i,!0)),js(a,t,i)),De(t)&&r.set(t,a),a}function js(e,t,n,o=!1){const{mixins:s,extends:r}=t;r&&js(e,r,n,!0),s&&s.forEach(i=>js(e,i,n,!0));for(const i in t)if(!(o&&i==="expose")){const l=wp[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const wp={data:Ll,props:Bl,emits:Bl,methods:Eo,computed:Eo,beforeCreate:st,created:st,beforeMount:st,mounted:st,beforeUpdate:st,updated:st,beforeDestroy:st,beforeUnmount:st,destroyed:st,unmounted:st,activated:st,deactivated:st,errorCaptured:st,serverPrefetch:st,components:Eo,directives:Eo,watch:Sp,provide:Ll,inject:_p};function Ll(e,t){return t?e?function(){return Ye(ye(e)?e.call(this,this):e,ye(t)?t.call(this,this):t)}:t:e}function _p(e,t){return Eo(yi(e),yi(t))}function yi(e){if(ge(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function st(e,t){return e?[...new Set([].concat(e,t))]:t}function Eo(e,t){return e?Ye(Object.create(null),e,t):t}function Bl(e,t){return e?ge(e)&&ge(t)?[...new Set([...e,...t])]:Ye(Object.create(null),Pl(e),Pl(t??{})):t}function Sp(e,t){if(!e)return t;if(!t)return e;const n=Ye(Object.create(null),e);for(const o in t)n[o]=st(e[o],t[o]);return n}function ac(){return{app:null,config:{isNativeTag:du,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Cp=0;function Ep(e,t){return function(o,s=null){ye(o)||(o=Ye({},o)),s!=null&&!De(s)&&(s=null);const r=ac(),i=new WeakSet,l=[];let a=!1;const u=r.app={_uid:Cp++,_component:o,_props:s,_container:null,_context:r,_instance:null,version:nh,get config(){return r.config},set config(c){},use(c,...f){return i.has(c)||(c&&ye(c.install)?(i.add(c),c.install(u,...f)):ye(c)&&(i.add(c),c(u,...f))),u},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),u},component(c,f){return f?(r.components[c]=f,u):r.components[c]},directive(c,f){return f?(r.directives[c]=f,u):r.directives[c]},mount(c,f,g){if(!a){const b=u._ceVNode||se(o,s);return b.appContext=r,g===!0?g="svg":g===!1&&(g=void 0),e(b,c,g),a=!0,u._container=c,c.__vue_app__=u,wr(b.component)}},onUnmount(c){l.push(c)},unmount(){a&&(Ct(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return r.provides[c]=f,u},runWithContext(c){const f=Mn;Mn=u;try{return c()}finally{Mn=f}}};return u}}let Mn=null;const Ip=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${vt(t)}Modifiers`]||e[`${vn(t)}Modifiers`];function Np(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||Re;let s=n;const r=t.startsWith("update:"),i=r&&Ip(o,t.slice(7));i&&(i.trim&&(s=n.map(c=>je(c)?c.trim():c)),i.number&&(s=n.map(Gi)));let l,a=o[l=Pr(t)]||o[l=Pr(vt(t))];!a&&r&&(a=o[l=Pr(vn(t))]),a&&Ct(a,e,6,s);const u=o[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Ct(u,e,6,s)}}const Tp=new WeakMap;function uc(e,t,n=!1){const o=n?Tp:t.emitsCache,s=o.get(e);if(s!==void 0)return s;const r=e.emits;let i={},l=!1;if(!ye(e)){const a=u=>{const c=uc(u,t,!0);c&&(l=!0,Ye(i,c))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!l?(De(e)&&o.set(e,null),null):(ge(r)?r.forEach(a=>i[a]=null):Ye(i,r),De(e)&&o.set(e,i),i)}function br(e,t){return!e||!ir(t)?!1:(t=t.slice(2).replace(/Once$/,""),Oe(e,t[0].toLowerCase()+t.slice(1))||Oe(e,vn(t))||Oe(e,t))}function Fl(e){const{type:t,vnode:n,proxy:o,withProxy:s,propsOptions:[r],slots:i,attrs:l,emit:a,render:u,renderCache:c,props:f,data:g,setupState:b,ctx:I,inheritAttrs:S}=e,k=zs(e);let D,N;try{if(n.shapeFlag&4){const w=s||o,O=w;D=Ot(u.call(O,w,c,f,b,g,I)),N=l}else{const w=t;D=Ot(w.length>1?w(f,{attrs:l,slots:i,emit:a}):w(f,null)),N=t.props?l:Mp(l)}}catch(w){Lo.length=0,mr(w,e,1),D=se(Ft)}let m=D;if(N&&S!==!1){const w=Object.keys(N),{shapeFlag:O}=m;w.length&&O&7&&(r&&w.some(ji)&&(N=$p(N,r)),m=On(m,N,!1,!0))}return n.dirs&&(m=On(m,null,!1,!0),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&Ko(m,n.transition),D=m,zs(k),D}const Mp=e=>{let t;for(const n in e)(n==="class"||n==="style"||ir(n))&&((t||(t={}))[n]=e[n]);return t},$p=(e,t)=>{const n={};for(const o in e)(!ji(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function kp(e,t,n){const{props:o,children:s,component:r}=e,{props:i,children:l,patchFlag:a}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return o?Vl(o,i,u):!!i;if(a&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const g=c[f];if(cc(i,o,g)&&!br(u,g))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:o===i?!1:o?i?Vl(o,i,u):!0:!!i;return!1}function Vl(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let s=0;s<o.length;s++){const r=o[s];if(cc(t,e,r)&&!br(n,r))return!0}return!1}function cc(e,t,n){const o=e[n],s=t[n];return n==="style"&&De(o)&&De(s)?!jo(o,s):o!==s}function Ap({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const dc={},fc=()=>Object.create(dc),pc=e=>Object.getPrototypeOf(e)===dc;function Dp(e,t,n,o=!1){const s={},r=fc();e.propsDefaults=Object.create(null),hc(e,t,s,r);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);n?e.props=o?s:Bf(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function Op(e,t,n,o){const{props:s,attrs:r,vnode:{patchFlag:i}}=e,l=Te(s),[a]=e.propsOptions;let u=!1;if((o||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let g=c[f];if(br(e.emitsOptions,g))continue;const b=t[g];if(a)if(Oe(r,g))b!==r[g]&&(r[g]=b,u=!0);else{const I=vt(g);s[I]=bi(a,l,I,b,e,!1)}else b!==r[g]&&(r[g]=b,u=!0)}}}else{hc(e,t,s,r)&&(u=!0);let c;for(const f in l)(!t||!Oe(t,f)&&((c=vn(f))===f||!Oe(t,c)))&&(a?n&&(n[f]!==void 0||n[c]!==void 0)&&(s[f]=bi(a,l,f,void 0,e,!0)):delete s[f]);if(r!==l)for(const f in r)(!t||!Oe(t,f))&&(delete r[f],u=!0)}u&&Gt(e.attrs,"set","")}function hc(e,t,n,o){const[s,r]=e.propsOptions;let i=!1,l;if(t)for(let a in t){if($o(a))continue;const u=t[a];let c;s&&Oe(s,c=vt(a))?!r||!r.includes(c)?n[c]=u:(l||(l={}))[c]=u:br(e.emitsOptions,a)||(!(a in o)||u!==o[a])&&(o[a]=u,i=!0)}if(r){const a=Te(n),u=l||Re;for(let c=0;c<r.length;c++){const f=r[c];n[f]=bi(s,a,f,u[f],e,!Oe(u,f))}}return i}function bi(e,t,n,o,s,r){const i=e[n];if(i!=null){const l=Oe(i,"default");if(l&&o===void 0){const a=i.default;if(i.type!==Function&&!i.skipFactory&&ye(a)){const{propsDefaults:u}=s;if(n in u)o=u[n];else{const c=ls(s);o=u[n]=a.call(null,t),c()}}else o=a;s.ce&&s.ce._setProp(n,o)}i[0]&&(r&&!l?o=!1:i[1]&&(o===""||o===vn(n))&&(o=!0))}return o}const Pp=new WeakMap;function gc(e,t,n=!1){const o=n?Pp:t.propsCache,s=o.get(e);if(s)return s;const r=e.props,i={},l=[];let a=!1;if(!ye(e)){const c=f=>{a=!0;const[g,b]=gc(f,t,!0);Ye(i,g),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!r&&!a)return De(e)&&o.set(e,Xn),Xn;if(ge(r))for(let c=0;c<r.length;c++){const f=vt(r[c]);zl(f)&&(i[f]=Re)}else if(r)for(const c in r){const f=vt(c);if(zl(f)){const g=r[c],b=i[f]=ge(g)||ye(g)?{type:g}:Ye({},g),I=b.type;let S=!1,k=!0;if(ge(I))for(let D=0;D<I.length;++D){const N=I[D],m=ye(N)&&N.name;if(m==="Boolean"){S=!0;break}else m==="String"&&(k=!1)}else S=ye(I)&&I.name==="Boolean";b[0]=S,b[1]=k,(S||Oe(b,"default"))&&l.push(f)}}const u=[i,l];return De(e)&&o.set(e,u),u}function zl(e){return e[0]!=="$"&&!$o(e)}const Qi=e=>e==="_"||e==="_ctx"||e==="$stable",el=e=>ge(e)?e.map(Ot):[Ot(e)],Rp=(e,t,n)=>{if(t._n)return t;const o=pt((...s)=>el(t(...s)),n);return o._c=!1,o},mc=(e,t,n)=>{const o=e._ctx;for(const s in e){if(Qi(s))continue;const r=e[s];if(ye(r))t[s]=Rp(s,r,o);else if(r!=null){const i=el(r);t[s]=()=>i}}},vc=(e,t)=>{const n=el(t);e.slots.default=()=>n},yc=(e,t,n)=>{for(const o in t)(n||!Qi(o))&&(e[o]=t[o])},Lp=(e,t,n)=>{const o=e.slots=fc();if(e.vnode.shapeFlag&32){const s=t._;s?(yc(o,t,n),n&&mu(o,"_",s,!0)):mc(t,o)}else t&&vc(e,t)},Bp=(e,t,n)=>{const{vnode:o,slots:s}=e;let r=!0,i=Re;if(o.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:yc(s,t,n):(r=!t.$stable,mc(t,s)),i=t}else t&&(vc(e,t),i={default:1});if(r)for(const l in s)!Qi(l)&&i[l]==null&&delete s[l]},et=jp;function Fp(e){return Vp(e)}function Vp(e,t){const n=cr();n.__VUE__=!0;const{insert:o,remove:s,patchProp:r,createElement:i,createText:l,createComment:a,setText:u,setElementText:c,parentNode:f,nextSibling:g,setScopeId:b=Lt,insertStaticContent:I}=e,S=(C,$,v,y=null,_=null,E=null,M=void 0,z=null,F=!!$.dynamicChildren)=>{if(C===$)return;C&&!Yn(C,$)&&(y=ue(C),le(C,_,E,!0),C=null),$.patchFlag===-2&&(F=!1,$.dynamicChildren=null);const{type:B,ref:X,shapeFlag:K}=$;switch(B){case xr:k(C,$,v,y);break;case Ft:D(C,$,v,y);break;case Hr:C==null&&N($,v,y,M);break;case ce:T(C,$,v,y,_,E,M,z,F);break;default:K&1?O(C,$,v,y,_,E,M,z,F):K&6?q(C,$,v,y,_,E,M,z,F):(K&64||K&128)&&B.process(C,$,v,y,_,E,M,z,F,ve)}X!=null&&_?Po(X,C&&C.ref,E,$||C,!$):X==null&&C&&C.ref!=null&&Po(C.ref,null,E,C,!0)},k=(C,$,v,y)=>{if(C==null)o($.el=l($.children),v,y);else{const _=$.el=C.el;$.children!==C.children&&u(_,$.children)}},D=(C,$,v,y)=>{C==null?o($.el=a($.children||""),v,y):$.el=C.el},N=(C,$,v,y)=>{[C.el,C.anchor]=I(C.children,$,v,y,C.el,C.anchor)},m=({el:C,anchor:$},v,y)=>{let _;for(;C&&C!==$;)_=g(C),o(C,v,y),C=_;o($,v,y)},w=({el:C,anchor:$})=>{let v;for(;C&&C!==$;)v=g(C),s(C),C=v;s($)},O=(C,$,v,y,_,E,M,z,F)=>{if($.type==="svg"?M="svg":$.type==="math"&&(M="mathml"),C==null)R($,v,y,_,E,M,z,F);else{const B=C.el&&C.el._isVueCE?C.el:null;try{B&&B._beginPatch(),L(C,$,_,E,M,z,F)}finally{B&&B._endPatch()}}},R=(C,$,v,y,_,E,M,z)=>{let F,B;const{props:X,shapeFlag:K,transition:J,dirs:ee}=C;if(F=C.el=i(C.type,E,X&&X.is,X),K&8?c(F,C.children):K&16&&H(C.children,F,null,y,_,zr(C,E),M,z),ee&&wn(C,null,y,"created"),W(F,C,C.scopeId,M,y),X){for(const Ee in X)Ee!=="value"&&!$o(Ee)&&r(F,Ee,null,X[Ee],E,y);"value"in X&&r(F,"value",null,X.value,E),(B=X.onVnodeBeforeMount)&&$t(B,y,C)}ee&&wn(C,null,y,"beforeMount");const be=zp(_,J);be&&J.beforeEnter(F),o(F,$,v),((B=X&&X.onVnodeMounted)||be||ee)&&et(()=>{B&&$t(B,y,C),be&&J.enter(F),ee&&wn(C,null,y,"mounted")},_)},W=(C,$,v,y,_)=>{if(v&&b(C,v),y)for(let E=0;E<y.length;E++)b(C,y[E]);if(_){let E=_.subTree;if($===E||wc(E.type)&&(E.ssContent===$||E.ssFallback===$)){const M=_.vnode;W(C,M,M.scopeId,M.slotScopeIds,_.parent)}}},H=(C,$,v,y,_,E,M,z,F=0)=>{for(let B=F;B<C.length;B++){const X=C[B]=z?Ut(C[B]):Ot(C[B]);S(null,X,$,v,y,_,E,M,z)}},L=(C,$,v,y,_,E,M)=>{const z=$.el=C.el;let{patchFlag:F,dynamicChildren:B,dirs:X}=$;F|=C.patchFlag&16;const K=C.props||Re,J=$.props||Re;let ee;if(v&&_n(v,!1),(ee=J.onVnodeBeforeUpdate)&&$t(ee,v,$,C),X&&wn($,C,v,"beforeUpdate"),v&&_n(v,!0),(K.innerHTML&&J.innerHTML==null||K.textContent&&J.textContent==null)&&c(z,""),B?Y(C.dynamicChildren,B,z,v,y,zr($,_),E):M||j(C,$,z,null,v,y,zr($,_),E,!1),F>0){if(F&16)G(z,K,J,v,_);else if(F&2&&K.class!==J.class&&r(z,"class",null,J.class,_),F&4&&r(z,"style",K.style,J.style,_),F&8){const be=$.dynamicProps;for(let Ee=0;Ee<be.length;Ee++){const Ae=be[Ee],Je=K[Ae],Qe=J[Ae];(Qe!==Je||Ae==="value")&&r(z,Ae,Je,Qe,_,v)}}F&1&&C.children!==$.children&&c(z,$.children)}else!M&&B==null&&G(z,K,J,v,_);((ee=J.onVnodeUpdated)||X)&&et(()=>{ee&&$t(ee,v,$,C),X&&wn($,C,v,"updated")},y)},Y=(C,$,v,y,_,E,M)=>{for(let z=0;z<$.length;z++){const F=C[z],B=$[z],X=F.el&&(F.type===ce||!Yn(F,B)||F.shapeFlag&198)?f(F.el):v;S(F,B,X,null,y,_,E,M,!0)}},G=(C,$,v,y,_)=>{if($!==v){if($!==Re)for(const E in $)!$o(E)&&!(E in v)&&r(C,E,$[E],null,_,y);for(const E in v){if($o(E))continue;const M=v[E],z=$[E];M!==z&&E!=="value"&&r(C,E,z,M,_,y)}"value"in v&&r(C,"value",$.value,v.value,_)}},T=(C,$,v,y,_,E,M,z,F)=>{const B=$.el=C?C.el:l(""),X=$.anchor=C?C.anchor:l("");let{patchFlag:K,dynamicChildren:J,slotScopeIds:ee}=$;ee&&(z=z?z.concat(ee):ee),C==null?(o(B,v,y),o(X,v,y),H($.children||[],v,X,_,E,M,z,F)):K>0&&K&64&&J&&C.dynamicChildren&&C.dynamicChildren.length===J.length?(Y(C.dynamicChildren,J,v,_,E,M,z),($.key!=null||_&&$===_.subTree)&&tl(C,$,!0)):j(C,$,v,X,_,E,M,z,F)},q=(C,$,v,y,_,E,M,z,F)=>{$.slotScopeIds=z,C==null?$.shapeFlag&512?_.ctx.activate($,v,y,M,F):x($,v,y,_,E,M,F):A(C,$,F)},x=(C,$,v,y,_,E,M)=>{const z=C.component=Xp(C,y,_);if(Zu(C)&&(z.ctx.renderer=ve),qp(z,!1,M),z.asyncDep){if(_&&_.registerDep(z,d,M),!C.el){const F=z.subTree=se(Ft);D(null,F,$,v),C.placeholder=F.el}}else d(z,C,$,v,_,E,M)},A=(C,$,v)=>{const y=$.component=C.component;if(kp(C,$,v))if(y.asyncDep&&!y.asyncResolved){p(y,$,v);return}else y.next=$,y.update();else $.el=C.el,y.vnode=$},d=(C,$,v,y,_,E,M)=>{const z=()=>{if(C.isMounted){let{next:K,bu:J,u:ee,parent:be,vnode:Ee}=C;{const Tt=bc(C);if(Tt){K&&(K.el=Ee.el,p(C,K,M)),Tt.asyncDep.then(()=>{et(()=>{C.isUnmounted||B()},_)});return}}let Ae=K,Je;_n(C,!1),K?(K.el=Ee.el,p(C,K,M)):K=Ee,J&&Ts(J),(Je=K.props&&K.props.onVnodeBeforeUpdate)&&$t(Je,be,K,Ee),_n(C,!0);const Qe=Fl(C),Nt=C.subTree;C.subTree=Qe,S(Nt,Qe,f(Nt.el),ue(Nt),C,_,E),K.el=Qe.el,Ae===null&&Ap(C,Qe.el),ee&&et(ee,_),(Je=K.props&&K.props.onVnodeUpdated)&&et(()=>$t(Je,be,K,Ee),_)}else{let K;const{el:J,props:ee}=$,{bm:be,m:Ee,parent:Ae,root:Je,type:Qe}=C,Nt=Jn($);_n(C,!1),be&&Ts(be),!Nt&&(K=ee&&ee.onVnodeBeforeMount)&&$t(K,Ae,$),_n(C,!0);{Je.ce&&Je.ce._hasShadowRoot()&&Je.ce._injectChildStyle(Qe);const Tt=C.subTree=Fl(C);S(null,Tt,v,y,C,_,E),$.el=Tt.el}if(Ee&&et(Ee,_),!Nt&&(K=ee&&ee.onVnodeMounted)){const Tt=$;et(()=>$t(K,Ae,Tt),_)}($.shapeFlag&256||Ae&&Jn(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&C.a&&et(C.a,_),C.isMounted=!0,$=v=y=null}};C.scope.on();const F=C.effect=new wu(z);C.scope.off();const B=C.update=F.run.bind(F),X=C.job=F.runIfDirty.bind(F);X.i=C,X.id=C.uid,F.scheduler=()=>Zi(X),_n(C,!0),B()},p=(C,$,v)=>{$.component=C;const y=C.vnode.props;C.vnode=$,C.next=null,Op(C,$.props,y,v),Bp(C,$.children,v),Qt(),Tl(C),en()},j=(C,$,v,y,_,E,M,z,F=!1)=>{const B=C&&C.children,X=C?C.shapeFlag:0,K=$.children,{patchFlag:J,shapeFlag:ee}=$;if(J>0){if(J&128){Q(B,K,v,y,_,E,M,z,F);return}else if(J&256){Z(B,K,v,y,_,E,M,z,F);return}}ee&8?(X&16&&re(B,_,E),K!==B&&c(v,K)):X&16?ee&16?Q(B,K,v,y,_,E,M,z,F):re(B,_,E,!0):(X&8&&c(v,""),ee&16&&H(K,v,y,_,E,M,z,F))},Z=(C,$,v,y,_,E,M,z,F)=>{C=C||Xn,$=$||Xn;const B=C.length,X=$.length,K=Math.min(B,X);let J;for(J=0;J<K;J++){const ee=$[J]=F?Ut($[J]):Ot($[J]);S(C[J],ee,v,null,_,E,M,z,F)}B>X?re(C,_,E,!0,!1,K):H($,v,y,_,E,M,z,F,K)},Q=(C,$,v,y,_,E,M,z,F)=>{let B=0;const X=$.length;let K=C.length-1,J=X-1;for(;B<=K&&B<=J;){const ee=C[B],be=$[B]=F?Ut($[B]):Ot($[B]);if(Yn(ee,be))S(ee,be,v,null,_,E,M,z,F);else break;B++}for(;B<=K&&B<=J;){const ee=C[K],be=$[J]=F?Ut($[J]):Ot($[J]);if(Yn(ee,be))S(ee,be,v,null,_,E,M,z,F);else break;K--,J--}if(B>K){if(B<=J){const ee=J+1,be=ee<X?$[ee].el:y;for(;B<=J;)S(null,$[B]=F?Ut($[B]):Ot($[B]),v,be,_,E,M,z,F),B++}}else if(B>J)for(;B<=K;)le(C[B],_,E,!0),B++;else{const ee=B,be=B,Ee=new Map;for(B=be;B<=J;B++){const ft=$[B]=F?Ut($[B]):Ot($[B]);ft.key!=null&&Ee.set(ft.key,B)}let Ae,Je=0;const Qe=J-be+1;let Nt=!1,Tt=0;const go=new Array(Qe);for(B=0;B<Qe;B++)go[B]=0;for(B=ee;B<=K;B++){const ft=C[B];if(Je>=Qe){le(ft,_,E,!0);continue}let Mt;if(ft.key!=null)Mt=Ee.get(ft.key);else for(Ae=be;Ae<=J;Ae++)if(go[Ae-be]===0&&Yn(ft,$[Ae])){Mt=Ae;break}Mt===void 0?le(ft,_,E,!0):(go[Mt-be]=B+1,Mt>=Tt?Tt=Mt:Nt=!0,S(ft,$[Mt],v,null,_,E,M,z,F),Je++)}const wl=Nt?Hp(go):Xn;for(Ae=wl.length-1,B=Qe-1;B>=0;B--){const ft=be+B,Mt=$[ft],_l=$[ft+1],Sl=ft+1<X?_l.el||xc(_l):y;go[B]===0?S(null,Mt,v,Sl,_,E,M,z,F):Nt&&(Ae<0||B!==wl[Ae]?te(Mt,v,Sl,2):Ae--)}}},te=(C,$,v,y,_=null)=>{const{el:E,type:M,transition:z,children:F,shapeFlag:B}=C;if(B&6){te(C.component.subTree,$,v,y);return}if(B&128){C.suspense.move($,v,y);return}if(B&64){M.move(C,$,v,ve);return}if(M===ce){o(E,$,v);for(let K=0;K<F.length;K++)te(F[K],$,v,y);o(C.anchor,$,v);return}if(M===Hr){m(C,$,v);return}if(y!==2&&B&1&&z)if(y===0)z.beforeEnter(E),o(E,$,v),et(()=>z.enter(E),_);else{const{leave:K,delayLeave:J,afterLeave:ee}=z,be=()=>{C.ctx.isUnmounted?s(E):o(E,$,v)},Ee=()=>{E._isLeaving&&E[ln](!0),K(E,()=>{be(),ee&&ee()})};J?J(E,be,Ee):Ee()}else o(E,$,v)},le=(C,$,v,y=!1,_=!1)=>{const{type:E,props:M,ref:z,children:F,dynamicChildren:B,shapeFlag:X,patchFlag:K,dirs:J,cacheIndex:ee}=C;if(K===-2&&(_=!1),z!=null&&(Qt(),Po(z,null,v,C,!0),en()),ee!=null&&($.renderCache[ee]=void 0),X&256){$.ctx.deactivate(C);return}const be=X&1&&J,Ee=!Jn(C);let Ae;if(Ee&&(Ae=M&&M.onVnodeBeforeUnmount)&&$t(Ae,$,C),X&6)ie(C.component,v,y);else{if(X&128){C.suspense.unmount(v,y);return}be&&wn(C,null,$,"beforeUnmount"),X&64?C.type.remove(C,$,v,ve,y):B&&!B.hasOnce&&(E!==ce||K>0&&K&64)?re(B,$,v,!1,!0):(E===ce&&K&384||!_&&X&16)&&re(F,$,v),y&&me(C)}(Ee&&(Ae=M&&M.onVnodeUnmounted)||be)&&et(()=>{Ae&&$t(Ae,$,C),be&&wn(C,null,$,"unmounted")},v)},me=C=>{const{type:$,el:v,anchor:y,transition:_}=C;if($===ce){Se(v,y);return}if($===Hr){w(C);return}const E=()=>{s(v),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(C.shapeFlag&1&&_&&!_.persisted){const{leave:M,delayLeave:z}=_,F=()=>M(v,E);z?z(C.el,E,F):F()}else E()},Se=(C,$)=>{let v;for(;C!==$;)v=g(C),s(C),C=v;s($)},ie=(C,$,v)=>{const{bum:y,scope:_,job:E,subTree:M,um:z,m:F,a:B}=C;Hl(F),Hl(B),y&&Ts(y),_.stop(),E&&(E.flags|=8,le(M,C,$,v)),z&&et(z,$),et(()=>{C.isUnmounted=!0},$)},re=(C,$,v,y=!1,_=!1,E=0)=>{for(let M=E;M<C.length;M++)le(C[M],$,v,y,_)},ue=C=>{if(C.shapeFlag&6)return ue(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const $=g(C.anchor||C.el),v=$&&$[Ku];return v?g(v):$};let Ce=!1;const ke=(C,$,v)=>{let y;C==null?$._vnode&&(le($._vnode,null,null,!0),y=$._vnode.component):S($._vnode||null,C,$,null,null,null,v),$._vnode=C,Ce||(Ce=!0,Tl(y),Hu(),Ce=!1)},ve={p:S,um:le,m:te,r:me,mt:x,mc:H,pc:j,pbc:Y,n:ue,o:e};return{render:ke,hydrate:void 0,createApp:Ep(ke)}}function zr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function _n({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function zp(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function tl(e,t,n=!1){const o=e.children,s=t.children;if(ge(o)&&ge(s))for(let r=0;r<o.length;r++){const i=o[r];let l=s[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[r]=Ut(s[r]),l.el=i.el),!n&&l.patchFlag!==-2&&tl(i,l)),l.type===xr&&(l.patchFlag===-1&&(l=s[r]=Ut(l)),l.el=i.el),l.type===Ft&&!l.el&&(l.el=i.el)}}function Hp(e){const t=e.slice(),n=[0];let o,s,r,i,l;const a=e.length;for(o=0;o<a;o++){const u=e[o];if(u!==0){if(s=n[n.length-1],e[s]<u){t[o]=s,n.push(o);continue}for(r=0,i=n.length-1;r<i;)l=r+i>>1,e[n[l]]<u?r=l+1:i=l;u<e[n[r]]&&(r>0&&(t[o]=n[r-1]),n[r]=o)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function bc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:bc(t)}function Hl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function xc(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?xc(t.subTree):null}const wc=e=>e.__isSuspense;function jp(e,t){t&&t.pendingBranch?ge(e)?t.effects.push(...e):t.effects.push(e):qf(e)}const ce=Symbol.for("v-fgt"),xr=Symbol.for("v-txt"),Ft=Symbol.for("v-cmt"),Hr=Symbol.for("v-stc"),Lo=[];let lt=null;function P(e=!1){Lo.push(lt=e?null:[])}function Up(){Lo.pop(),lt=Lo[Lo.length-1]||null}let io=1;function Us(e,t=!1){io+=e,e<0&&lt&&t&&(lt.hasOnce=!0)}function _c(e){return e.dynamicChildren=io>0?lt||Xn:null,Up(),io>0&&lt&&lt.push(e),e}function U(e,t,n,o,s,r){return _c(h(e,t,n,o,s,r,!0))}function Ve(e,t,n,o,s){return _c(se(e,t,n,o,s,!0))}function Wo(e){return e?e.__v_isVNode===!0:!1}function Yn(e,t){return e.type===t.type&&e.key===t.key}const Sc=({key:e})=>e??null,$s=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?je(e)||Fe(e)||ye(e)?{i:qe,r:e,k:t,f:!!n}:e:null);function h(e,t=null,n=null,o=0,s=null,r=e===ce?0:1,i=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Sc(t),ref:t&&$s(t),scopeId:Uu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:qe};return l?(nl(a,n),r&128&&e.normalize(a)):n&&(a.shapeFlag|=je(n)?8:16),io>0&&!i&&lt&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&lt.push(a),a}const se=Gp;function Gp(e,t=null,n=null,o=0,s=null,r=!1){if((!e||e===nc)&&(e=Ft),Wo(e)){const l=On(e,t,!0);return n&&nl(l,n),io>0&&!r&&lt&&(l.shapeFlag&6?lt[lt.indexOf(e)]=l:lt.push(l)),l.patchFlag=-2,l}if(eh(e)&&(e=e.__vccOpts),t){t=Yp(t);let{class:l,style:a}=t;l&&!je(l)&&(t.class=pe(l)),De(a)&&(gr(a)&&!ge(a)&&(a=Ye({},a)),t.style=Xe(a))}const i=je(e)?1:wc(e)?128:tp(e)?64:De(e)?4:ye(e)?2:0;return h(e,t,n,o,s,i,r,!0)}function Yp(e){return e?gr(e)||pc(e)?Ye({},e):e:null}function On(e,t,n=!1,o=!1){const{props:s,ref:r,patchFlag:i,children:l,transition:a}=e,u=t?ol(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Sc(u),ref:t&&t.ref?n&&r?ge(r)?r.concat($s(t)):[r,$s(t)]:$s(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ce?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&On(e.ssContent),ssFallback:e.ssFallback&&On(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&o&&Ko(c,a.clone(c)),c}function We(e=" ",t=0){return se(xr,null,e,t)}function fe(e="",t=!1){return t?(P(),Ve(Ft,null,e)):se(Ft,null,e)}function Ot(e){return e==null||typeof e=="boolean"?se(Ft):ge(e)?se(ce,null,e.slice()):Wo(e)?Ut(e):se(xr,null,String(e))}function Ut(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:On(e)}function nl(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(ge(t))n=16;else if(typeof t=="object")if(o&65){const s=t.default;s&&(s._c&&(s._d=!1),nl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!pc(t)?t._ctx=qe:s===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ye(t)?(t={default:t,_ctx:qe},n=32):(t=String(t),o&64?(n=16,t=[We(t)]):n=8);e.children=t,e.shapeFlag|=n}function ol(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const s in o)if(s==="class")t.class!==o.class&&(t.class=pe([t.class,o.class]));else if(s==="style")t.style=Xe([t.style,o.style]);else if(ir(s)){const r=t[s],i=o[s];i&&r!==i&&!(ge(r)&&r.includes(i))&&(t[s]=r?[].concat(r,i):i)}else s!==""&&(t[s]=o[s])}return t}function $t(e,t,n,o=null){Ct(e,t,7,[n,o])}const Kp=ac();let Wp=0;function Xp(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||Kp,r={uid:Wp++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new xu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gc(o,s),emitsOptions:uc(o,s),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:o.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Np.bind(null,r),e.ce&&e.ce(r),r}let ot=null;const Et=()=>ot||qe;let Gs,xi;{const e=cr(),t=(n,o)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(o),r=>{s.length>1?s.forEach(i=>i(r)):s[0](r)}};Gs=t("__VUE_INSTANCE_SETTERS__",n=>ot=n),xi=t("__VUE_SSR_SETTERS__",n=>Xo=n)}const ls=e=>{const t=ot;return Gs(e),e.scope.on(),()=>{e.scope.off(),Gs(t)}},jl=()=>{ot&&ot.scope.off(),Gs(null)};function Cc(e){return e.vnode.shapeFlag&4}let Xo=!1;function qp(e,t=!1,n=!1){t&&xi(t);const{props:o,children:s}=e.vnode,r=Cc(e);Dp(e,o,r,t),Lp(e,s,n||t);const i=r?Zp(e,t):void 0;return t&&xi(!1),i}function Zp(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,gp);const{setup:o}=n;if(o){Qt();const s=e.setupContext=o.length>1?Ic(e):null,r=ls(e),i=is(o,e,0,[e.props,s]),l=pu(i);if(en(),r(),(l||e.sp)&&!Jn(e)&&qu(e),l){if(i.then(jl,jl),t)return i.then(a=>{Ul(e,a)}).catch(a=>{mr(a,e,0)});e.asyncDep=i}else Ul(e,i)}else Ec(e)}function Ul(e,t,n){ye(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:De(t)&&(e.setupState=Ru(t)),Ec(e)}function Ec(e,t,n){const o=e.type;e.render||(e.render=o.render||Lt);{const s=ls(e);Qt();try{bp(e)}finally{en(),s()}}}const Jp={get(e,t){return nt(e,"get",""),e[t]}};function Ic(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Jp),slots:e.slots,emit:e.emit,expose:t}}function wr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ru(hn(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ro)return Ro[n](e)},has(t,n){return n in t||n in Ro}})):e.proxy}function Qp(e,t=!0){return ye(e)?e.displayName||e.name:e.name||t&&e.__name}function eh(e){return ye(e)&&"__vccOpts"in e}const ne=(e,t)=>Gf(e,t,Xo);function Me(e,t,n){try{Us(-1);const o=arguments.length;return o===2?De(t)&&!ge(t)?Wo(t)?se(e,null,[t]):se(e,t):se(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Wo(n)&&(n=[n]),se(e,t,n))}finally{Us(1)}}function th(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let o=0;o<n.length;o++)if(Zt(n[o],t[o]))return!1;return io>0&&lt&&lt.push(e),!0}const nh="3.5.28";let wi;const Gl=typeof window<"u"&&window.trustedTypes;if(Gl)try{wi=Gl.createPolicy("vue",{createHTML:e=>e})}catch{}const Nc=wi?e=>wi.createHTML(e):e=>e,oh="http://www.w3.org/2000/svg",sh="http://www.w3.org/1998/Math/MathML",jt=typeof document<"u"?document:null,Yl=jt&&jt.createElement("template"),rh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const s=t==="svg"?jt.createElementNS(oh,e):t==="mathml"?jt.createElementNS(sh,e):n?jt.createElement(e,{is:n}):jt.createElement(e);return e==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:e=>jt.createTextNode(e),createComment:e=>jt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>jt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,s,r){const i=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{Yl.innerHTML=Nc(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=Yl.content;if(o==="svg"||o==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},sn="transition",yo="animation",lo=Symbol("_vtc"),Tc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ih=Ye({},rp,Tc),Sn=(e,t=[])=>{ge(e)?e.forEach(n=>n(...t)):e&&e(...t)},Kl=e=>e?ge(e)?e.some(t=>t.length>1):e.length>1:!1;function lh(e){const t={};for(const T in e)T in Tc||(t[T]=e[T]);if(e.css===!1)return t;const{name:n="v",type:o,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=r,appearActiveClass:u=i,appearToClass:c=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=e,I=ah(s),S=I&&I[0],k=I&&I[1],{onBeforeEnter:D,onEnter:N,onEnterCancelled:m,onLeave:w,onLeaveCancelled:O,onBeforeAppear:R=D,onAppear:W=N,onAppearCancelled:H=m}=t,L=(T,q,x,A)=>{T._enterCancelled=A,an(T,q?c:l),an(T,q?u:i),x&&x()},Y=(T,q)=>{T._isLeaving=!1,an(T,f),an(T,b),an(T,g),q&&q()},G=T=>(q,x)=>{const A=T?W:N,d=()=>L(q,T,x);Sn(A,[q,d]),Wl(()=>{an(q,T?a:r),kt(q,T?c:l),Kl(A)||Xl(q,o,S,d)})};return Ye(t,{onBeforeEnter(T){Sn(D,[T]),kt(T,r),kt(T,i)},onBeforeAppear(T){Sn(R,[T]),kt(T,a),kt(T,u)},onEnter:G(!1),onAppear:G(!0),onLeave(T,q){T._isLeaving=!0;const x=()=>Y(T,q);kt(T,f),T._enterCancelled?(kt(T,g),_i(T)):(_i(T),kt(T,g)),Wl(()=>{T._isLeaving&&(an(T,f),kt(T,b),Kl(w)||Xl(T,o,k,x))}),Sn(w,[T,x])},onEnterCancelled(T){L(T,!1,void 0,!0),Sn(m,[T])},onAppearCancelled(T){L(T,!0,void 0,!0),Sn(H,[T])},onLeaveCancelled(T){Y(T),Sn(O,[T])}})}function ah(e){if(e==null)return null;if(De(e))return[jr(e.enter),jr(e.leave)];{const t=jr(e);return[t,t]}}function jr(e){return df(e)}function kt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[lo]||(e[lo]=new Set)).add(t)}function an(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[lo];n&&(n.delete(t),n.size||(e[lo]=void 0))}function Wl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let uh=0;function Xl(e,t,n,o){const s=e._endId=++uh,r=()=>{s===e._endId&&o()};if(n!=null)return setTimeout(r,n);const{type:i,timeout:l,propCount:a}=Mc(e,t);if(!i)return o();const u=i+"end";let c=0;const f=()=>{e.removeEventListener(u,g),r()},g=b=>{b.target===e&&++c>=a&&f()};setTimeout(()=>{c<a&&f()},l+1),e.addEventListener(u,g)}function Mc(e,t){const n=window.getComputedStyle(e),o=I=>(n[I]||"").split(", "),s=o(`${sn}Delay`),r=o(`${sn}Duration`),i=ql(s,r),l=o(`${yo}Delay`),a=o(`${yo}Duration`),u=ql(l,a);let c=null,f=0,g=0;t===sn?i>0&&(c=sn,f=i,g=r.length):t===yo?u>0&&(c=yo,f=u,g=a.length):(f=Math.max(i,u),c=f>0?i>u?sn:yo:null,g=c?c===sn?r.length:a.length:0);const b=c===sn&&/\b(?:transform|all)(?:,|$)/.test(o(`${sn}Property`).toString());return{type:c,timeout:f,propCount:g,hasTransform:b}}function ql(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Zl(n)+Zl(e[o])))}function Zl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function _i(e){return(e?e.ownerDocument:document).body.offsetHeight}function ch(e,t,n){const o=e[lo];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ys=Symbol("_vod"),$c=Symbol("_vsh"),kc={name:"show",beforeMount(e,{value:t},{transition:n}){e[Ys]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):bo(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),bo(e,!0),o.enter(e)):o.leave(e,()=>{bo(e,!1)}):bo(e,t))},beforeUnmount(e,{value:t}){bo(e,t)}};function bo(e,t){e.style.display=t?e[Ys]:"none",e[$c]=!t}const dh=Symbol(""),fh=/(?:^|;)\s*display\s*:/;function ph(e,t,n){const o=e.style,s=je(n);let r=!1;if(n&&!s){if(t)if(je(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&ks(o,l,"")}else for(const i in t)n[i]==null&&ks(o,i,"");for(const i in n)i==="display"&&(r=!0),ks(o,i,n[i])}else if(s){if(t!==n){const i=o[dh];i&&(n+=";"+i),o.cssText=n,r=fh.test(n)}}else t&&e.removeAttribute("style");Ys in e&&(e[Ys]=r?o.display:"",e[$c]&&(o.display="none"))}const Jl=/\s*!important$/;function ks(e,t,n){if(ge(n))n.forEach(o=>ks(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=hh(e,t);Jl.test(n)?e.setProperty(vn(o),n.replace(Jl,""),"important"):e[o]=n}}const Ql=["Webkit","Moz","ms"],Ur={};function hh(e,t){const n=Ur[t];if(n)return n;let o=vt(t);if(o!=="filter"&&o in e)return Ur[t]=o;o=ur(o);for(let s=0;s<Ql.length;s++){const r=Ql[s]+o;if(r in e)return Ur[t]=r}return t}const ea="http://www.w3.org/1999/xlink";function ta(e,t,n,o,s,r=vf(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(ea,t.slice(6,t.length)):e.setAttributeNS(ea,t,n):n==null||r&&!vu(n)?e.removeAttribute(t):e.setAttribute(t,r?"":_t(n)?String(n):n)}function na(e,t,n,o,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Nc(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=vu(n):n==null&&l==="string"?(n="",i=!0):l==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(s||t)}function En(e,t,n,o){e.addEventListener(t,n,o)}function gh(e,t,n,o){e.removeEventListener(t,n,o)}const oa=Symbol("_vei");function mh(e,t,n,o,s=null){const r=e[oa]||(e[oa]={}),i=r[t];if(o&&i)i.value=o;else{const[l,a]=vh(t);if(o){const u=r[t]=xh(o,s);En(e,l,u,a)}else i&&(gh(e,l,i,a),r[t]=void 0)}}const sa=/(?:Once|Passive|Capture)$/;function vh(e){let t;if(sa.test(e)){t={};let o;for(;o=e.match(sa);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vn(e.slice(2)),t]}let Gr=0;const yh=Promise.resolve(),bh=()=>Gr||(yh.then(()=>Gr=0),Gr=Date.now());function xh(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Ct(wh(o,n.value),t,5,[o])};return n.value=e,n.attached=bh(),n}function wh(e,t){if(ge(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>s=>!s._stopped&&o&&o(s))}else return t}const ra=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,_h=(e,t,n,o,s,r)=>{const i=s==="svg";t==="class"?ch(e,o,i):t==="style"?ph(e,n,o):ir(t)?ji(t)||mh(e,t,n,o,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Sh(e,t,o,i))?(na(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ta(e,t,o,i,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!je(o))?na(e,vt(t),o,r,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),ta(e,t,o,i))};function Sh(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&ra(t)&&ye(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ra(t)&&je(n)?!1:t in e}const Ac=new WeakMap,Dc=new WeakMap,Ks=Symbol("_moveCb"),ia=Symbol("_enterCb"),Ch=e=>(delete e.props.mode,e),Eh=Ch({name:"TransitionGroup",props:Ye({},ih,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Et(),o=sp();let s,r;return ec(()=>{if(!s.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!Mh(s[0].el,n.vnode.el,i)){s=[];return}s.forEach(Ih),s.forEach(Nh);const l=s.filter(Th);_i(n.vnode.el),l.forEach(a=>{const u=a.el,c=u.style;kt(u,i),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[Ks]=g=>{g&&g.target!==u||(!g||g.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",f),u[Ks]=null,an(u,i))};u.addEventListener("transitionend",f)}),s=[]}),()=>{const i=Te(e),l=lh(i);let a=i.tag||ce;if(s=[],r)for(let u=0;u<r.length;u++){const c=r[u];c.el&&c.el instanceof Element&&(s.push(c),Ko(c,gi(c,l,o,n)),Ac.set(c,Oc(c.el)))}r=t.default?Xu(t.default()):[];for(let u=0;u<r.length;u++){const c=r[u];c.key!=null&&Ko(c,gi(c,l,o,n))}return se(a,null,r)}}}),sl=Eh;function Ih(e){const t=e.el;t[Ks]&&t[Ks](),t[ia]&&t[ia]()}function Nh(e){Dc.set(e,Oc(e.el))}function Th(e){const t=Ac.get(e),n=Dc.get(e),o=t.left-n.left,s=t.top-n.top;if(o||s){const r=e.el,i=r.style,l=r.getBoundingClientRect();let a=1,u=1;return r.offsetWidth&&(a=l.width/r.offsetWidth),r.offsetHeight&&(u=l.height/r.offsetHeight),(!Number.isFinite(a)||a===0)&&(a=1),(!Number.isFinite(u)||u===0)&&(u=1),Math.abs(a-1)<.01&&(a=1),Math.abs(u-1)<.01&&(u=1),i.transform=i.webkitTransform=`translate(${o/a}px,${s/u}px)`,i.transitionDuration="0s",e}}function Oc(e){const t=e.getBoundingClientRect();return{left:t.left,top:t.top}}function Mh(e,t,n){const o=e.cloneNode(),s=e[lo];s&&s.forEach(l=>{l.split(/\s+/).forEach(a=>a&&o.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&o.classList.add(l)),o.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(o);const{hasTransform:i}=Mc(o);return r.removeChild(o),i}const Ws=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ge(t)?n=>Ts(t,n):t};function $h(e){e.target.composing=!0}function la(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Qn=Symbol("_assign");function aa(e,t,n){return t&&(e=e.trim()),n&&(e=Gi(e)),e}const rl={created(e,{modifiers:{lazy:t,trim:n,number:o}},s){e[Qn]=Ws(s);const r=o||s.props&&s.props.type==="number";En(e,t?"change":"input",i=>{i.target.composing||e[Qn](aa(e.value,n,r))}),(n||r)&&En(e,"change",()=>{e.value=aa(e.value,n,r)}),t||(En(e,"compositionstart",$h),En(e,"compositionend",la),En(e,"change",la))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:s,number:r}},i){if(e[Qn]=Ws(i),e.composing)return;const l=(r||e.type==="number")&&!/^0\d/.test(e.value)?Gi(e.value):e.value,a=t??"";l!==a&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||s&&e.value.trim()===a)||(e.value=a))}},kh={created(e,{value:t},n){e.checked=jo(t,n.props.value),e[Qn]=Ws(n),En(e,"change",()=>{e[Qn](Ah(e))})},beforeUpdate(e,{value:t,oldValue:n},o){e[Qn]=Ws(o),t!==n&&(e.checked=jo(t,o.props.value))}};function Ah(e){return"_value"in e?e._value:e.value}const Dh=["ctrl","shift","alt","meta"],Oh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Dh.some(n=>e[`${n}Key`]&&!t.includes(n))},ut=(e,t)=>{if(!e)return e;const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=((s,...r)=>{for(let i=0;i<t.length;i++){const l=Oh[t[i]];if(l&&l(s,t))return}return e(s,...r)}))},Ph={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},_r=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=(s=>{if(!("key"in s))return;const r=vn(s.key);if(t.some(i=>i===r||Ph[i]===r))return e(s)}))},Rh=Ye({patchProp:_h},rh);let ua;function Lh(){return ua||(ua=Fp(Rh))}const Bh=((...e)=>{const t=Lh().createApp(...e),{mount:n}=t;return t.mount=o=>{const s=Vh(o);if(!s)return;const r=t._component;!ye(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const i=n(s,!1,Fh(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},t});function Fh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Vh(e){return je(e)?document.querySelector(e):e}let Pc;const Sr=e=>Pc=e,Rc=Symbol();function Si(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Bo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Bo||(Bo={}));function zh(){const e=dr(!0),t=e.run(()=>we({}));let n=[],o=[];const s=hn({install(r){Sr(s),s._a=r,r.provide(Rc,s),r.config.globalProperties.$pinia=s,o.forEach(i=>n.push(i)),o=[]},use(r){return this._a?n.push(r):o.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Lc=()=>{};function ca(e,t,n,o=Lc){e.add(t);const s=()=>{e.delete(t)&&o()};return!n&&fr()&&ko(s),s}function Vn(e,...t){e.forEach(n=>{n(...t)})}const Hh=e=>e(),da=Symbol(),Yr=Symbol();function Ci(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],s=e[n];Si(s)&&Si(o)&&e.hasOwnProperty(n)&&!Fe(o)&&!Jt(o)?e[n]=Ci(s,o):e[n]=o}return e}const jh=Symbol();function Uh(e){return!Si(e)||!Object.prototype.hasOwnProperty.call(e,jh)}const{assign:un}=Object;function Gh(e){return!!(Fe(e)&&e.effect)}function Yh(e,t,n,o){const{state:s,actions:r,getters:i}=t,l=n.state.value[e];let a;function u(){l||(n.state.value[e]=s?s():{});const c=Bu(n.state.value[e]);return un(c,r,Object.keys(i||{}).reduce((f,g)=>(f[g]=hn(ne(()=>{Sr(n);const b=n._s.get(e);return i[g].call(b,b)})),f),{}))}return a=Bc(e,u,t,n,o,!0),a}function Bc(e,t,n={},o,s,r){let i;const l=un({actions:{}},n),a={deep:!0};let u,c,f=new Set,g=new Set,b;const I=o.state.value[e];!r&&!I&&(o.state.value[e]={});let S;function k(H){let L;u=c=!1,typeof H=="function"?(H(o.state.value[e]),L={type:Bo.patchFunction,storeId:e,events:b}):(Ci(o.state.value[e],H),L={type:Bo.patchObject,payload:H,storeId:e,events:b});const Y=S=Symbol();dt().then(()=>{S===Y&&(u=!0)}),c=!0,Vn(f,L,o.state.value[e])}const D=r?function(){const{state:L}=n,Y=L?L():{};this.$patch(G=>{un(G,Y)})}:Lc;function N(){i.stop(),f.clear(),g.clear(),o._s.delete(e)}const m=(H,L="")=>{if(da in H)return H[Yr]=L,H;const Y=function(){Sr(o);const G=Array.from(arguments),T=new Set,q=new Set;function x(p){T.add(p)}function A(p){q.add(p)}Vn(g,{args:G,name:Y[Yr],store:O,after:x,onError:A});let d;try{d=H.apply(this&&this.$id===e?this:O,G)}catch(p){throw Vn(q,p),p}return d instanceof Promise?d.then(p=>(Vn(T,p),p)).catch(p=>(Vn(q,p),Promise.reject(p))):(Vn(T,d),d)};return Y[da]=!0,Y[Yr]=L,Y},w={_p:o,$id:e,$onAction:ca.bind(null,g),$patch:k,$reset:D,$subscribe(H,L={}){const Y=ca(f,H,L.detached,()=>G()),G=i.run(()=>_e(()=>o.state.value[e],T=>{(L.flush==="sync"?c:u)&&H({storeId:e,type:Bo.direct,events:b},T)},un({},a,L)));return Y},$dispose:N},O=rs(w);o._s.set(e,O);const W=(o._a&&o._a.runWithContext||Hh)(()=>o._e.run(()=>(i=dr()).run(()=>t({action:m}))));for(const H in W){const L=W[H];if(Fe(L)&&!Gh(L)||Jt(L))r||(I&&Uh(L)&&(Fe(L)?L.value=I[H]:Ci(L,I[H])),o.state.value[e][H]=L);else if(typeof L=="function"){const Y=m(L,H);W[H]=Y,l.actions[H]=L}}return un(O,W),un(Te(O),W),Object.defineProperty(O,"$state",{get:()=>o.state.value[e],set:H=>{k(L=>{un(L,H)})}}),o._p.forEach(H=>{un(O,i.run(()=>H({store:O,app:o._a,pinia:o,options:l})))}),I&&r&&n.hydrate&&n.hydrate(O.$state,I),u=!0,c=!0,O}function Fc(e,t,n){let o;const s=typeof t=="function";o=s?n:t;function r(i,l){const a=Zf();return i=i||(a?wt(Rc,null):null),i&&Sr(i),i=Pc,i._s.has(e)||(s?Bc(e,t,o,i):Yh(e,o,i)),i._s.get(e)}return r.$id=e,r}const Kh=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Wh=Object.prototype.toString,Xh=e=>Wh.call(e)==="[object Object]",qh=()=>{};function Zh(...e){if(e.length!==1)return Pe(...e);const t=e[0];return typeof t=="function"?oo(Lu(()=>({get:t,set:qh}))):we(t)}function Jh(e,t){function n(...o){return new Promise((s,r)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(s).catch(r)})}return n}const Vc=e=>e();function Qh(e=Vc,t={}){const{initialState:n="active"}=t,o=Zh(n==="active");function s(){o.value=!1}function r(){o.value=!0}return{isActive:oo(o),pause:s,resume:r,eventFilter:(...l)=>{o.value&&e(...l)}}}function Kr(e){return Array.isArray(e)?e:[e]}function eg(e){return Et()}function tg(e,t,n={}){const{eventFilter:o=Vc,...s}=n;return _e(e,Jh(o,t),s)}function ng(e,t,n={}){const{eventFilter:o,initialState:s="active",...r}=n,{eventFilter:i,pause:l,resume:a,isActive:u}=Qh(o,{initialState:s});return{stop:tg(e,t,{...r,eventFilter:i}),pause:l,resume:a,isActive:u}}function og(e,t=!0,n){eg()?at(e,n):t?e():dt(e)}function sg(e,t,n){return _e(e,t,{...n,immediate:!0})}const Io=Kh?window:void 0;function rg(e){var t;const n=xe(e);return(t=n?.$el)!==null&&t!==void 0?t:n}function fa(...e){const t=(o,s,r,i)=>(o.addEventListener(s,r,i),()=>o.removeEventListener(s,r,i)),n=ne(()=>{const o=Kr(xe(e[0])).filter(s=>s!=null);return o.every(s=>typeof s!="string")?o:void 0});return sg(()=>{var o,s;return[(o=(s=n.value)===null||s===void 0?void 0:s.map(r=>rg(r)))!==null&&o!==void 0?o:[Io].filter(r=>r!=null),Kr(xe(n.value?e[1]:e[0])),Kr(V(n.value?e[2]:e[1])),xe(n.value?e[3]:e[2])]},([o,s,r,i],l,a)=>{if(!o?.length||!s?.length||!r?.length)return;const u=Xh(i)?{...i}:i,c=o.flatMap(f=>s.flatMap(g=>r.map(b=>t(f,g,b,u))));a(()=>{c.forEach(f=>f())})},{flush:"post"})}const gs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ms="__vueuse_ssr_handlers__",ig=lg();function lg(){return ms in gs||(gs[ms]=gs[ms]||{}),gs[ms]}function ag(e,t){return ig[e]||t}function ug(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const cg={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},pa="vueuse-storage";function dg(e,t,n,o={}){var s;const{flush:r="pre",deep:i=!0,listenToStorageChanges:l=!0,writeDefaults:a=!0,mergeDefaults:u=!1,shallow:c,window:f=Io,eventFilter:g,onError:b=x=>{console.error(x)},initOnMounted:I}=o,S=(c?Wt:we)(typeof t=="function"?t():t),k=ne(()=>xe(e));if(!n)try{n=ag("getDefaultStorage",()=>Io?.localStorage)()}catch(x){b(x)}if(!n)return S;const D=xe(t),N=ug(D),m=(s=o.serializer)!==null&&s!==void 0?s:cg[N],{pause:w,resume:O}=ng(S,x=>Y(x),{flush:r,deep:i,eventFilter:g});_e(k,()=>T(),{flush:r});let R=!1;const W=x=>{I&&!R||T(x)},H=x=>{I&&!R||q(x)};f&&l&&(n instanceof Storage?fa(f,"storage",W,{passive:!0}):fa(f,pa,H)),I?og(()=>{R=!0,T()}):T();function L(x,A){if(f){const d={key:k.value,oldValue:x,newValue:A,storageArea:n};f.dispatchEvent(n instanceof Storage?new StorageEvent("storage",d):new CustomEvent(pa,{detail:d}))}}function Y(x){try{const A=n.getItem(k.value);if(x==null)L(A,null),n.removeItem(k.value);else{const d=m.write(x);A!==d&&(n.setItem(k.value,d),L(A,d))}}catch(A){b(A)}}function G(x){const A=x?x.newValue:n.getItem(k.value);if(A==null)return a&&D!=null&&n.setItem(k.value,m.write(D)),D;if(!x&&u){const d=m.read(A);return typeof u=="function"?u(d,D):N==="object"&&!Array.isArray(d)?{...D,...d}:d}else return typeof A!="string"?A:m.read(A)}function T(x){if(!(x&&x.storageArea!==n)){if(x&&x.key==null){S.value=D;return}if(!(x&&x.key!==k.value)){w();try{const A=m.write(S.value);(x===void 0||x?.newValue!==A)&&(S.value=G(x))}catch(A){b(A)}finally{x?dt(O):O()}}}}function q(x){T(x.detail)}return S}const ho=Fc("ui",{state:()=>({modal:{isOpen:!1,kind:"alert",title:"Notice",message:"",confirmText:"OK",cancelText:"Cancel",inputValue:"",inputPlaceholder:"",inputRequired:!1,resolve:null},toasts:[]}),actions:{showToast(e,t="info",n=2600){const o=`toast-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;this.toasts.push({id:o,message:e,type:t}),setTimeout(()=>{this.removeToast(o)},n)},removeToast(e){this.toasts=this.toasts.filter(t=>t.id!==e)},closeModal(){this.modal.isOpen=!1,this.modal.resolve=null},resolveModal(e){typeof this.modal.resolve=="function"&&this.modal.resolve(e),this.closeModal()},openAlert({title:e="Notice",message:t="",confirmText:n="OK"}={}){return new Promise(o=>{this.modal={...this.modal,isOpen:!0,kind:"alert",title:e,message:t,confirmText:n,cancelText:"Cancel",inputValue:"",inputPlaceholder:"",inputRequired:!1,resolve:o}})},openConfirm({title:e="Confirm",message:t="",confirmText:n="Confirm",cancelText:o="Cancel"}={}){return new Promise(s=>{this.modal={...this.modal,isOpen:!0,kind:"confirm",title:e,message:t,confirmText:n,cancelText:o,inputValue:"",inputPlaceholder:"",inputRequired:!1,resolve:s}})},openPrompt({title:e="Input Needed",message:t="",confirmText:n="Save",cancelText:o="Cancel",placeholder:s="",value:r="",required:i=!1}={}){return new Promise(l=>{this.modal={...this.modal,isOpen:!0,kind:"prompt",title:e,message:t,confirmText:n,cancelText:o,inputValue:r,inputPlaceholder:s,inputRequired:i,resolve:l}})},setModalInputValue(e){this.modal.inputValue=e}}}),de={MONGODB:"MongoDB",MYSQL:"MySQL",POSTGRESQL:"PostgreSQL"},fg={[de.MONGODB]:["String","Number","ObjectId","Date","Boolean","Array","Object","Map","Buffer","Mixed"],[de.MYSQL]:["INT","BIGINT","TINYINT","SMALLINT","DECIMAL","FLOAT","DOUBLE","VARCHAR","TEXT","CHAR","LONGTEXT","DATE","DATETIME","TIMESTAMP","TIME","YEAR","BOOLEAN","JSON","ENUM","BLOB"],[de.POSTGRESQL]:["INT","BIGINT","SMALLINT","DECIMAL","REAL","DOUBLE PRECISION","SERIAL","BIGSERIAL","VARCHAR","TEXT","CHAR","DATE","TIMESTAMP","TIME","INTERVAL","BOOLEAN","JSON","JSONB","UUID","BYTEA","XML"]},il={[de.MONGODB]:{name:"_id",type:"ObjectId",key:!0},[de.MYSQL]:{name:"id",type:"INT",primaryKey:!0,autoIncrement:!0},[de.POSTGRESQL]:{name:"id",type:"SERIAL",primaryKey:!0}},zc="mongo-architect-schema";let Wr=!1;const pg=e=>{if(typeof window>"u")return;const t={databases:e.databases,activeDatabaseId:e.activeDatabaseId,collections:e.collections,edges:e.edges,selectedItemId:e.selectedItemId,selectedItemType:e.selectedItemType,selectedCollectionId:e.selectedCollectionId,clipboard:e.clipboard};try{return window.localStorage.setItem(zc,JSON.stringify(t)),{ok:!0}}catch(n){return{ok:!1,error:n}}},hg=e=>{if(!e)return!1;if(e?.name==="QuotaExceededError"||e?.code===22||e?.code===1014)return!0;const t=String(e?.message||"").toLowerCase();return t.includes("quota")||t.includes("storage")},Hc=(e,t)=>{const n=Number.parseInt(e??"",10);return Number.isFinite(n)&&n>0?n:t},Xr=Hc("100",100),gg=Hc("600000",1e3*60*10),Ne={past:[],future:[],isRestoring:!1},xo=e=>{const t=Date.now()-gg;return e.filter(n=>n.createdAt>=t)},Wn=(e,t)=>{for(const n of e){if(n.id===t)return{field:n,list:e};if(n.children&&n.children.length>0){const o=Wn(n.children,t);if(o)return o}}return null},ha=(e,t)=>!e||!t?!1:!!Wn(e.data?.fields||[],t),Ei=e=>e&&typeof e=="object"&&e.__raw?e.__raw:Array.isArray(e)?`[${e.map(t=>Ei(t)).join(", ")}]`:e&&typeof e=="object"?`{ ${Object.entries(e).map(([n,o])=>`${n}: ${Ei(o)}`).join(", ")} }`:JSON.stringify(e),qr=e=>e==="ObjectId"?"Schema.Types.ObjectId":e,rt=e=>{if(e===!0||e===!1)return e;if(e==="true")return!0;if(e==="false")return!1},zn=e=>{if(e===""||e===null||e===void 0)return;const t=Number(e);return Number.isFinite(t)?t:void 0},mg=e=>{const t=[];t.push(`type: ${qr(e.type)}`),e.ref&&e.type==="ObjectId"&&t.push(`ref: ${JSON.stringify(e.ref)}`),e.required&&t.push("required: true"),e.unique&&t.push("unique: true"),e.index&&t.push("index: true"),e.sparse&&t.push("sparse: true"),e.immutable&&t.push("immutable: true"),typeof e.alias=="string"&&e.alias.trim()&&t.push(`alias: ${JSON.stringify(e.alias.trim())}`);const n=rt(e.selectMode);if(typeof n=="boolean"&&t.push(`select: ${n}`),e.type==="String"){e.trim&&t.push("trim: true"),e.lowercase&&t.push("lowercase: true"),e.uppercase&&t.push("uppercase: true");const o=zn(e.minLength);typeof o=="number"&&o>=0&&t.push(`minLength: ${o}`);const s=zn(e.maxLength);typeof s=="number"&&s>=0&&t.push(`maxLength: ${s}`);const r=String(e.matchPattern||"").trim();if(r){const a=String(e.matchFlags||"");t.push(`match: new RegExp(${JSON.stringify(r)}, ${JSON.stringify(a)})`)}const i=Array.isArray(e.enumValues)?e.enumValues.filter(a=>String(a).trim().length>0).map(a=>String(a).trim()):[];i.length>0&&t.push(`enum: ${Ei(i)}`);const l=String(e.defaultString??"").trim();l&&t.push(`default: ${JSON.stringify(l)}`)}if(e.type==="Number"){const o=zn(e.min);typeof o=="number"&&t.push(`min: ${o}`);const s=zn(e.max);typeof s=="number"&&t.push(`max: ${s}`);const r=zn(e.defaultNumber);typeof r=="number"&&t.push(`default: ${r}`)}if(e.type==="Boolean"){const o=rt(e.defaultBooleanMode);typeof o=="boolean"&&t.push(`default: ${o}`)}if(e.type==="Date"){const o=e.defaultDateMode;if(o==="now")t.push("default: Date.now");else if(o==="custom"){const l=String(e.defaultDateValue||"").trim();l&&t.push(`default: new Date(${JSON.stringify(l)})`)}const s=String(e.minDate||"").trim();s&&t.push(`min: new Date(${JSON.stringify(s)})`);const r=String(e.maxDate||"").trim();r&&t.push(`max: new Date(${JSON.stringify(r)})`);const i=zn(e.expiresSeconds);typeof i=="number"&&i>=0&&t.push(`expires: ${i}`)}if(e.type==="ObjectId"){const o=String(e.defaultObjectId||"").trim();o&&t.push(`default: ${JSON.stringify(o)}`)}if(e.type==="Map"){const o=String(e.mapOfType||"").trim();o&&t.push(`of: ${qr(o)}`)}if(e.type==="Array"){const o=String(e.arrayOfType||"").trim();o&&t.push(`of: ${qr(o)}`)}return t},Fo=(e,t=1)=>{let n="";const o="  ".repeat(t);return e.forEach(s=>{if(s.name==="_id")return;if(s.children&&s.children.length>0){s.type==="Array"?(n+=`${o}${s.name}: [{
`,n+=Fo(s.children,t+1),n+=`${o}}],
`):(n+=`${o}${s.name}: {
`,n+=Fo(s.children,t+1),n+=`${o}},
`);return}const r=mg(s);n+=`${o}${s.name}: { ${r.join(", ")} },
`}),n},Zr=(e={})=>{const t={};e.timestampsEnabled&&(e.createdAtName||e.updatedAtName?(t.timestamps={},e.createdAtName&&(t.timestamps.createdAt=e.createdAtName),e.updatedAtName&&(t.timestamps.updatedAt=e.updatedAtName)):t.timestamps=!0);const n=String(e.schemaCollectionName||"").trim();n&&(t.collection=n);const o=e.schemaStrictMode;if(o==="throw")t.strict="throw";else{const m=rt(o);typeof m=="boolean"&&(t.strict=m)}const s=rt(e.schemaStrictQueryMode);typeof s=="boolean"&&(t.strictQuery=s);const r=rt(e.schemaAutoIndexMode);typeof r=="boolean"&&(t.autoIndex=r);const i=rt(e.schemaAutoCreateMode);typeof i=="boolean"&&(t.autoCreate=i);const l=rt(e.schemaIdVirtualMode);typeof l=="boolean"&&(t.id=l);const a=rt(e.schemaUnderscoreIdMode);typeof a=="boolean"&&(t._id=a);const u=rt(e.schemaMinimizeMode);typeof u=="boolean"&&(t.minimize=u);const c=rt(e.schemaSkipVersioningMode);typeof c=="boolean"&&(t.skipVersioning=c);const f=rt(e.schemaOptimisticConcurrencyMode);typeof f=="boolean"&&(t.optimisticConcurrency=f);const g=e.schemaVersionKeyMode;if(g==="disable")t.versionKey=!1;else if(g==="custom"){const m=String(e.schemaVersionKeyName||"").trim();m&&(t.versionKey=m)}if(e.schemaCappedEnabled){const m={},w=Number(e.schemaCappedSize||0),O=Number(e.schemaCappedMax||0),R=rt(e.schemaCappedAutoIndexIdMode);w>0&&(m.size=w),O>0&&(m.max=O),typeof R=="boolean"&&(m.autoIndexId=R),Object.keys(m).length>0?t.capped=m:t.capped=!0}const b=String(e.schemaReadPreference||"").trim();b&&(t.read=b);const I={},S=String(e.schemaWriteConcernW||"").trim(),k=rt(e.schemaWriteConcernJMode),D=Number(e.schemaWriteConcernWtimeout||0);if(S){const m=Number(S);I.w=Number.isFinite(m)&&S!==""?m:S}typeof k=="boolean"&&(I.j=k),D>0&&(I.wtimeout=D),Object.keys(I).length>0&&(t.writeConcern=I);const N=String(e.schemaCollationLocale||"").trim();if(N){const m={locale:N},w=Number(e.schemaCollationStrength||0),O=rt(e.schemaCollationCaseLevelMode),R=String(e.schemaCollationCaseFirst||"").trim(),W=rt(e.schemaCollationNumericOrderingMode);w>=1&&w<=5&&(m.strength=w),typeof O=="boolean"&&(m.caseLevel=O),R&&(m.caseFirst=R),typeof W=="boolean"&&(m.numericOrdering=W),t.collation=m}return t},Jr=e=>Object.keys(e).length>0?`, ${JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")}`:"",vg=1,yg=new Set(Object.values(de)),wo=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),bg=(e=[])=>e.map(t=>{const n=JSON.parse(JSON.stringify(t));return delete n.selected,n}),xg=(e=[])=>e.map(t=>{const n=JSON.parse(JSON.stringify(t));return delete n.selected,n}),wg=e=>{if(!wo(e))return{ok:!1,message:"Invalid project file structure: root must be an object."};if(!Array.isArray(e.databases)||e.databases.length===0)return{ok:!1,message:"Invalid project file structure: databases is required and must be a non-empty array."};if(!Array.isArray(e.collections)||!Array.isArray(e.edges))return{ok:!1,message:"Invalid project file structure: collections and edges must be arrays."};const t=new Set;for(const n of e.databases){if(!wo(n)||typeof n.id!="string"||!n.id.trim())return{ok:!1,message:"Invalid project file structure: each database must have a valid id."};if(typeof n.name!="string"||!n.name.trim())return{ok:!1,message:"Invalid project file structure: each database must have a valid name."};if(n.type&&!yg.has(n.type))return{ok:!1,message:`Invalid database type "${n.type}".`};t.add(n.id)}if(e.activeDatabaseId&&!t.has(e.activeDatabaseId))return{ok:!1,message:"Invalid project file structure: activeDatabaseId must exist in databases."};for(const n of e.collections){if(!wo(n)||typeof n.id!="string"||!n.id.trim())return{ok:!1,message:"Invalid project file structure: each collection must have a valid id."};if(!wo(n.data)||!Array.isArray(n.data.fields))return{ok:!1,message:"Invalid project file structure: each collection must include data.fields array."};if(n.databaseId&&!t.has(n.databaseId))return{ok:!1,message:`Invalid project file structure: collection "${n.id}" references unknown databaseId.`}}for(const n of e.edges){if(!wo(n)||typeof n.id!="string"||!n.id.trim())return{ok:!1,message:"Invalid project file structure: each edge must have a valid id."};if(typeof n.source!="string"||typeof n.target!="string")return{ok:!1,message:`Invalid project file structure: edge "${n.id}" must include source and target.`};if(n.databaseId&&!t.has(n.databaseId))return{ok:!1,message:`Invalid project file structure: edge "${n.id}" references unknown databaseId.`}}return{ok:!0}},bn=Fc("schema",{state:()=>dg(zc,{databases:[{id:"db-main",name:"MainDB"}],activeDatabaseId:"db-main",collections:[{id:"1",databaseId:"db-main",type:"collection",position:{x:250,y:5},data:{label:"Users",fields:[{id:"f1",name:"_id",type:"ObjectId",key:!0},{id:"f2",name:"username",type:"String"},{id:"f3",name:"email",type:"String"},{id:"f-addr",name:"address",type:"Object",children:[{id:"f-city",name:"city",type:"String"},{id:"f-zip",name:"zip",type:"Number"}]}]}},{id:"2",databaseId:"db-main",type:"collection",position:{x:100,y:250},data:{label:"Posts",fields:[{id:"f4",name:"_id",type:"ObjectId",key:!0},{id:"f5",name:"title",type:"String"},{id:"f6",name:"author_id",type:"ObjectId",ref:"Users"}]}}],edges:[{id:"e1-2",databaseId:"db-main",source:"1",target:"2",sourceHandle:"f1",targetHandle:"f6",animated:!0,style:{stroke:"#10b981"}}],selectedItemId:null,selectedItemType:null,selectedCollectionId:null,clipboard:null,canUndo:!1,canRedo:!1,isDirty:!1}),getters:{activeDatabase:e=>e.databases.find(t=>t.id===e.activeDatabaseId)||null,activeCollections:e=>e.collections.filter(t=>t.databaseId===e.activeDatabaseId),activeEdges:e=>e.edges.filter(t=>t.databaseId===e.activeDatabaseId),selectedItem:e=>{if(!e.selectedItemId)return null;if(e.selectedItemType==="collection")return e.collections.find(t=>t.id===e.selectedItemId);if(e.selectedItemType==="field"&&e.selectedCollectionId){const t=e.collections.find(n=>n.id===e.selectedCollectionId);if(t){const n=Wn(t.data.fields,e.selectedItemId);return n?n.field:null}}return null},getCollectionCode:e=>t=>{const n=e.collections.find(r=>r.id===t);if(!n)return"";let o=`const mongoose = require('mongoose');
const { Schema } = mongoose;

`;const s=Jr(Zr(n.data));return o+=`const ${n.data.label}Schema = new Schema({
`,o+=Fo(n.data.fields),o+=`}${s});

`,o+=`const ${n.data.label} = mongoose.model('${n.data.label}', ${n.data.label}Schema);

`,o},activeDatabaseType:e=>e.databases.find(n=>n.id===e.activeDatabaseId)?.type||de.MONGODB,mongooseSchemaCode:e=>{let t=`const mongoose = require('mongoose');
const { Schema } = mongoose;

`;return e.collections.filter(n=>n.databaseId===e.activeDatabaseId).forEach(n=>{const o=Jr(Zr(n.data));t+=`const ${n.data.label}Schema = new Schema({
`,t+=Fo(n.data.fields),t+=`}${o});

`,t+=`const ${n.data.label} = mongoose.model('${n.data.label}', ${n.data.label}Schema);

`}),t},getCollectionsCode:e=>(t=[])=>{if(!Array.isArray(t)||t.length===0)return"";const n=new Set(t);let o=`const mongoose = require('mongoose');
const { Schema } = mongoose;

`;return e.collections.filter(s=>n.has(s.id)).forEach(s=>{const r=Jr(Zr(s.data));o+=`const ${s.data.label}Schema = new Schema({
`,o+=Fo(s.data.fields),o+=`}${r});

`,o+=`const ${s.data.label} = mongoose.model('${s.data.label}', ${s.data.label}Schema);

`}),o}},actions:{pruneInvalidEdges(e=null){const t=e?this.collections.filter(s=>s.databaseId===e):this.collections,n=new Map(t.map(s=>[s.id,s])),o=this.edges.filter(s=>{if(e&&s.databaseId!==e)return!0;const r=n.get(s.source),i=n.get(s.target);return!(!r||!i||s.sourceHandle&&!ha(r,s.sourceHandle)||s.targetHandle&&!ha(i,s.targetHandle))});o.length===this.edges.length&&o.every((s,r)=>s===this.edges[r])||(this.edges=o)},persistState(){const e=pg(this);if(e?.ok)return Wr=!1,!0;if(hg(e?.error)&&!Wr){Wr=!0;const t=ho();t.openAlert({title:"Storage Full",message:"Browser local storage is full. Please export your current project now to avoid data loss, then remove old data/import only what you need.",confirmText:"I Understand"}),t.showToast("Storage full. Export your project now.","error",5e3)}return!1},initializeDatabases(){(!Array.isArray(this.databases)||this.databases.length===0)&&(this.databases=[{id:"db-main",name:"MainDB"}]),(!this.activeDatabaseId||!this.databases.some(n=>n.id===this.activeDatabaseId))&&(this.activeDatabaseId=this.databases[0].id);const e=new Set(this.databases.map(n=>n.id)),t=this.activeDatabaseId;this.collections.forEach(n=>{(!n.databaseId||!e.has(n.databaseId))&&(n.databaseId=t)}),this.databases.forEach(n=>{n.type||(n.type=de.MONGODB)}),this.edges.forEach(n=>{if(!n.databaseId||!e.has(n.databaseId)){const o=this.collections.find(s=>s.id===n.source);n.databaseId=o?.databaseId||t}}),this.pruneInvalidEdges(),this.persistState()},addDatabase(e="New Database",t=de.MONGODB){const n=`db-${Date.now()}`;return this.databases.push({id:n,name:String(e).trim()||"New Database",type:t}),this.activeDatabaseId=n,this.clearSelections(),n},setActiveDatabase(e){this.databases.some(t=>t.id===e)&&(this.activeDatabaseId=e,this.pruneInvalidEdges(e),this.clearSelections())},updateDatabaseName(e,t){const n=this.databases.find(o=>o.id===e);n&&(n.name=String(t).trim()||n.name,this.persistState())},removeDatabase(e){return this.databases.length<=1?{success:!1,message:"At least one database is required."}:this.databases.some(n=>n.id===e)?(this.recordHistory(),this.databases=this.databases.filter(n=>n.id!==e),this.collections=this.collections.filter(n=>n.databaseId!==e),this.edges=this.edges.filter(n=>n.databaseId!==e),this.activeDatabaseId===e&&(this.activeDatabaseId=this.databases[0].id),this.clearSelections(),this.syncHistoryState(),{success:!0}):{success:!1,message:"Database not found."}},syncHistoryState(){Ne.past=xo(Ne.past),Ne.future=xo(Ne.future),this.canUndo=Ne.past.length>0,this.canRedo=Ne.future.length>0,this.isDirty=this.canUndo||this.canRedo,this.persistState()},initializeHistory(){Ne.past=[],Ne.future=[],Ne.isRestoring=!1,this.syncHistoryState()},getHistorySnapshot(){return JSON.stringify({databases:this.databases,activeDatabaseId:this.activeDatabaseId,collections:this.collections,edges:this.edges})},applyHistorySnapshot(e){const t=JSON.parse(e);this.databases=t.databases||this.databases,this.activeDatabaseId=t.activeDatabaseId||this.activeDatabaseId,this.collections=t.collections||[],this.edges=t.edges||[],this.initializeDatabases(),this.selectItem(null,null,null)},recordHistory(){if(Ne.isRestoring)return;const e=this.getHistorySnapshot();Ne.past[Ne.past.length-1]?.snapshot!==e&&(Ne.past=xo(Ne.past),Ne.past.push({snapshot:e,createdAt:Date.now()}),Ne.past.length>Xr&&Ne.past.shift(),Ne.future=[],this.syncHistoryState())},undo(){if(!Ne.past.length)return!1;const e=this.getHistorySnapshot(),t=Ne.past.pop()?.snapshot;return t?(Ne.future=xo(Ne.future),Ne.future.push({snapshot:e,createdAt:Date.now()}),Ne.future.length>Xr&&Ne.future.shift(),Ne.isRestoring=!0,this.applyHistorySnapshot(t),Ne.isRestoring=!1,this.syncHistoryState(),!0):!1},redo(){if(!Ne.future.length)return!1;const e=this.getHistorySnapshot(),t=Ne.future.pop()?.snapshot;return t?(Ne.past=xo(Ne.past),Ne.past.push({snapshot:e,createdAt:Date.now()}),Ne.past.length>Xr&&Ne.past.shift(),Ne.isRestoring=!0,this.applyHistorySnapshot(t),Ne.isRestoring=!1,this.syncHistoryState(),!0):!1},clearSelections(){this.collections.forEach(e=>{e.selected=!1}),this.edges.forEach(e=>{e.selected=!1}),this.selectItem(null,null,null),this.syncHistoryState()},setCollectionSelection(e,t=!1){const n=this.collections.find(i=>i.id===e);if(!n||n.databaseId!==this.activeDatabaseId)return;if(!t){this.collections.forEach(i=>{i.selected=i.id===e}),this.edges.forEach(i=>{i.selected=!1}),this.selectItem(e,"collection");return}const o=this.collections.filter(i=>i.selected&&i.databaseId===this.activeDatabaseId);if(n.selected&&o.length===1){this.selectItem(n.id,"collection");return}n.selected=!n.selected;const r=this.collections.filter(i=>i.selected&&i.databaseId===this.activeDatabaseId);r.length===1?this.selectItem(r[0].id,"collection"):this.selectItem(null,null,null)},exportProject(){return JSON.stringify({version:vg,exportedAt:new Date().toISOString(),databases:this.databases,activeDatabaseId:this.activeDatabaseId,collections:bg(this.collections),edges:xg(this.edges)},null,2)},importProject(e){let t;try{t=typeof e=="string"?JSON.parse(e):e}catch{return{success:!1,message:"Invalid JSON format."}}const n=wg(t);return n.ok?(this.recordHistory(),Array.isArray(t.databases)&&t.databases.length>0&&(this.databases=t.databases),this.collections=t.collections,this.edges=t.edges,this.activeDatabaseId=t.activeDatabaseId||this.databases[0]?.id||"db-main",this.initializeDatabases(),this.pruneInvalidEdges(),this.selectItem(null,null,null),this.clipboard=null,this.syncHistoryState(),{success:!0}):{success:!1,message:n.message||"Invalid project file structure."}},selectItem(e,t,n=null){this.selectedItemId=e,this.selectedItemType=t,this.selectedCollectionId=n},updateCollectionProps(e,t){const n=this.collections.find(o=>o.id===e);n&&(this.recordHistory(),Object.assign(n.data,t),this.syncHistoryState())},updateFieldProps(e,t,n){const o=this.collections.find(s=>s.id===e);if(o){const s=Wn(o.data.fields,t);s&&(this.recordHistory(),Object.assign(s.field,n),this.syncHistoryState())}},addCollection(e){this.recordHistory(),e.databaseId=e.databaseId||this.activeDatabaseId,this.collections.push(e),this.pruneInvalidEdges(e.databaseId),this.syncHistoryState()},updateCollectionPosition(e,t){const n=this.collections.findIndex(o=>o.id===e);n!==-1&&(this.recordHistory(),this.collections[n].position=t,this.syncHistoryState())},addField(e,t){const n=this.collections.find(o=>o.id===e);n&&(this.recordHistory(),n.data.fields.push(t),this.syncHistoryState())},addChildField(e,t,n){const o=this.collections.find(s=>s.id===e);if(o){const s=Wn(o.data.fields,t);s&&(this.recordHistory(),s.field.children||(s.field.children=[]),s.field.children.push(n),this.syncHistoryState())}},removeField(e,t){const n=this.collections.find(o=>o.id===e);if(n){this.recordHistory();const o=s=>{const r=s.findIndex(i=>i.id===t);if(r!==-1)return s.splice(r,1),!0;for(const i of s)if(i.children&&i.children.length>0&&o(i.children))return!0;return!1};o(n.data.fields),this.pruneInvalidEdges(n.databaseId),this.selectedItemId===t&&this.selectItem(null,null),this.syncHistoryState()}},removeCollection(e){this.recordHistory();const n=this.collections.find(o=>o.id===e)?.databaseId||this.activeDatabaseId;this.collections=this.collections.filter(o=>o.id!==e),this.edges=this.edges.filter(o=>o.source!==e&&o.target!==e),this.pruneInvalidEdges(n),this.selectedItemId===e&&this.selectItem(null,null),this.syncHistoryState()},removeCollections(e=[]){if(!Array.isArray(e)||e.length===0)return;this.recordHistory();const t=new Set(e),n=new Set(this.collections.filter(o=>t.has(o.id)).map(o=>o.databaseId));this.collections=this.collections.filter(o=>!t.has(o.id)),this.edges=this.edges.filter(o=>!t.has(o.source)&&!t.has(o.target)),n.forEach(o=>this.pruneInvalidEdges(o)),this.selectItem(null,null,null),this.syncHistoryState()},reorderField(e,t,n,o){const s=this.collections.find(i=>i.id===e);if(!s)return;let r=s.data.fields;if(t){const i=Wn(s.data.fields,t);if(i&&i.field.children)r=i.field.children;else return}if(o>=0&&o<r.length){this.recordHistory();const[i]=r.splice(n,1);r.splice(o,0,i),this.syncHistoryState()}},removeEdge(e){this.recordHistory(),this.edges=this.edges.filter(t=>t.id!==e),this.selectedItemId===e&&this.selectItem(null,null),this.syncHistoryState()},copyNode(e){const t=this.collections.find(n=>n.id===e);t&&(this.clipboard=JSON.parse(JSON.stringify(t)))},pasteNode(){if(!this.clipboard)return;this.recordHistory();const e=`col-${Date.now()}`,t=JSON.parse(JSON.stringify(this.clipboard));t.id=e,t.position={x:t.position.x+20,y:t.position.y+20};const n=o=>{o.forEach(s=>{s.id=`f-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,s.children&&n(s.children)})};n(t.data.fields),this.collections.push(t),this.selectItem(e,"collection"),this.syncHistoryState()}}});const _g=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const ga=e=>e==="";const Sg=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();const ma=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Cg=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,o)=>o?o.toUpperCase():n.toLowerCase());const Eg=e=>{const t=Cg(e);return t.charAt(0).toUpperCase()+t.slice(1)};var _o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const Ig=({name:e,iconNode:t,absoluteStrokeWidth:n,"absolute-stroke-width":o,strokeWidth:s,"stroke-width":r,size:i=_o.width,color:l=_o.stroke,...a},{slots:u})=>Me("svg",{..._o,...a,width:i,height:i,stroke:l,"stroke-width":ga(n)||ga(o)||n===!0||o===!0?Number(s||r||_o["stroke-width"])*24/Number(i):s||r||_o["stroke-width"],class:Sg("lucide",a.class,...e?[`lucide-${ma(Eg(e))}-icon`,`lucide-${ma(e)}`]:["lucide-icon"]),...!u.default&&!_g(a)&&{"aria-hidden":"true"}},[...t.map(c=>Me(...c)),...u.default?[u.default()]:[]]);const Ze=(e,t)=>(n,{slots:o,attrs:s})=>Me(Ig,{...s,...n,iconNode:t,name:e},o);const Ng=Ze("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const jc=Ze("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);const Uc=Ze("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Gc=Ze("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Yc=Ze("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);const Tg=Ze("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const Mg=Ze("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const $g=Ze("panel-left-close",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);const kg=Ze("panel-left-open",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);const Xs=Ze("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Ag=Ze("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);const Dg=Ze("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const Og=Ze("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);const $n=Ze("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const Pg=Ze("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);const Rg=Ze("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);const ll=Ze("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Lg={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"},Bg={class:"bg-[#1e1e1e] border border-gray-700 rounded-lg shadow-2xl w-full max-w-md overflow-hidden"},Fg={class:"px-6 py-4 border-b border-gray-700 flex justify-between items-center bg-[#252525]"},Vg={class:"p-6 space-y-4"},zg={class:"grid grid-cols-1 gap-2"},Hg=["value"],jg={class:"text-white text-sm"},Ug={class:"px-6 py-4 border-t border-gray-700 bg-[#252525] flex justify-end gap-3"},Gg={__name:"CreateDatabaseModal",props:{isOpen:Boolean},emits:["close","create"],setup(e,{emit:t}){const n=t,o=we("New Database"),s=we(de.MONGODB),r=()=>{o.value.trim()&&(n("create",{name:o.value,type:s.value}),o.value="New Database",s.value=de.MONGODB)};return(i,l)=>e.isOpen?(P(),U("div",Lg,[h("div",Bg,[h("div",Fg,[l[4]||(l[4]=h("h2",{class:"text-xl font-bold text-white"},"Create Database",-1)),h("button",{onClick:l[0]||(l[0]=a=>i.$emit("close")),class:"text-gray-400 hover:text-white transition-colors"},[se(V(ll),{size:20})])]),h("div",Vg,[h("div",null,[l[5]||(l[5]=h("label",{class:"block text-sm font-medium text-gray-300 mb-1"},"Database Name",-1)),ro(h("input",{"onUpdate:modelValue":l[1]||(l[1]=a=>o.value=a),type:"text",class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-3 py-2 text-white text-sm focus:border-emerald-500 focus:outline-none transition-colors",placeholder:"Enter database name",onKeyup:_r(r,["enter"])},null,544),[[rl,o.value]])]),h("div",null,[l[6]||(l[6]=h("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Database Type",-1)),h("div",zg,[(P(!0),U(ce,null,Ie(Object.values(V(de)),a=>(P(),U("label",{key:a,class:pe(["flex items-center gap-3 p-3 rounded border cursor-pointer hover:bg-[#2a2a2a] transition-all",s.value===a?"border-emerald-500 bg-[#2a2a2a]":"border-gray-700 bg-[#1e1e1e]"])},[ro(h("input",{type:"radio",name:"dbType",value:a,"onUpdate:modelValue":l[2]||(l[2]=u=>s.value=u),class:"text-emerald-500 focus:ring-emerald-500 bg-gray-700 border-gray-600"},null,8,Hg),[[kh,s.value]]),h("span",jg,he(a),1)],2))),128))])])]),h("div",Ug,[h("button",{onClick:l[3]||(l[3]=a=>i.$emit("close")),class:"px-4 py-2 rounded bg-gray-700 hover:bg-gray-600 text-white font-medium transition-colors text-sm"}," Cancel "),h("button",{onClick:r,class:"px-4 py-2 rounded bg-emerald-600 hover:bg-emerald-700 text-white font-medium transition-colors text-sm"}," Create Database ")])])])):fe("",!0)}},Pn=(e,t)=>{const o=String(e??"").normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/[^a-zA-Z0-9]+/g,"_").replace(/^_+|_+$/g,"").replace(/_+/g,"_").toLowerCase()||t;return/^[0-9]/.test(o)?`n_${o}`:o},As=(e,t)=>{if(!t.has(e))return t.add(e),e;let n=2,o=`${e}_${n}`;for(;t.has(o);)n+=1,o=`${e}_${n}`;return t.add(o),o},Ii=(e,t)=>{const n=String(e||"").trim();return Pn(n||t,t)},va=e=>{const t=String(e||"").trim().toUpperCase();return new Set(["CASCADE","RESTRICT","SET NULL","NO ACTION","SET DEFAULT"]).has(t)?t:""},Kc=e=>String(e||"").trim().toLowerCase(),Yg=(e,t)=>{if(!t){const i=String(e.referencesColumn||"").trim();return i?Pn(i,"id"):"id"}const n=t.columnsByFieldId.get(e.referencesColumnId);if(n)return n;const o=Kc(e.referencesColumn),s=t.columnsByFieldName.get(o);if(s)return s;const r=String(e.referencesColumn||"").trim();return r?Pn(r,"id"):"id"},ya=e=>String(e||"").trim().toLowerCase(),Wc=(e,t)=>{if(!e||!e.collections)return"";const n=e.collections.map(a=>Kg(a,t)).filter(Boolean),o=new Map;n.forEach(a=>{const u=ya(a.sourceLabel);o.has(u)||o.set(u,a)});const s=n.map(a=>a.createTableSql).filter(Boolean),r=n.flatMap(a=>a.indexStatements),i=new Set,l=n.flatMap(a=>a.foreignKeys.map((u,c)=>{const f=o.get(ya(u.referencesTable)),g=f?f.tableName:Pn(u.referencesTable,"reference_table"),b=Yg(u,f),I=Ii(u.constraintName,`fk_${a.tableName}_${u.columnName}_${c+1}`),S=As(I,i);let k=`ALTER TABLE ${a.tableName} ADD CONSTRAINT ${S} FOREIGN KEY (${u.columnName}) REFERENCES ${g} (${b})`;return u.onDelete&&(k+=` ON DELETE ${u.onDelete}`),u.onUpdate&&(k+=` ON UPDATE ${u.onUpdate}`),`${k};`}));return[...s,...r,...l].join(`

`)},Kg=(e,t)=>{const n=Pn(e?.data?.label,"untitled_table"),o=e?.data?.fields||[];if(o.length===0)return{sourceLabel:String(e?.data?.label||""),tableName:n,createTableSql:`-- Table ${n} has no fields`,indexStatements:[],foreignKeys:[],columnsByFieldId:new Map,columnsByFieldName:new Map};const s=[],r=[],i=new Set,l=[],a=[],u=[],c=new Set,f=new Set,g=new Map,b=new Map;o.forEach((S,k)=>{const D=Pn(S?.name,`column_${k+1}`),N=As(D,i),m=Wg(S,t,N);s.push(m),g.set(S.id,N);const w=Kc(S.name);w&&!b.has(w)&&b.set(w,N),S.primaryKey&&r.push(N),S.foreignKey&&S.referencesTable&&(S.referencesColumn||S.referencesColumnId)&&u.push({columnName:N,referencesTable:S.referencesTable,referencesColumn:S.referencesColumn,referencesColumnId:S.referencesColumnId,constraintName:S.fkConstraintName,onDelete:va(S.onDelete),onUpdate:va(S.onUpdate)});const O=String(S.checkExpression||"").trim();if(O){const R=String(S.checkConstraintName||"").trim().length>0,W=Ii(S.checkConstraintName,`chk_${n}_${N}`);let H=`CHECK (${O})`;R&&(H=`CONSTRAINT ${As(W,f)} ${H}`),l.push(H)}if(S.index&&!S.primaryKey&&!S.unique){const R=Ii(S.indexName,`idx_${n}_${N}`),W=As(R,c);a.push(`CREATE INDEX ${W} ON ${n} (${N});`)}}),r.length>0&&s.push(`PRIMARY KEY (${r.join(", ")})`);const I=`CREATE TABLE ${n} (
${[...s,...l].map(S=>"  "+S).join(`,
`)}
);`;return{sourceLabel:String(e?.data?.label||""),tableName:n,createTableSql:I,indexStatements:a,foreignKeys:u,columnsByFieldId:g,columnsByFieldName:b}},Wg=(e,t,n)=>{const o=n||Pn(e?.name,"column"),s=Xg(e,t);let r=`${o} ${s}`;if(e.unsigned&&t===de.MYSQL&&qg(s)&&(r+=" UNSIGNED"),!e.nullable&&!e.primaryKey&&(r+=" NOT NULL"),e.autoIncrement&&(t===de.MYSQL?r+=" AUTO_INCREMENT":t===de.POSTGRESQL&&(r+=" GENERATED BY DEFAULT AS IDENTITY")),e.unique&&(r+=" UNIQUE"),e.defaultValue!==void 0&&e.defaultValue!==null&&e.defaultValue!==""){const i=Zg(e.defaultValue);r+=` DEFAULT ${i}`}return r},Xg=(e,t)=>{const n=e.type,o=e.typeParams?`(${e.typeParams})`:"";if(["VARCHAR","CHAR","TEXT","LONGTEXT","INT","BIGINT","TINYINT","SMALLINT","DECIMAL","FLOAT","DOUBLE","REAL","DOUBLE PRECISION","SERIAL","BIGSERIAL","BOOLEAN","DATE","DATETIME","TIMESTAMP","TIME","YEAR","INTERVAL","JSON","JSONB","BLOB","BYTEA","XML","ENUM","UUID"].includes(n))return n==="ENUM"&&e.enumValues&&e.enumValues.length>0?`ENUM(${e.enumValues.map(i=>`'${i}'`).join(", ")})`:`${n}${o}`;switch(n){case"String":return"VARCHAR(255)";case"Number":return"INT";case"Boolean":return"BOOLEAN";case"Date":return t===de.POSTGRESQL?"TIMESTAMP":"DATETIME";case"ObjectId":return t===de.POSTGRESQL?"UUID":"VARCHAR(24)";case"Array":case"Object":case"Map":case"Mixed":return t===de.POSTGRESQL?"JSONB":"JSON";case"Buffer":return"BLOB";default:return"VARCHAR(255)"}},qg=e=>["INT","BIGINT","TINYINT","SMALLINT","DECIMAL","FLOAT","DOUBLE"].some(t=>e.toUpperCase().startsWith(t)),Zg=e=>{if(typeof e=="number")return e;if(typeof e=="boolean")return e?"TRUE":"FALSE";const t=String(e).trim();return t!==""&&!Number.isNaN(Number(t))?t:t.toLowerCase()==="true"||t.toLowerCase()==="false"?t.toUpperCase():t.toUpperCase()==="CURRENT_TIMESTAMP"||t.toUpperCase()==="NOW()"?t:`'${t}'`},ba={[de.MONGODB]:{singular:"Collection",plural:"Collections"},[de.MYSQL]:{singular:"Table",plural:"Tables"},[de.POSTGRESQL]:{singular:"Table",plural:"Tables"}},xa={[de.MONGODB]:"String",[de.MYSQL]:"VARCHAR",[de.POSTGRESQL]:"VARCHAR"},xn=e=>{const t=ba[e]||ba[de.MONGODB];return{singular:t.singular,plural:t.plural,singularLower:t.singular.toLowerCase(),pluralLower:t.plural.toLowerCase()}},Xc=(e,t=[])=>{const{singularLower:n}=xn(e),o=`new_${n}`,s=new Set((t||[]).map(l=>String(l||"").trim().toLowerCase()).filter(Boolean));let r=1,i=`${o}_${r}`;for(;s.has(i);)r+=1,i=`${o}_${r}`;return i},qc=e=>xa[e]||xa[de.MONGODB],Jg=()=>({type:de.MONGODB,getDefaultField:()=>({...il[de.MONGODB]}),getLanguage:()=>"javascript",getEntityTerms:()=>xn(de.MONGODB),generateCode:({store:e,collectionId:t=null,collectionIds:n=[]})=>e?n.length>0?e.getCollectionsCode(n):t?e.getCollectionCode(t):e.mongooseSchemaCode:""}),Qg=()=>({type:de.MYSQL,getDefaultField:()=>({...il[de.MYSQL]}),getLanguage:()=>"sql",getEntityTerms:()=>xn(de.MYSQL),generateCode:({collections:e=[]})=>Wc({collections:e},de.MYSQL)}),em=()=>({type:de.POSTGRESQL,getDefaultField:()=>({...il[de.POSTGRESQL]}),getLanguage:()=>"sql",getEntityTerms:()=>xn(de.POSTGRESQL),generateCode:({collections:e=[]})=>Wc({collections:e},de.POSTGRESQL)}),wa={[de.MONGODB]:Jg,[de.MYSQL]:Qg,[de.POSTGRESQL]:em},al=e=>(wa[e]||wa[de.MONGODB])(),tm={class:"w-64 bg-[#1e1e1e] border-r border-gray-700 flex flex-col h-full"},nm={class:"p-4 border-b border-gray-700 flex items-center gap-2"},om={class:"p-4 space-y-4 flex-1 overflow-y-auto"},sm={class:"space-y-2"},rm={class:"flex min-w-0 gap-2"},im=["value"],lm=["value"],am={class:"space-y-2"},um={class:"text-xs font-bold text-gray-500 uppercase tracking-wider"},cm=["onClick"],dm={class:"text-sm truncate flex-1"},fm={class:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"},pm=["onClick"],hm=["onClick","title"],gm={class:"space-y-2"},mm={__name:"Sidebar",emits:["export-collection","toggle-sidebar"],setup(e,{emit:t}){const n=bn(),o=ho(),s=we(null),r=we(!1),i=ne(()=>xn(n.activeDatabaseType)),l="v2.3.1",a=()=>{if(!n.activeDatabaseId)return;const N=Date.now().toString(),w={...al(n.activeDatabaseType).getDefaultField(),id:`f-${Date.now()}-1`},O=Xc(n.activeDatabaseType,n.activeCollections.map(R=>R?.data?.label));n.addCollection({id:N,type:"collection",position:{x:Math.random()*400,y:Math.random()*400},data:{label:O,fields:[w]}}),n.selectItem(N,"collection")},u=()=>{r.value=!0},c=({name:N,type:m})=>{n.addDatabase(N,m),o.showToast(`Database "${N}" (${m}) created.`,"success"),r.value=!1},f=N=>{n.setActiveDatabase(N.target.value)},g=async()=>{const N=n.activeDatabase;if(!N||!await o.openConfirm({title:"Delete Database",message:`Delete database "${N.name}" and all its ${i.value.pluralLower}?`,confirmText:"Delete"}))return;const w=n.removeDatabase(N.id);if(!w.success&&w.message){o.showToast(w.message,"error");return}o.showToast(`Database "${N.name}" deleted.`,"success")},b=(N,m)=>{const w=N.shiftKey||N.metaKey||N.ctrlKey;n.setCollectionSelection(m,w)},I=async N=>{await o.openConfirm({title:`Delete ${i.value.singular}`,message:`Are you sure you want to delete this ${i.value.singularLower}?`,confirmText:"Delete"})&&(n.removeCollection(N),o.showToast(`${i.value.singular} deleted.`,"success"))},S=()=>{const N=n.exportProject(),m=new Blob([N],{type:"application/json"}),w=URL.createObjectURL(m),O=document.createElement("a");O.href=w,O.download=`mongo-diagram-project-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(O),O.click(),O.remove(),URL.revokeObjectURL(w)},k=()=>{s.value?.click()},D=async N=>{const m=N.target.files?.[0];if(m)try{const w=await m.text(),O=n.importProject(w);if(!O.success){o.showToast(`Import failed: ${O.message}`,"error");return}o.showToast("Project imported successfully.","success")}catch{o.showToast("Import failed: unable to read file.","error")}finally{N.target.value=""}};return(N,m)=>(P(),U(ce,null,[h("aside",tm,[h("div",nm,[m[2]||(m[2]=h("div",{class:"w-8 h-8 rounded bg-emerald-500 flex items-center justify-center text-white font-bold"}," M ",-1)),m[3]||(m[3]=h("h1",{class:"text-white font-bold text-lg flex-1"},"Mongo Diagram",-1)),h("button",{onClick:m[0]||(m[0]=w=>N.$emit("toggle-sidebar")),class:"p-1.5 rounded hover:bg-[#2a2a2a] text-gray-400 hover:text-white transition-colors",title:"Hide Sidebar"},[se(V($g),{size:16})])]),h("div",om,[h("div",sm,[m[4]||(m[4]=h("p",{class:"text-xs font-bold text-gray-500 uppercase tracking-wider"},"Database",-1)),h("div",rm,[h("select",{value:V(n).activeDatabaseId,onChange:f,class:"min-w-0 flex-1 bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1.5 text-white text-sm focus:border-emerald-500 focus:outline-none"},[(P(!0),U(ce,null,Ie(V(n).databases,w=>(P(),U("option",{key:w.id,value:w.id},he(w.name),9,lm))),128))],40,im),h("button",{onClick:u,class:"shrink-0 px-2 py-1.5 rounded bg-[#2d2d2d] hover:bg-[#3d3d3d] text-gray-300 border border-gray-600/70",title:"Create Database"},[se(V(Xs),{size:14})]),h("button",{onClick:g,class:"shrink-0 px-2 py-1.5 rounded bg-red-900/30 hover:bg-red-900/50 text-red-300 border border-red-900/60",title:"Delete Active Database"},[se(V($n),{size:14})])])]),h("div",am,[h("p",um,he(i.value.plural),1),(P(!0),U(ce,null,Ie(V(n).activeCollections,w=>(P(),U("div",{key:w.id,onClick:O=>b(O,w.id),class:pe(["flex items-center gap-2 p-2 rounded cursor-pointer transition-colors group",w.selected||V(n).selectedItemId===w.id?"bg-[#2a2a2a] text-emerald-400":"hover:bg-[#2a2a2a] text-gray-300 hover:text-white"])},[se(V(Gc),{size:16}),h("span",dm,he(w.data.label),1),h("div",fm,[h("button",{onClick:ut(O=>N.$emit("export-collection",w.id),["stop"]),class:"p-1 hover:bg-gray-700 rounded text-gray-400 hover:text-white",title:"Export Code"},[se(V(jc),{size:12})],8,pm),h("button",{onClick:ut(O=>I(w.id),["stop"]),class:"p-1 hover:bg-red-900/50 rounded text-gray-400 hover:text-red-400",title:`Delete ${i.value.singular}`},[se(V($n),{size:12})],8,hm)])],10,cm))),128)),h("button",{onClick:a,class:"w-full mt-2 flex items-center justify-center gap-2 p-2 bg-[#2d2d2d] hover:bg-[#3d3d3d] rounded text-sm text-gray-300 transition-colors border border-gray-600 border-dashed"},[se(V(Xs),{size:16}),We(" New "+he(i.value.singular),1)])]),h("div",gm,[m[7]||(m[7]=h("p",{class:"text-xs font-bold text-gray-500 uppercase tracking-wider"},"Project",-1)),h("button",{onClick:S,class:"w-full flex items-center gap-2 p-2 rounded hover:bg-[#2a2a2a] text-gray-300 hover:text-white transition-colors text-left"},[se(V(Yc),{size:16}),m[5]||(m[5]=h("span",{class:"text-sm"},"Export Project (.json)",-1))]),h("button",{onClick:k,class:"w-full flex items-center gap-2 p-2 rounded hover:bg-[#2a2a2a] text-gray-300 hover:text-white transition-colors text-left"},[se(V(Rg),{size:16}),m[6]||(m[6]=h("span",{class:"text-sm"},"Import Project (.json)",-1))]),h("input",{ref_key:"importInput",ref:s,type:"file",accept:".json,application/json",class:"hidden",onChange:D},null,544)])]),h("div",{class:"p-4 border-t border-gray-700 text-xs text-gray-500 text-center"},he(l))]),se(Gg,{"is-open":r.value,onClose:m[1]||(m[1]=w=>r.value=!1),onCreate:c},null,8,["is-open"])],64))}};function qo(e){return fr()?(ko(e),!0):!1}function Kt(e){return typeof e=="function"?e():V(e)}const vm=typeof window<"u"&&typeof document<"u",ym=e=>typeof e<"u",bm=Object.prototype.toString,xm=e=>bm.call(e)==="[object Object]",wm=()=>{};function _m(e,t){function n(...o){return new Promise((s,r)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(s).catch(r)})}return n}const Zc=e=>e();function Sm(e=Zc){const t=we(!0);function n(){t.value=!1}function o(){t.value=!0}return{isActive:oo(t),pause:n,resume:o,eventFilter:(...r)=>{t.value&&e(...r)}}}function _a(e,t=!1,n="Timeout"){return new Promise((o,s)=>{setTimeout(t?()=>s(n):o,e)})}function Cm(e,t,n={}){const{eventFilter:o=Zc,...s}=n;return _e(e,_m(o,t),s)}function Hn(e,t,n={}){const{eventFilter:o,...s}=n,{eventFilter:r,pause:i,resume:l,isActive:a}=Sm(o);return{stop:Cm(e,t,{...s,eventFilter:r}),pause:i,resume:l,isActive:a}}function Em(e,t={}){if(!Fe(e))return Bu(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=Lu(()=>({get(){return e.value[o]},set(s){var r;if((r=Kt(t.replaceRef))!=null?r:!0)if(Array.isArray(e.value)){const l=[...e.value];l[o]=s,e.value=l}else{const l={...e.value,[o]:s};Object.setPrototypeOf(l,Object.getPrototypeOf(e.value)),e.value=l}else e.value[o]=s}}));return n}function Ni(e,t=!1){function n(f,{flush:g="sync",deep:b=!1,timeout:I,throwOnTimeout:S}={}){let k=null;const N=[new Promise(m=>{k=_e(e,w=>{f(w)!==t&&(k?.(),m(w))},{flush:g,deep:b,immediate:!0})})];return I!=null&&N.push(_a(I,S).then(()=>Kt(e)).finally(()=>k?.())),Promise.race(N)}function o(f,g){if(!Fe(f))return n(w=>w===f,g);const{flush:b="sync",deep:I=!1,timeout:S,throwOnTimeout:k}=g??{};let D=null;const m=[new Promise(w=>{D=_e([e,f],([O,R])=>{t!==(O===R)&&(D?.(),w(O))},{flush:b,deep:I,immediate:!0})})];return S!=null&&m.push(_a(S,k).then(()=>Kt(e)).finally(()=>(D?.(),Kt(e)))),Promise.race(m)}function s(f){return n(g=>!!g,f)}function r(f){return o(null,f)}function i(f){return o(void 0,f)}function l(f){return n(Number.isNaN,f)}function a(f,g){return n(b=>{const I=Array.from(b);return I.includes(f)||I.includes(Kt(f))},g)}function u(f){return c(1,f)}function c(f=1,g){let b=-1;return n(()=>(b+=1,b>=f),g)}return Array.isArray(Kt(e))?{toMatch:n,toContains:a,changed:u,changedTimes:c,get not(){return Ni(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:s,toBeNull:r,toBeNaN:l,toBeUndefined:i,changed:u,changedTimes:c,get not(){return Ni(e,!t)}}}function Ti(e){return Ni(e)}function Im(e){var t;const n=Kt(e);return(t=n?.$el)!=null?t:n}const Jc=vm?window:void 0;function Qc(...e){let t,n,o,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,s]=e,t=Jc):[t,n,o,s]=e,!t)return wm;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const r=[],i=()=>{r.forEach(c=>c()),r.length=0},l=(c,f,g,b)=>(c.addEventListener(f,g,b),()=>c.removeEventListener(f,g,b)),a=_e(()=>[Im(t),Kt(s)],([c,f])=>{if(i(),!c)return;const g=xm(f)?{...f}:f;r.push(...n.flatMap(b=>o.map(I=>l(c,b,I,g))))},{immediate:!0,flush:"post"}),u=()=>{a(),i()};return qo(u),u}function Nm(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Sa(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:s=Jc,eventName:r="keydown",passive:i=!1,dedupe:l=!1}=o,a=Nm(t);return Qc(s,r,c=>{c.repeat&&Kt(l)||a(c)&&n(c)},i)}function Tm(e){return JSON.parse(JSON.stringify(e))}function Qr(e,t,n,o={}){var s,r,i;const{clone:l=!1,passive:a=!1,eventName:u,deep:c=!1,defaultValue:f,shouldEmit:g}=o,b=Et(),I=n||b?.emit||((s=b?.$emit)==null?void 0:s.bind(b))||((i=(r=b?.proxy)==null?void 0:r.$emit)==null?void 0:i.bind(b?.proxy));let S=u;t||(t="modelValue"),S=S||`update:${t.toString()}`;const k=m=>l?typeof l=="function"?l(m):Tm(m):m,D=()=>ym(e[t])?k(e[t]):f,N=m=>{g?g(m)&&I(S,m):I(S,m)};if(a){const m=D(),w=we(m);let O=!1;return _e(()=>e[t],R=>{O||(O=!0,w.value=k(R),dt(()=>O=!1))}),_e(w,R=>{!O&&(R!==e[t]||c)&&N(R)},{deep:c}),w}else return ne({get(){return D()},set(m){N(m)}})}var Mm={value:()=>{}};function Cr(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Ds(n)}function Ds(e){this._=e}function $m(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",s=n.indexOf(".");if(s>=0&&(o=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Ds.prototype=Cr.prototype={constructor:Ds,on:function(e,t){var n=this._,o=$m(e+"",n),s,r=-1,i=o.length;if(arguments.length<2){for(;++r<i;)if((s=(e=o[r]).type)&&(s=km(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<i;)if(s=(e=o[r]).type)n[s]=Ca(n[s],e.name,t);else if(t==null)for(s in n)n[s]=Ca(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ds(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),o=0,s,r;o<s;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],s=0,r=o.length;s<r;++s)o[s].value.apply(t,n)}};function km(e,t){for(var n=0,o=e.length,s;n<o;++n)if((s=e[n]).name===t)return s.value}function Ca(e,t,n){for(var o=0,s=e.length;o<s;++o)if(e[o].name===t){e[o]=Mm,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Mi="http://www.w3.org/1999/xhtml";const Ea={svg:"http://www.w3.org/2000/svg",xhtml:Mi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Er(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ea.hasOwnProperty(t)?{space:Ea[t],local:e}:e}function Am(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Mi&&t.documentElement.namespaceURI===Mi?t.createElement(e):t.createElementNS(n,e)}}function Dm(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ed(e){var t=Er(e);return(t.local?Dm:Am)(t)}function Om(){}function ul(e){return e==null?Om:function(){return this.querySelector(e)}}function Pm(e){typeof e!="function"&&(e=ul(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var r=t[s],i=r.length,l=o[s]=new Array(i),a,u,c=0;c<i;++c)(a=r[c])&&(u=e.call(a,a.__data__,c,r))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new gt(o,this._parents)}function Rm(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Lm(){return[]}function td(e){return e==null?Lm:function(){return this.querySelectorAll(e)}}function Bm(e){return function(){return Rm(e.apply(this,arguments))}}function Fm(e){typeof e=="function"?e=Bm(e):e=td(e);for(var t=this._groups,n=t.length,o=[],s=[],r=0;r<n;++r)for(var i=t[r],l=i.length,a,u=0;u<l;++u)(a=i[u])&&(o.push(e.call(a,a.__data__,u,i)),s.push(a));return new gt(o,s)}function nd(e){return function(){return this.matches(e)}}function od(e){return function(t){return t.matches(e)}}var Vm=Array.prototype.find;function zm(e){return function(){return Vm.call(this.children,e)}}function Hm(){return this.firstElementChild}function jm(e){return this.select(e==null?Hm:zm(typeof e=="function"?e:od(e)))}var Um=Array.prototype.filter;function Gm(){return Array.from(this.children)}function Ym(e){return function(){return Um.call(this.children,e)}}function Km(e){return this.selectAll(e==null?Gm:Ym(typeof e=="function"?e:od(e)))}function Wm(e){typeof e!="function"&&(e=nd(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var r=t[s],i=r.length,l=o[s]=[],a,u=0;u<i;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&l.push(a);return new gt(o,this._parents)}function sd(e){return new Array(e.length)}function Xm(){return new gt(this._enter||this._groups.map(sd),this._parents)}function qs(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}qs.prototype={constructor:qs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function qm(e){return function(){return e}}function Zm(e,t,n,o,s,r){for(var i=0,l,a=t.length,u=r.length;i<u;++i)(l=t[i])?(l.__data__=r[i],o[i]=l):n[i]=new qs(e,r[i]);for(;i<a;++i)(l=t[i])&&(s[i]=l)}function Jm(e,t,n,o,s,r,i){var l,a,u=new Map,c=t.length,f=r.length,g=new Array(c),b;for(l=0;l<c;++l)(a=t[l])&&(g[l]=b=i.call(a,a.__data__,l,t)+"",u.has(b)?s[l]=a:u.set(b,a));for(l=0;l<f;++l)b=i.call(e,r[l],l,r)+"",(a=u.get(b))?(o[l]=a,a.__data__=r[l],u.delete(b)):n[l]=new qs(e,r[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(g[l])===a&&(s[l]=a)}function Qm(e){return e.__data__}function ev(e,t){if(!arguments.length)return Array.from(this,Qm);var n=t?Jm:Zm,o=this._parents,s=this._groups;typeof e!="function"&&(e=qm(e));for(var r=s.length,i=new Array(r),l=new Array(r),a=new Array(r),u=0;u<r;++u){var c=o[u],f=s[u],g=f.length,b=tv(e.call(c,c&&c.__data__,u,o)),I=b.length,S=l[u]=new Array(I),k=i[u]=new Array(I),D=a[u]=new Array(g);n(c,f,S,k,D,b,t);for(var N=0,m=0,w,O;N<I;++N)if(w=S[N]){for(N>=m&&(m=N+1);!(O=k[m])&&++m<I;);w._next=O||null}}return i=new gt(i,o),i._enter=l,i._exit=a,i}function tv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nv(){return new gt(this._exit||this._groups.map(sd),this._parents)}function ov(e,t,n){var o=this.enter(),s=this,r=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?r.remove():n(r),o&&s?o.merge(s).order():s}function sv(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,s=n.length,r=o.length,i=Math.min(s,r),l=new Array(s),a=0;a<i;++a)for(var u=n[a],c=o[a],f=u.length,g=l[a]=new Array(f),b,I=0;I<f;++I)(b=u[I]||c[I])&&(g[I]=b);for(;a<s;++a)l[a]=n[a];return new gt(l,this._parents)}function rv(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],s=o.length-1,r=o[s],i;--s>=0;)(i=o[s])&&(r&&i.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(i,r),r=i);return this}function iv(e){e||(e=lv);function t(f,g){return f&&g?e(f.__data__,g.__data__):!f-!g}for(var n=this._groups,o=n.length,s=new Array(o),r=0;r<o;++r){for(var i=n[r],l=i.length,a=s[r]=new Array(l),u,c=0;c<l;++c)(u=i[c])&&(a[c]=u);a.sort(t)}return new gt(s,this._parents).order()}function lv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function av(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function uv(){return Array.from(this)}function cv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],s=0,r=o.length;s<r;++s){var i=o[s];if(i)return i}return null}function dv(){let e=0;for(const t of this)++e;return e}function fv(){return!this.node()}function pv(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var s=t[n],r=0,i=s.length,l;r<i;++r)(l=s[r])&&e.call(l,l.__data__,r,s);return this}function hv(e){return function(){this.removeAttribute(e)}}function gv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mv(e,t){return function(){this.setAttribute(e,t)}}function vv(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function bv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function xv(e,t){var n=Er(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?gv:hv:typeof t=="function"?n.local?bv:yv:n.local?vv:mv)(n,t))}function rd(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wv(e){return function(){this.style.removeProperty(e)}}function _v(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Sv(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Cv(e,t,n){return arguments.length>1?this.each((t==null?wv:typeof t=="function"?Sv:_v)(e,t,n??"")):ao(this.node(),e)}function ao(e,t){return e.style.getPropertyValue(t)||rd(e).getComputedStyle(e,null).getPropertyValue(t)}function Ev(e){return function(){delete this[e]}}function Iv(e,t){return function(){this[e]=t}}function Nv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Tv(e,t){return arguments.length>1?this.each((t==null?Ev:typeof t=="function"?Nv:Iv)(e,t)):this.node()[e]}function id(e){return e.trim().split(/^|\s+/)}function cl(e){return e.classList||new ld(e)}function ld(e){this._node=e,this._names=id(e.getAttribute("class")||"")}ld.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ad(e,t){for(var n=cl(e),o=-1,s=t.length;++o<s;)n.add(t[o])}function ud(e,t){for(var n=cl(e),o=-1,s=t.length;++o<s;)n.remove(t[o])}function Mv(e){return function(){ad(this,e)}}function $v(e){return function(){ud(this,e)}}function kv(e,t){return function(){(t.apply(this,arguments)?ad:ud)(this,e)}}function Av(e,t){var n=id(e+"");if(arguments.length<2){for(var o=cl(this.node()),s=-1,r=n.length;++s<r;)if(!o.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?kv:t?Mv:$v)(n,t))}function Dv(){this.textContent=""}function Ov(e){return function(){this.textContent=e}}function Pv(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Rv(e){return arguments.length?this.each(e==null?Dv:(typeof e=="function"?Pv:Ov)(e)):this.node().textContent}function Lv(){this.innerHTML=""}function Bv(e){return function(){this.innerHTML=e}}function Fv(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Vv(e){return arguments.length?this.each(e==null?Lv:(typeof e=="function"?Fv:Bv)(e)):this.node().innerHTML}function zv(){this.nextSibling&&this.parentNode.appendChild(this)}function Hv(){return this.each(zv)}function jv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Uv(){return this.each(jv)}function Gv(e){var t=typeof e=="function"?e:ed(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Yv(){return null}function Kv(e,t){var n=typeof e=="function"?e:ed(e),o=t==null?Yv:typeof t=="function"?t:ul(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Wv(){var e=this.parentNode;e&&e.removeChild(this)}function Xv(){return this.each(Wv)}function qv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Zv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Jv(e){return this.select(e?Zv:qv)}function Qv(e){return arguments.length?this.property("__data__",e):this.node().__data__}function e0(e){return function(t){e.call(this,t,this.__data__)}}function t0(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function n0(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,s=t.length,r;n<s;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++o]=r;++o?t.length=o:delete this.__on}}}function o0(e,t,n){return function(){var o=this.__on,s,r=e0(t);if(o){for(var i=0,l=o.length;i<l;++i)if((s=o[i]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=r,s.options=n),s.value=t;return}}this.addEventListener(e.type,r,n),s={type:e.type,name:e.name,value:t,listener:r,options:n},o?o.push(s):this.__on=[s]}}function s0(e,t,n){var o=t0(e+""),s,r=o.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(s=0,c=l[a];s<r;++s)if((i=o[s]).type===c.type&&i.name===c.name)return c.value}return}for(l=t?o0:n0,s=0;s<r;++s)this.each(l(o[s],t,n));return this}function cd(e,t,n){var o=rd(e),s=o.CustomEvent;typeof s=="function"?s=new s(t,n):(s=o.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function r0(e,t){return function(){return cd(this,e,t)}}function i0(e,t){return function(){return cd(this,e,t.apply(this,arguments))}}function l0(e,t){return this.each((typeof t=="function"?i0:r0)(e,t))}function*a0(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],s=0,r=o.length,i;s<r;++s)(i=o[s])&&(yield i)}var dd=[null];function gt(e,t){this._groups=e,this._parents=t}function as(){return new gt([[document.documentElement]],dd)}function u0(){return this}gt.prototype=as.prototype={constructor:gt,select:Pm,selectAll:Fm,selectChild:jm,selectChildren:Km,filter:Wm,data:ev,enter:Xm,exit:nv,join:ov,merge:sv,selection:u0,order:rv,sort:iv,call:av,nodes:uv,node:cv,size:dv,empty:fv,each:pv,attr:xv,style:Cv,property:Tv,classed:Av,text:Rv,html:Vv,raise:Hv,lower:Uv,append:Gv,insert:Kv,remove:Xv,clone:Jv,datum:Qv,on:s0,dispatch:l0,[Symbol.iterator]:a0};function yt(e){return typeof e=="string"?new gt([[document.querySelector(e)]],[document.documentElement]):new gt([[e]],dd)}function c0(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Dt(e,t){if(e=c0(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const d0={passive:!1},Zo={capture:!0,passive:!1};function ei(e){e.stopImmediatePropagation()}function eo(e){e.preventDefault(),e.stopImmediatePropagation()}function fd(e){var t=e.document.documentElement,n=yt(e).on("dragstart.drag",eo,Zo);"onselectstart"in t?n.on("selectstart.drag",eo,Zo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function pd(e,t){var n=e.document.documentElement,o=yt(e).on("dragstart.drag",null);t&&(o.on("click.drag",eo,Zo),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const vs=e=>()=>e;function $i(e,{sourceEvent:t,subject:n,target:o,identifier:s,active:r,x:i,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}$i.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function f0(e){return!e.ctrlKey&&!e.button}function p0(){return this.parentNode}function h0(e,t){return t??{x:e.x,y:e.y}}function g0(){return navigator.maxTouchPoints||"ontouchstart"in this}function m0(){var e=f0,t=p0,n=h0,o=g0,s={},r=Cr("start","drag","end"),i=0,l,a,u,c,f=0;function g(w){w.on("mousedown.drag",b).filter(o).on("touchstart.drag",k).on("touchmove.drag",D,d0).on("touchend.drag touchcancel.drag",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(w,O){if(!(c||!e.call(this,w,O))){var R=m(this,t.call(this,w,O),w,O,"mouse");R&&(yt(w.view).on("mousemove.drag",I,Zo).on("mouseup.drag",S,Zo),fd(w.view),ei(w),u=!1,l=w.clientX,a=w.clientY,R("start",w))}}function I(w){if(eo(w),!u){var O=w.clientX-l,R=w.clientY-a;u=O*O+R*R>f}s.mouse("drag",w)}function S(w){yt(w.view).on("mousemove.drag mouseup.drag",null),pd(w.view,u),eo(w),s.mouse("end",w)}function k(w,O){if(e.call(this,w,O)){var R=w.changedTouches,W=t.call(this,w,O),H=R.length,L,Y;for(L=0;L<H;++L)(Y=m(this,W,w,O,R[L].identifier,R[L]))&&(ei(w),Y("start",w,R[L]))}}function D(w){var O=w.changedTouches,R=O.length,W,H;for(W=0;W<R;++W)(H=s[O[W].identifier])&&(eo(w),H("drag",w,O[W]))}function N(w){var O=w.changedTouches,R=O.length,W,H;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),W=0;W<R;++W)(H=s[O[W].identifier])&&(ei(w),H("end",w,O[W]))}function m(w,O,R,W,H,L){var Y=r.copy(),G=Dt(L||R,O),T,q,x;if((x=n.call(w,new $i("beforestart",{sourceEvent:R,target:g,identifier:H,active:i,x:G[0],y:G[1],dx:0,dy:0,dispatch:Y}),W))!=null)return T=x.x-G[0]||0,q=x.y-G[1]||0,function A(d,p,j){var Z=G,Q;switch(d){case"start":s[H]=A,Q=i++;break;case"end":delete s[H],--i;case"drag":G=Dt(j||p,O),Q=i;break}Y.call(d,w,new $i(d,{sourceEvent:p,subject:x,target:g,identifier:H,active:Q,x:G[0]+T,y:G[1]+q,dx:G[0]-Z[0],dy:G[1]-Z[1],dispatch:Y}),W)}}return g.filter=function(w){return arguments.length?(e=typeof w=="function"?w:vs(!!w),g):e},g.container=function(w){return arguments.length?(t=typeof w=="function"?w:vs(w),g):t},g.subject=function(w){return arguments.length?(n=typeof w=="function"?w:vs(w),g):n},g.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:vs(!!w),g):o},g.on=function(){var w=r.on.apply(r,arguments);return w===r?g:w},g.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,g):Math.sqrt(f)},g}function dl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function hd(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function us(){}var Jo=.7,Zs=1/Jo,to="\\s*([+-]?\\d+)\\s*",Qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v0=/^#([0-9a-f]{3,8})$/,y0=new RegExp(`^rgb\\(${to},${to},${to}\\)$`),b0=new RegExp(`^rgb\\(${Bt},${Bt},${Bt}\\)$`),x0=new RegExp(`^rgba\\(${to},${to},${to},${Qo}\\)$`),w0=new RegExp(`^rgba\\(${Bt},${Bt},${Bt},${Qo}\\)$`),_0=new RegExp(`^hsl\\(${Qo},${Bt},${Bt}\\)$`),S0=new RegExp(`^hsla\\(${Qo},${Bt},${Bt},${Qo}\\)$`),Ia={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dl(us,Rn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Na,formatHex:Na,formatHex8:C0,formatHsl:E0,formatRgb:Ta,toString:Ta});function Na(){return this.rgb().formatHex()}function C0(){return this.rgb().formatHex8()}function E0(){return gd(this).formatHsl()}function Ta(){return this.rgb().formatRgb()}function Rn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=v0.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ma(t):n===3?new ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ys(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ys(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=y0.exec(e))?new ct(t[1],t[2],t[3],1):(t=b0.exec(e))?new ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=x0.exec(e))?ys(t[1],t[2],t[3],t[4]):(t=w0.exec(e))?ys(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_0.exec(e))?Aa(t[1],t[2]/100,t[3]/100,1):(t=S0.exec(e))?Aa(t[1],t[2]/100,t[3]/100,t[4]):Ia.hasOwnProperty(e)?Ma(Ia[e]):e==="transparent"?new ct(NaN,NaN,NaN,0):null}function Ma(e){return new ct(e>>16&255,e>>8&255,e&255,1)}function ys(e,t,n,o){return o<=0&&(e=t=n=NaN),new ct(e,t,n,o)}function I0(e){return e instanceof us||(e=Rn(e)),e?(e=e.rgb(),new ct(e.r,e.g,e.b,e.opacity)):new ct}function ki(e,t,n,o){return arguments.length===1?I0(e):new ct(e,t,n,o??1)}function ct(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}dl(ct,ki,hd(us,{brighter(e){return e=e==null?Zs:Math.pow(Zs,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ct(kn(this.r),kn(this.g),kn(this.b),Js(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$a,formatHex:$a,formatHex8:N0,formatRgb:ka,toString:ka}));function $a(){return`#${Nn(this.r)}${Nn(this.g)}${Nn(this.b)}`}function N0(){return`#${Nn(this.r)}${Nn(this.g)}${Nn(this.b)}${Nn((isNaN(this.opacity)?1:this.opacity)*255)}`}function ka(){const e=Js(this.opacity);return`${e===1?"rgb(":"rgba("}${kn(this.r)}, ${kn(this.g)}, ${kn(this.b)}${e===1?")":`, ${e})`}`}function Js(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function kn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nn(e){return e=kn(e),(e<16?"0":"")+e.toString(16)}function Aa(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new bt(e,t,n,o)}function gd(e){if(e instanceof bt)return new bt(e.h,e.s,e.l,e.opacity);if(e instanceof us||(e=Rn(e)),!e)return new bt;if(e instanceof bt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,s=Math.min(t,n,o),r=Math.max(t,n,o),i=NaN,l=r-s,a=(r+s)/2;return l?(t===r?i=(n-o)/l+(n<o)*6:n===r?i=(o-t)/l+2:i=(t-n)/l+4,l/=a<.5?r+s:2-r-s,i*=60):l=a>0&&a<1?0:i,new bt(i,l,a,e.opacity)}function T0(e,t,n,o){return arguments.length===1?gd(e):new bt(e,t,n,o??1)}function bt(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}dl(bt,T0,hd(us,{brighter(e){return e=e==null?Zs:Math.pow(Zs,e),new bt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new bt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,s=2*n-o;return new ct(ti(e>=240?e-240:e+120,s,o),ti(e,s,o),ti(e<120?e+240:e-120,s,o),this.opacity)},clamp(){return new bt(Da(this.h),bs(this.s),bs(this.l),Js(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Js(this.opacity);return`${e===1?"hsl(":"hsla("}${Da(this.h)}, ${bs(this.s)*100}%, ${bs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Da(e){return e=(e||0)%360,e<0?e+360:e}function bs(e){return Math.max(0,Math.min(1,e||0))}function ti(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fl=e=>()=>e;function M0(e,t){return function(n){return e+n*t}}function $0(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function k0(e){return(e=+e)==1?md:function(t,n){return n-t?$0(t,n,e):fl(isNaN(t)?n:t)}}function md(e,t){var n=t-e;return n?M0(e,n):fl(isNaN(e)?t:e)}const Qs=(function e(t){var n=k0(t);function o(s,r){var i=n((s=ki(s)).r,(r=ki(r)).r),l=n(s.g,r.g),a=n(s.b,r.b),u=md(s.opacity,r.opacity);return function(c){return s.r=i(c),s.g=l(c),s.b=a(c),s.opacity=u(c),s+""}}return o.gamma=e,o})(1);function A0(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),s;return function(r){for(s=0;s<n;++s)o[s]=e[s]*(1-r)+t[s]*r;return o}}function D0(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function O0(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,s=new Array(o),r=new Array(n),i;for(i=0;i<o;++i)s[i]=Vo(e[i],t[i]);for(;i<n;++i)r[i]=t[i];return function(l){for(i=0;i<o;++i)r[i]=s[i](l);return r}}function P0(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function Pt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function R0(e,t){var n={},o={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Vo(e[s],t[s]):o[s]=t[s];return function(r){for(s in n)o[s]=n[s](r);return o}}var Ai=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ni=new RegExp(Ai.source,"g");function L0(e){return function(){return e}}function B0(e){return function(t){return e(t)+""}}function vd(e,t){var n=Ai.lastIndex=ni.lastIndex=0,o,s,r,i=-1,l=[],a=[];for(e=e+"",t=t+"";(o=Ai.exec(e))&&(s=ni.exec(t));)(r=s.index)>n&&(r=t.slice(n,r),l[i]?l[i]+=r:l[++i]=r),(o=o[0])===(s=s[0])?l[i]?l[i]+=s:l[++i]=s:(l[++i]=null,a.push({i,x:Pt(o,s)})),n=ni.lastIndex;return n<t.length&&(r=t.slice(n),l[i]?l[i]+=r:l[++i]=r),l.length<2?a[0]?B0(a[0].x):L0(t):(t=a.length,function(u){for(var c=0,f;c<t;++c)l[(f=a[c]).i]=f.x(u);return l.join("")})}function Vo(e,t){var n=typeof t,o;return t==null||n==="boolean"?fl(t):(n==="number"?Pt:n==="string"?(o=Rn(t))?(t=o,Qs):vd:t instanceof Rn?Qs:t instanceof Date?P0:D0(t)?A0:Array.isArray(t)?O0:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?R0:Pt)(e,t)}var Oa=180/Math.PI,Di={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yd(e,t,n,o,s,r){var i,l,a;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(a=e*n+t*o)&&(n-=e*a,o-=t*a),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,a/=l),e*o<t*n&&(e=-e,t=-t,a=-a,i=-i),{translateX:s,translateY:r,rotate:Math.atan2(t,e)*Oa,skewX:Math.atan(a)*Oa,scaleX:i,scaleY:l}}var xs;function F0(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Di:yd(t.a,t.b,t.c,t.d,t.e,t.f)}function V0(e){return e==null||(xs||(xs=document.createElementNS("http://www.w3.org/2000/svg","g")),xs.setAttribute("transform",e),!(e=xs.transform.baseVal.consolidate()))?Di:(e=e.matrix,yd(e.a,e.b,e.c,e.d,e.e,e.f))}function bd(e,t,n,o){function s(u){return u.length?u.pop()+" ":""}function r(u,c,f,g,b,I){if(u!==f||c!==g){var S=b.push("translate(",null,t,null,n);I.push({i:S-4,x:Pt(u,f)},{i:S-2,x:Pt(c,g)})}else(f||g)&&b.push("translate("+f+t+g+n)}function i(u,c,f,g){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),g.push({i:f.push(s(f)+"rotate(",null,o)-2,x:Pt(u,c)})):c&&f.push(s(f)+"rotate("+c+o)}function l(u,c,f,g){u!==c?g.push({i:f.push(s(f)+"skewX(",null,o)-2,x:Pt(u,c)}):c&&f.push(s(f)+"skewX("+c+o)}function a(u,c,f,g,b,I){if(u!==f||c!==g){var S=b.push(s(b)+"scale(",null,",",null,")");I.push({i:S-4,x:Pt(u,f)},{i:S-2,x:Pt(c,g)})}else(f!==1||g!==1)&&b.push(s(b)+"scale("+f+","+g+")")}return function(u,c){var f=[],g=[];return u=e(u),c=e(c),r(u.translateX,u.translateY,c.translateX,c.translateY,f,g),i(u.rotate,c.rotate,f,g),l(u.skewX,c.skewX,f,g),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,g),u=c=null,function(b){for(var I=-1,S=g.length,k;++I<S;)f[(k=g[I]).i]=k.x(b);return f.join("")}}}var z0=bd(F0,"px, ","px)","deg)"),H0=bd(V0,", ",")",")"),j0=1e-12;function Pa(e){return((e=Math.exp(e))+1/e)/2}function U0(e){return((e=Math.exp(e))-1/e)/2}function G0(e){return((e=Math.exp(2*e))-1)/(e+1)}const Os=(function e(t,n,o){function s(r,i){var l=r[0],a=r[1],u=r[2],c=i[0],f=i[1],g=i[2],b=c-l,I=f-a,S=b*b+I*I,k,D;if(S<j0)D=Math.log(g/u)/t,k=function(W){return[l+W*b,a+W*I,u*Math.exp(t*W*D)]};else{var N=Math.sqrt(S),m=(g*g-u*u+o*S)/(2*u*n*N),w=(g*g-u*u-o*S)/(2*g*n*N),O=Math.log(Math.sqrt(m*m+1)-m),R=Math.log(Math.sqrt(w*w+1)-w);D=(R-O)/t,k=function(W){var H=W*D,L=Pa(O),Y=u/(n*N)*(L*G0(t*H+O)-U0(O));return[l+Y*b,a+Y*I,u*L/Pa(t*H+O)]}}return k.duration=D*1e3*t/Math.SQRT2,k}return s.rho=function(r){var i=Math.max(.001,+r),l=i*i,a=l*l;return e(i,l,a)},s})(Math.SQRT2,2,4);var uo=0,No=0,So=0,xd=1e3,er,To,tr=0,Ln=0,Ir=0,es=typeof performance=="object"&&performance.now?performance:Date,wd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function pl(){return Ln||(wd(Y0),Ln=es.now()+Ir)}function Y0(){Ln=0}function nr(){this._call=this._time=this._next=null}nr.prototype=_d.prototype={constructor:nr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?pl():+n)+(t==null?0:+t),!this._next&&To!==this&&(To?To._next=this:er=this,To=this),this._call=e,this._time=n,Oi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Oi())}};function _d(e,t,n){var o=new nr;return o.restart(e,t,n),o}function K0(){pl(),++uo;for(var e=er,t;e;)(t=Ln-e._time)>=0&&e._call.call(void 0,t),e=e._next;--uo}function Ra(){Ln=(tr=es.now())+Ir,uo=No=0;try{K0()}finally{uo=0,X0(),Ln=0}}function W0(){var e=es.now(),t=e-tr;t>xd&&(Ir-=t,tr=e)}function X0(){for(var e,t=er,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:er=n);To=e,Oi(o)}function Oi(e){if(!uo){No&&(No=clearTimeout(No));var t=e-Ln;t>24?(e<1/0&&(No=setTimeout(Ra,e-es.now()-Ir)),So&&(So=clearInterval(So))):(So||(tr=es.now(),So=setInterval(W0,xd)),uo=1,wd(Ra))}}function La(e,t,n){var o=new nr;return t=t==null?0:+t,o.restart(s=>{o.stop(),e(s+t)},t,n),o}var q0=Cr("start","end","cancel","interrupt"),Z0=[],Sd=0,Ba=1,Pi=2,Ps=3,Fa=4,Ri=5,Rs=6;function Nr(e,t,n,o,s,r){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;J0(e,n,{name:t,index:o,group:s,on:q0,tween:Z0,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Sd})}function hl(e,t){var n=It(e,t);if(n.state>Sd)throw new Error("too late; already scheduled");return n}function Vt(e,t){var n=It(e,t);if(n.state>Ps)throw new Error("too late; already running");return n}function It(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function J0(e,t,n){var o=e.__transition,s;o[t]=n,n.timer=_d(r,0,n.time);function r(u){n.state=Ba,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var c,f,g,b;if(n.state!==Ba)return a();for(c in o)if(b=o[c],b.name===n.name){if(b.state===Ps)return La(i);b.state===Fa?(b.state=Rs,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete o[c]):+c<t&&(b.state=Rs,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete o[c])}if(La(function(){n.state===Ps&&(n.state=Fa,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Pi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Pi){for(n.state=Ps,s=new Array(g=n.tween.length),c=0,f=-1;c<g;++c)(b=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=b);s.length=f+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Ri,1),f=-1,g=s.length;++f<g;)s[f].call(e,c);n.state===Ri&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Rs,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Ls(e,t){var n=e.__transition,o,s,r=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((o=n[i]).name!==t){r=!1;continue}s=o.state>Pi&&o.state<Ri,o.state=Rs,o.timer.stop(),o.on.call(s?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[i]}r&&delete e.__transition}}function Q0(e){return this.each(function(){Ls(this,e)})}function ey(e,t){var n,o;return function(){var s=Vt(this,e),r=s.tween;if(r!==n){o=n=r;for(var i=0,l=o.length;i<l;++i)if(o[i].name===t){o=o.slice(),o.splice(i,1);break}}s.tween=o}}function ty(e,t,n){var o,s;if(typeof n!="function")throw new Error;return function(){var r=Vt(this,e),i=r.tween;if(i!==o){s=(o=i).slice();for(var l={name:t,value:n},a=0,u=s.length;a<u;++a)if(s[a].name===t){s[a]=l;break}a===u&&s.push(l)}r.tween=s}}function ny(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=It(this.node(),n).tween,s=0,r=o.length,i;s<r;++s)if((i=o[s]).name===e)return i.value;return null}return this.each((t==null?ey:ty)(n,e,t))}function gl(e,t,n){var o=e._id;return e.each(function(){var s=Vt(this,o);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return It(s,o).value[t]}}function Cd(e,t){var n;return(typeof t=="number"?Pt:t instanceof Rn?Qs:(n=Rn(t))?(t=n,Qs):vd)(e,t)}function oy(e){return function(){this.removeAttribute(e)}}function sy(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ry(e,t,n){var o,s=n+"",r;return function(){var i=this.getAttribute(e);return i===s?null:i===o?r:r=t(o=i,n)}}function iy(e,t,n){var o,s=n+"",r;return function(){var i=this.getAttributeNS(e.space,e.local);return i===s?null:i===o?r:r=t(o=i,n)}}function ly(e,t,n){var o,s,r;return function(){var i,l=n(this),a;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),a=l+"",i===a?null:i===o&&a===s?r:(s=a,r=t(o=i,l)))}}function ay(e,t,n){var o,s,r;return function(){var i,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),a=l+"",i===a?null:i===o&&a===s?r:(s=a,r=t(o=i,l)))}}function uy(e,t){var n=Er(e),o=n==="transform"?H0:Cd;return this.attrTween(e,typeof t=="function"?(n.local?ay:ly)(n,o,gl(this,"attr."+e,t)):t==null?(n.local?sy:oy)(n):(n.local?iy:ry)(n,o,t))}function cy(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function dy(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function fy(e,t){var n,o;function s(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&dy(e,r)),n}return s._value=t,s}function py(e,t){var n,o;function s(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&cy(e,r)),n}return s._value=t,s}function hy(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Er(e);return this.tween(n,(o.local?fy:py)(o,t))}function gy(e,t){return function(){hl(this,e).delay=+t.apply(this,arguments)}}function my(e,t){return t=+t,function(){hl(this,e).delay=t}}function vy(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gy:my)(t,e)):It(this.node(),t).delay}function yy(e,t){return function(){Vt(this,e).duration=+t.apply(this,arguments)}}function by(e,t){return t=+t,function(){Vt(this,e).duration=t}}function xy(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yy:by)(t,e)):It(this.node(),t).duration}function wy(e,t){if(typeof t!="function")throw new Error;return function(){Vt(this,e).ease=t}}function _y(e){var t=this._id;return arguments.length?this.each(wy(t,e)):It(this.node(),t).ease}function Sy(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Vt(this,e).ease=n}}function Cy(e){if(typeof e!="function")throw new Error;return this.each(Sy(this._id,e))}function Ey(e){typeof e!="function"&&(e=nd(e));for(var t=this._groups,n=t.length,o=new Array(n),s=0;s<n;++s)for(var r=t[s],i=r.length,l=o[s]=[],a,u=0;u<i;++u)(a=r[u])&&e.call(a,a.__data__,u,r)&&l.push(a);return new nn(o,this._parents,this._name,this._id)}function Iy(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,s=n.length,r=Math.min(o,s),i=new Array(o),l=0;l<r;++l)for(var a=t[l],u=n[l],c=a.length,f=i[l]=new Array(c),g,b=0;b<c;++b)(g=a[b]||u[b])&&(f[b]=g);for(;l<o;++l)i[l]=t[l];return new nn(i,this._parents,this._name,this._id)}function Ny(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Ty(e,t,n){var o,s,r=Ny(t)?hl:Vt;return function(){var i=r(this,e),l=i.on;l!==o&&(s=(o=l).copy()).on(t,n),i.on=s}}function My(e,t){var n=this._id;return arguments.length<2?It(this.node(),n).on.on(e):this.each(Ty(n,e,t))}function $y(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ky(){return this.on("end.remove",$y(this._id))}function Ay(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ul(e));for(var o=this._groups,s=o.length,r=new Array(s),i=0;i<s;++i)for(var l=o[i],a=l.length,u=r[i]=new Array(a),c,f,g=0;g<a;++g)(c=l[g])&&(f=e.call(c,c.__data__,g,l))&&("__data__"in c&&(f.__data__=c.__data__),u[g]=f,Nr(u[g],t,n,g,u,It(c,n)));return new nn(r,this._parents,t,n)}function Dy(e){var t=this._name,n=this._id;typeof e!="function"&&(e=td(e));for(var o=this._groups,s=o.length,r=[],i=[],l=0;l<s;++l)for(var a=o[l],u=a.length,c,f=0;f<u;++f)if(c=a[f]){for(var g=e.call(c,c.__data__,f,a),b,I=It(c,n),S=0,k=g.length;S<k;++S)(b=g[S])&&Nr(b,t,n,S,g,I);r.push(g),i.push(c)}return new nn(r,i,t,n)}var Oy=as.prototype.constructor;function Py(){return new Oy(this._groups,this._parents)}function Ry(e,t){var n,o,s;return function(){var r=ao(this,e),i=(this.style.removeProperty(e),ao(this,e));return r===i?null:r===n&&i===o?s:s=t(n=r,o=i)}}function Ed(e){return function(){this.style.removeProperty(e)}}function Ly(e,t,n){var o,s=n+"",r;return function(){var i=ao(this,e);return i===s?null:i===o?r:r=t(o=i,n)}}function By(e,t,n){var o,s,r;return function(){var i=ao(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),ao(this,e))),i===a?null:i===o&&a===s?r:(s=a,r=t(o=i,l))}}function Fy(e,t){var n,o,s,r="style."+t,i="end."+r,l;return function(){var a=Vt(this,e),u=a.on,c=a.value[r]==null?l||(l=Ed(t)):void 0;(u!==n||s!==c)&&(o=(n=u).copy()).on(i,s=c),a.on=o}}function Vy(e,t,n){var o=(e+="")=="transform"?z0:Cd;return t==null?this.styleTween(e,Ry(e,o)).on("end.style."+e,Ed(e)):typeof t=="function"?this.styleTween(e,By(e,o,gl(this,"style."+e,t))).each(Fy(this._id,e)):this.styleTween(e,Ly(e,o,t),n).on("end.style."+e,null)}function zy(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Hy(e,t,n){var o,s;function r(){var i=t.apply(this,arguments);return i!==s&&(o=(s=i)&&zy(e,i,n)),o}return r._value=t,r}function jy(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Hy(e,t,n??""))}function Uy(e){return function(){this.textContent=e}}function Gy(e){return function(){var t=e(this);this.textContent=t??""}}function Yy(e){return this.tween("text",typeof e=="function"?Gy(gl(this,"text",e)):Uy(e==null?"":e+""))}function Ky(e){return function(t){this.textContent=e.call(this,t)}}function Wy(e){var t,n;function o(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Ky(s)),t}return o._value=e,o}function Xy(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Wy(e))}function qy(){for(var e=this._name,t=this._id,n=Id(),o=this._groups,s=o.length,r=0;r<s;++r)for(var i=o[r],l=i.length,a,u=0;u<l;++u)if(a=i[u]){var c=It(a,t);Nr(a,e,n,u,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new nn(o,this._parents,e,n)}function Zy(){var e,t,n=this,o=n._id,s=n.size();return new Promise(function(r,i){var l={value:i},a={value:function(){--s===0&&r()}};n.each(function(){var u=Vt(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),s===0&&r()})}var Jy=0;function nn(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Id(){return++Jy}var Ht=as.prototype;nn.prototype={constructor:nn,select:Ay,selectAll:Dy,selectChild:Ht.selectChild,selectChildren:Ht.selectChildren,filter:Ey,merge:Iy,selection:Py,transition:qy,call:Ht.call,nodes:Ht.nodes,node:Ht.node,size:Ht.size,empty:Ht.empty,each:Ht.each,on:My,attr:uy,attrTween:hy,style:Vy,styleTween:jy,text:Yy,textTween:Xy,remove:ky,tween:ny,delay:vy,duration:xy,ease:_y,easeVarying:Cy,end:Zy,[Symbol.iterator]:Ht[Symbol.iterator]};function Qy(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var eb={time:null,delay:0,duration:250,ease:Qy};function tb(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function nb(e){var t,n;e instanceof nn?(t=e._id,e=e._name):(t=Id(),(n=eb).time=pl(),e=e==null?null:e+"");for(var o=this._groups,s=o.length,r=0;r<s;++r)for(var i=o[r],l=i.length,a,u=0;u<l;++u)(a=i[u])&&Nr(a,e,t,u,i,n||tb(a,t));return new nn(o,this._parents,e,t)}as.prototype.interrupt=Q0;as.prototype.transition=nb;const ws=e=>()=>e;function ob(e,{sourceEvent:t,target:n,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function Xt(e,t,n){this.k=e,this.x=t,this.y=n}Xt.prototype={constructor:Xt,scale:function(e){return e===1?this:new Xt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Xt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var co=new Xt(1,0,0);Xt.prototype;function oi(e){e.stopImmediatePropagation()}function Co(e){e.preventDefault(),e.stopImmediatePropagation()}function sb(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function rb(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Va(){return this.__zoom||co}function ib(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function lb(){return navigator.maxTouchPoints||"ontouchstart"in this}function ab(e,t,n){var o=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i))}function ub(){var e=sb,t=rb,n=ab,o=ib,s=lb,r=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Os,u=Cr("start","zoom","end"),c,f,g,b=500,I=150,S=0,k=10;function D(x){x.property("__zoom",Va).on("wheel.zoom",H,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",Y).filter(s).on("touchstart.zoom",G).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}D.transform=function(x,A,d,p){var j=x.selection?x.selection():x;j.property("__zoom",Va),x!==j?O(x,A,d,p):j.interrupt().each(function(){R(this,arguments).event(p).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},D.scaleBy=function(x,A,d,p){D.scaleTo(x,function(){var j=this.__zoom.k,Z=typeof A=="function"?A.apply(this,arguments):A;return j*Z},d,p)},D.scaleTo=function(x,A,d,p){D.transform(x,function(){var j=t.apply(this,arguments),Z=this.__zoom,Q=d==null?w(j):typeof d=="function"?d.apply(this,arguments):d,te=Z.invert(Q),le=typeof A=="function"?A.apply(this,arguments):A;return n(m(N(Z,le),Q,te),j,i)},d,p)},D.translateBy=function(x,A,d,p){D.transform(x,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof d=="function"?d.apply(this,arguments):d),t.apply(this,arguments),i)},null,p)},D.translateTo=function(x,A,d,p,j){D.transform(x,function(){var Z=t.apply(this,arguments),Q=this.__zoom,te=p==null?w(Z):typeof p=="function"?p.apply(this,arguments):p;return n(co.translate(te[0],te[1]).scale(Q.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof d=="function"?-d.apply(this,arguments):-d),Z,i)},p,j)};function N(x,A){return A=Math.max(r[0],Math.min(r[1],A)),A===x.k?x:new Xt(A,x.x,x.y)}function m(x,A,d){var p=A[0]-d[0]*x.k,j=A[1]-d[1]*x.k;return p===x.x&&j===x.y?x:new Xt(x.k,p,j)}function w(x){return[(+x[0][0]+ +x[1][0])/2,(+x[0][1]+ +x[1][1])/2]}function O(x,A,d,p){x.on("start.zoom",function(){R(this,arguments).event(p).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event(p).end()}).tween("zoom",function(){var j=this,Z=arguments,Q=R(j,Z).event(p),te=t.apply(j,Z),le=d==null?w(te):typeof d=="function"?d.apply(j,Z):d,me=Math.max(te[1][0]-te[0][0],te[1][1]-te[0][1]),Se=j.__zoom,ie=typeof A=="function"?A.apply(j,Z):A,re=a(Se.invert(le).concat(me/Se.k),ie.invert(le).concat(me/ie.k));return function(ue){if(ue===1)ue=ie;else{var Ce=re(ue),ke=me/Ce[2];ue=new Xt(ke,le[0]-Ce[0]*ke,le[1]-Ce[1]*ke)}Q.zoom(null,ue)}})}function R(x,A,d){return!d&&x.__zooming||new W(x,A)}function W(x,A){this.that=x,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(x,A),this.taps=0}W.prototype={event:function(x){return x&&(this.sourceEvent=x),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(x,A){return this.mouse&&x!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&x!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&x!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(x){var A=yt(this.that).datum();u.call(x,this.that,new ob(x,{sourceEvent:this.sourceEvent,target:D,transform:this.that.__zoom,dispatch:u}),A)}};function H(x,...A){if(!e.apply(this,arguments))return;var d=R(this,A).event(x),p=this.__zoom,j=Math.max(r[0],Math.min(r[1],p.k*Math.pow(2,o.apply(this,arguments)))),Z=Dt(x);if(d.wheel)(d.mouse[0][0]!==Z[0]||d.mouse[0][1]!==Z[1])&&(d.mouse[1]=p.invert(d.mouse[0]=Z)),clearTimeout(d.wheel);else{if(p.k===j)return;d.mouse=[Z,p.invert(Z)],Ls(this),d.start()}Co(x),d.wheel=setTimeout(Q,I),d.zoom("mouse",n(m(N(p,j),d.mouse[0],d.mouse[1]),d.extent,i));function Q(){d.wheel=null,d.end()}}function L(x,...A){if(g||!e.apply(this,arguments))return;var d=x.currentTarget,p=R(this,A,!0).event(x),j=yt(x.view).on("mousemove.zoom",le,!0).on("mouseup.zoom",me,!0),Z=Dt(x,d),Q=x.clientX,te=x.clientY;fd(x.view),oi(x),p.mouse=[Z,this.__zoom.invert(Z)],Ls(this),p.start();function le(Se){if(Co(Se),!p.moved){var ie=Se.clientX-Q,re=Se.clientY-te;p.moved=ie*ie+re*re>S}p.event(Se).zoom("mouse",n(m(p.that.__zoom,p.mouse[0]=Dt(Se,d),p.mouse[1]),p.extent,i))}function me(Se){j.on("mousemove.zoom mouseup.zoom",null),pd(Se.view,p.moved),Co(Se),p.event(Se).end()}}function Y(x,...A){if(e.apply(this,arguments)){var d=this.__zoom,p=Dt(x.changedTouches?x.changedTouches[0]:x,this),j=d.invert(p),Z=d.k*(x.shiftKey?.5:2),Q=n(m(N(d,Z),p,j),t.apply(this,A),i);Co(x),l>0?yt(this).transition().duration(l).call(O,Q,p,x):yt(this).call(D.transform,Q,p,x)}}function G(x,...A){if(e.apply(this,arguments)){var d=x.touches,p=d.length,j=R(this,A,x.changedTouches.length===p).event(x),Z,Q,te,le;for(oi(x),Q=0;Q<p;++Q)te=d[Q],le=Dt(te,this),le=[le,this.__zoom.invert(le),te.identifier],j.touch0?!j.touch1&&j.touch0[2]!==le[2]&&(j.touch1=le,j.taps=0):(j.touch0=le,Z=!0,j.taps=1+!!c);c&&(c=clearTimeout(c)),Z&&(j.taps<2&&(f=le[0],c=setTimeout(function(){c=null},b)),Ls(this),j.start())}}function T(x,...A){if(this.__zooming){var d=R(this,A).event(x),p=x.changedTouches,j=p.length,Z,Q,te,le;for(Co(x),Z=0;Z<j;++Z)Q=p[Z],te=Dt(Q,this),d.touch0&&d.touch0[2]===Q.identifier?d.touch0[0]=te:d.touch1&&d.touch1[2]===Q.identifier&&(d.touch1[0]=te);if(Q=d.that.__zoom,d.touch1){var me=d.touch0[0],Se=d.touch0[1],ie=d.touch1[0],re=d.touch1[1],ue=(ue=ie[0]-me[0])*ue+(ue=ie[1]-me[1])*ue,Ce=(Ce=re[0]-Se[0])*Ce+(Ce=re[1]-Se[1])*Ce;Q=N(Q,Math.sqrt(ue/Ce)),te=[(me[0]+ie[0])/2,(me[1]+ie[1])/2],le=[(Se[0]+re[0])/2,(Se[1]+re[1])/2]}else if(d.touch0)te=d.touch0[0],le=d.touch0[1];else return;d.zoom("touch",n(m(Q,te,le),d.extent,i))}}function q(x,...A){if(this.__zooming){var d=R(this,A).event(x),p=x.changedTouches,j=p.length,Z,Q;for(oi(x),g&&clearTimeout(g),g=setTimeout(function(){g=null},b),Z=0;Z<j;++Z)Q=p[Z],d.touch0&&d.touch0[2]===Q.identifier?delete d.touch0:d.touch1&&d.touch1[2]===Q.identifier&&delete d.touch1;if(d.touch1&&!d.touch0&&(d.touch0=d.touch1,delete d.touch1),d.touch0)d.touch0[1]=this.__zoom.invert(d.touch0[0]);else if(d.end(),d.taps===2&&(Q=Dt(Q,this),Math.hypot(f[0]-Q[0],f[1]-Q[1])<k)){var te=yt(this).on("dblclick.zoom");te&&te.apply(this,arguments)}}}return D.wheelDelta=function(x){return arguments.length?(o=typeof x=="function"?x:ws(+x),D):o},D.filter=function(x){return arguments.length?(e=typeof x=="function"?x:ws(!!x),D):e},D.touchable=function(x){return arguments.length?(s=typeof x=="function"?x:ws(!!x),D):s},D.extent=function(x){return arguments.length?(t=typeof x=="function"?x:ws([[+x[0][0],+x[0][1]],[+x[1][0],+x[1][1]]]),D):t},D.scaleExtent=function(x){return arguments.length?(r[0]=+x[0],r[1]=+x[1],D):[r[0],r[1]]},D.translateExtent=function(x){return arguments.length?(i[0][0]=+x[0][0],i[1][0]=+x[1][0],i[0][1]=+x[0][1],i[1][1]=+x[1][1],D):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},D.constrain=function(x){return arguments.length?(n=x,D):n},D.duration=function(x){return arguments.length?(l=+x,D):l},D.interpolate=function(x){return arguments.length?(a=x,D):a},D.on=function(){var x=u.on.apply(u,arguments);return x===u?D:x},D.clickDistance=function(x){return arguments.length?(S=(x=+x)*x,D):Math.sqrt(S)},D.tapDistance=function(x){return arguments.length?(k=+x,D):k},D}var ae=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(ae||{}),ml=(e=>(e.Partial="partial",e.Full="full",e))(ml||{}),In=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(In||{}),gn=(e=>(e.Strict="strict",e.Loose="loose",e))(gn||{}),Li=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Li||{}),zo=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(zo||{}),Nd=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(Nd||{});const cb=["INPUT","SELECT","TEXTAREA"],db=typeof document<"u"?document:null;function Bi(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,s=typeof o?.hasAttribute=="function"?o.hasAttribute("contenteditable"):!1,r=typeof o?.closest=="function"?o.closest(".nokey"):null;return cb.includes(o?.nodeName)||s||!!r}function fb(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function za(e,t,n,o){const s=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(i=>i.trim().toLowerCase());if(s.length===1)return e.toLowerCase()===t.toLowerCase();o||n.add(e.toLowerCase());const r=s.every((i,l)=>n.has(i)&&Array.from(n.values())[l]===s[l]);return o&&n.delete(e.toLowerCase()),r}function pb(e,t){return n=>{if(!n.code&&!n.key)return!1;const o=hb(n.code,e);return Array.isArray(e)?e.some(s=>za(n[o],s,t,n.type==="keyup")):za(n[o],e,t,n.type==="keyup")}}function hb(e,t){return t.includes(e)?"code":"key"}function Ho(e,t){const n=ne(()=>xe(t?.target)??db),o=Wt(xe(e)===!0);let s=!1;const r=new Set;let i=a(xe(e));_e(()=>xe(e),(u,c)=>{typeof c=="boolean"&&typeof u!="boolean"&&l(),i=a(u)},{immediate:!0}),Qc(["blur","contextmenu"],l),Sa((...u)=>i(...u),u=>{var c,f;const g=xe(t?.actInsideInputWithModifier)??!0,b=xe(t?.preventDefault)??!1;if(s=fb(u),(!s||s&&!g)&&Bi(u))return;const S=((f=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:f[0])||u.target,k=S?.nodeName==="BUTTON"||S?.nodeName==="A";!b&&(s||!k)&&u.preventDefault(),o.value=!0},{eventName:"keydown",target:n}),Sa((...u)=>i(...u),u=>{const c=xe(t?.actInsideInputWithModifier)??!0;if(o.value){if((!s||s&&!c)&&Bi(u))return;s=!1,o.value=!1}},{eventName:"keyup",target:n});function l(){s=!1,r.clear(),o.value=xe(e)===!0}function a(u){return u===null?(l(),()=>!1):typeof u=="boolean"?(l(),o.value=u,()=>!1):Array.isArray(u)||typeof u=="string"?pb(u,r):u}return o}const Td="vue-flow__node-desc",Md="vue-flow__edge-desc",gb="vue-flow__aria-live",$d=["Enter"," ","Escape"],no={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function or(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function sr(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function Tr(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Bn(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function kd(e,t){return{x:Bn(e.x,t[0][0],t[1][0]),y:Bn(e.y,t[0][1],t[1][1])}}function Ha(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function mn(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function An(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!mn(e)}function Mo(e){return An(e)&&"computedPosition"in e}function _s(e){return!Number.isNaN(e)&&Number.isFinite(e)}function mb(e){return _s(e.width)&&_s(e.height)&&_s(e.x)&&_s(e.y)}function vb(e,t,n){const o={id:e.id.toString(),type:e.type??"default",dimensions:hn({width:0,height:0}),computedPosition:hn({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Ue(e.data)?e.data:{},events:hn(Ue(e.events)?e.events:{})};return Object.assign(t??o,e,{id:e.id.toString(),parentNode:n})}function Ad(e,t,n){var o,s;const r={id:e.id.toString(),type:e.type??t?.type??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(s=e.targetHandle)==null?void 0:s.toString(),updatable:e.updatable??n?.updatable,selectable:e.selectable??n?.selectable,focusable:e.focusable??n?.focusable,data:Ue(e.data)?e.data:{},events:hn(Ue(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??n?.interactionWidth,...n??{}};return Object.assign(t??r,e,{id:e.id.toString()})}function Dd(e,t,n,o){const s=typeof e=="string"?e:e.id,r=new Set,i=o==="source"?"target":"source";for(const l of n)l[i]===s&&r.add(l[o]);return t.filter(l=>r.has(l.id))}function yb(...e){if(e.length===3){const[r,i,l]=e;return Dd(r,i,l,"target")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(r=>mn(r)&&r.source===o).map(r=>n.find(i=>An(i)&&i.id===r.target))}function bb(...e){if(e.length===3){const[r,i,l]=e;return Dd(r,i,l,"source")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(r=>mn(r)&&r.target===o).map(r=>n.find(i=>An(i)&&i.id===r.source))}function Od({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function xb(e,t){return t.some(n=>mn(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function ts({x:e,y:t},{x:n,y:o,zoom:s}){return{x:e*s+n,y:t*s+o}}function ns({x:e,y:t},{x:n,y:o,zoom:s},r=!1,i=[1,1]){const l={x:(e-n)/s,y:(t-o)/s};return r?Mr(l,i):l}function wb(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Pd({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function _b({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function Rd(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const o=e[n];t=wb(t,Pd({...o.computedPosition,...o.dimensions}))}return _b(t)}function Ld(e,t,n={x:0,y:0,zoom:1},o=!1,s=!1){const r={...ns(t,n),width:t.width/n.zoom,height:t.height/n.zoom},i=[];for(const l of e){const{dimensions:a,selectable:u=!0,hidden:c=!1}=l,f=a.width??l.width??null,g=a.height??l.height??null;if(s&&!u||c)continue;const b=sr(r,or(l)),I=f===null||g===null,S=o&&b>0,k=(f??0)*(g??0);(I||S||b>=k||l.dragging)&&i.push(l)}return i}function Bd(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function jn(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return cs(`The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Sb(e,t,n){if(typeof e=="string"||typeof e=="number"){const o=jn(e,n),s=jn(e,t);return{top:o,right:s,bottom:o,left:s,x:s*2,y:o*2}}if(typeof e=="object"){const o=jn(e.top??e.y??0,n),s=jn(e.bottom??e.y??0,n),r=jn(e.left??e.x??0,t),i=jn(e.right??e.x??0,t);return{top:o,right:i,bottom:s,left:r,x:r+i,y:o+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Cb(e,t,n,o,s,r){const{x:i,y:l}=ts(e,{x:t,y:n,zoom:o}),{x:a,y:u}=ts({x:e.x+e.width,y:e.y+e.height},{x:t,y:n,zoom:o}),c=s-a,f=r-u;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(c),bottom:Math.floor(f)}}function ja(e,t,n,o,s,r=.1){const i=Sb(r,t,n),l=(t-i.x)/e.width,a=(n-i.y)/e.height,u=Math.min(l,a),c=Bn(u,o,s),f=e.x+e.width/2,g=e.y+e.height/2,b=t/2-f*c,I=n/2-g*c,S=Cb(e,b,I,c,t,n),k={left:Math.min(S.left-i.left,0),top:Math.min(S.top-i.top,0),right:Math.min(S.right-i.right,0),bottom:Math.min(S.bottom-i.bottom,0)};return{x:b-k.left+k.right,y:I-k.top+k.bottom,zoom:c}}function Eb(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function Fd(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:Fd(n,t):!1}function os(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`}function Ua(e){const t=e.ctrlKey&&rr()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function Ga(e,t,n){return e<t?Bn(Math.abs(e-t),1,t)/t:e>n?-Bn(Math.abs(e-n),1,t)/t:0}function Vd(e,t,n=15,o=40){const s=Ga(e.x,o,t.width-o)*n,r=Ga(e.y,o,t.height-o)*n;return[s,r]}function si(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let s={};if(typeof t.style=="function"?s={...t.style(t)}:t.style&&(s={...t.style}),s.width=s.width??`${t.dimensions.width}px`,s.height=s.height??`${t.dimensions.height}px`,n>0)if(typeof s.width=="string"){const r=Number(s.width.replace("px",""));s.width=`${r+n}px`}else s.width+=n;if(o>0)if(typeof s.height=="string"){const r=Number(s.height.replace("px",""));s.height=`${r+o}px`}else s.height+=o;if(e.position.x<0){const r=Math.abs(e.position.x);if(t.position.x=t.position.x-r,typeof s.width=="string"){const i=Number(s.width.replace("px",""));s.width=`${i+r}px`}else s.width+=r;e.position.x=0}if(e.position.y<0){const r=Math.abs(e.position.y);if(t.position.y=t.position.y-r,typeof s.height=="string"){const i=Number(s.height.replace("px",""));s.height=`${i+r}px`}else s.height+=r;e.position.y=0}t.dimensions.width=Number(s.width.toString().replace("px","")),t.dimensions.height=Number(s.height.toString().replace("px","")),typeof t.style=="function"?t.style=r=>{const i=t.style;return{...i(r),...s}}:t.style={...t.style,...s}}}}function Ya(e,t){var n,o;const s=e.filter(i=>i.type==="add"||i.type==="remove");for(const i of s)if(i.type==="add")t.findIndex(a=>a.id===i.item.id)===-1&&t.push(i.item);else if(i.type==="remove"){const l=t.findIndex(a=>a.id===i.id);l!==-1&&t.splice(l,1)}const r=t.map(i=>i.id);for(const i of t)for(const l of e)if(l.id===i.id)switch(l.type){case"select":i.selected=l.selected;break;case"position":if(Mo(i)&&(typeof l.position<"u"&&(i.position=l.position),typeof l.dragging<"u"&&(i.dragging=l.dragging),i.expandParent&&i.parentNode)){const a=t[r.indexOf(i.parentNode)];a&&Mo(a)&&si(i,a)}break;case"dimensions":if(Mo(i)&&(typeof l.dimensions<"u"&&(i.dimensions=l.dimensions),typeof l.updateStyle<"u"&&l.updateStyle&&(i.style={...i.style||{},width:`${(n=l.dimensions)==null?void 0:n.width}px`,height:`${(o=l.dimensions)==null?void 0:o.height}px`}),typeof l.resizing<"u"&&(i.resizing=l.resizing),i.expandParent&&i.parentNode)){const a=t[r.indexOf(i.parentNode)];a&&Mo(a)&&(!!a.dimensions.width&&!!a.dimensions.height?si(i,a):dt(()=>{si(i,a)}))}break}return t}function cn(e,t){return{id:e,type:"select",selected:t}}function Ka(e){return{item:e,type:"add"}}function Wa(e){return{id:e,type:"remove"}}function Xa(e,t,n,o,s){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:s||null,type:"remove"}}function pn(e,t=new Set,n=!1){const o=[];for(const[s,r]of e){const i=t.has(s);!(r.selected===void 0&&!i)&&r.selected!==i&&(n&&(r.selected=i),o.push(cn(r.id,i)))}return o}const qa=()=>{};function oe(e){const t=new Set;let n=qa,o=()=>!1;const s=()=>t.size>0||o(),r=g=>{n=g},i=()=>{n=qa},l=g=>{o=g},a=()=>{o=()=>!1},u=g=>{t.delete(g)};return{on:g=>{t.add(g);const b=()=>u(g);return qo(b),{off:b}},off:u,trigger:g=>{const b=[n];return s()?b.push(...t):e&&b.push(e),Promise.allSettled(b.map(I=>I(g)))},hasListeners:s,listeners:t,setEmitter:r,removeEmitter:i,setHasEmitListeners:l,removeHasEmitListeners:a}}function Za(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function Ib(e,t,n,o){var s,r;const i=new Map;for(const[l,a]of e)(a.selected||a.id===o)&&(!a.parentNode||!Fd(a,e))&&(a.draggable||t&&typeof a.draggable>"u")&&e.get(l)&&i.set(l,{id:a.id,position:a.position||{x:0,y:0},distance:{x:n.x-((s=a.computedPosition)==null?void 0:s.x)||0,y:n.y-((r=a.computedPosition)==null?void 0:r.y)||0},from:{x:a.computedPosition.x,y:a.computedPosition.y},extent:a.extent,parentNode:a.parentNode,dimensions:{...a.dimensions},expandParent:a.expandParent});return Array.from(i.values())}function ri({id:e,dragItems:t,findNode:n}){const o=[];for(const s of t){const r=n(s.id);r&&o.push(r)}return[e?o.find(s=>s.id===e):o[0],o]}function zd(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function Nb(e,t,n){const[o,s,r,i]=typeof e!="string"?zd(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+i,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-s,n.computedPosition.y+n.dimensions.height-r]]:!1}function Tb(e,t,n,o){let s=e.extent||n;if((s==="parent"||!Array.isArray(s)&&s?.range==="parent")&&!e.expandParent)if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const r=Nb(s,e,o);r&&(s=r)}else t(new Ke(Ge.NODE_EXTENT_INVALID,e.id)),s=n;else if(Array.isArray(s)){const r=o?.computedPosition.x||0,i=o?.computedPosition.y||0;s=[[s[0][0]+r,s[0][1]+i],[s[1][0]+r,s[1][1]+i]]}else if(s!=="parent"&&s?.range&&Array.isArray(s.range)){const[r,i,l,a]=zd(s.padding),u=o?.computedPosition.x||0,c=o?.computedPosition.y||0;s=[[s.range[0][0]+u+a,s.range[0][1]+c+r],[s.range[1][0]+u-i,s.range[1][1]+c-l]]}return s==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:s}function Mb({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function vl(e,t,n,o,s){const r=Mb(e.dimensions,Tb(e,n,o,s)),i=kd(t,r);return{position:{x:i.x-(s?.computedPosition.x||0),y:i.y-(s?.computedPosition.y||0)},computedPosition:i}}function fo(e,t,n=ae.Left,o=!1){const s=(t?.x??0)+e.computedPosition.x,r=(t?.y??0)+e.computedPosition.y,{width:i,height:l}=t??Db(e);if(o)return{x:s+i/2,y:r+l/2};switch(t?.position??n){case ae.Top:return{x:s+i/2,y:r};case ae.Right:return{x:s+i,y:r+l/2};case ae.Bottom:return{x:s+i/2,y:r+l};case ae.Left:return{x:s,y:r+l/2}}}function Ja(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function $b({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:s,targetHeight:r,width:i,height:l,viewport:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+s),y2:Math.max(e.y+o,t.y+r)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Pd({x:(0-a.x)/a.zoom,y:(0-a.y)/a.zoom,width:i/a.zoom,height:l/a.zoom}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),g=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*g)>0}function kb(e,t,n=!1){const o=typeof e.zIndex=="number";let s=o?e.zIndex:0;const r=t(e.source),i=t(e.target);return!r||!i?0:(n&&(s=o?e.zIndex:Math.max(r.computedPosition.z||0,i.computedPosition.z||0)),s)}var Ge=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Ge||{});const Qa={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Ke extends Error{constructor(t,...n){var o;super((o=Qa[t])==null?void 0:o.call(Qa,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function yl(e){return"clientX"in e}function Ab(e){return"sourceEvent"in e}function Rt(e,t){const n=yl(e);let o,s;return n?(o=e.clientX,s=e.clientY):"touches"in e&&e.touches.length>0?(o=e.touches[0].clientX,s=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(o=e.changedTouches[0].clientX,s=e.changedTouches[0].clientY):(o=0,s=0),{x:o-(t?.left??0),y:s-(t?.top??0)}}const rr=()=>{var e;return typeof navigator<"u"&&((e=navigator?.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Db(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function Mr(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const Ob=()=>!0;function ii(e){e?.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function Pb(e,t,n){const o=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const r of t.values())sr(s,or(r))>0&&o.push(r);return o}const Rb=250;function Lb(e,t,n,o){var s,r;let i=[],l=Number.POSITIVE_INFINITY;const a=Pb(e,n,t+Rb);for(const u of a){const c=[...((s=u.handleBounds)==null?void 0:s.source)??[],...((r=u.handleBounds)==null?void 0:r.target)??[]];for(const f of c){if(o.nodeId===f.nodeId&&o.type===f.type&&o.id===f.id)continue;const{x:g,y:b}=fo(u,f,f.position,!0),I=Math.sqrt((g-e.x)**2+(b-e.y)**2);I>t||(I<l?(i=[{...f,x:g,y:b}],l=I):I===l&&i.push({...f,x:g,y:b}))}}if(!i.length)return null;if(i.length>1){const u=o.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function eu(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:s,fromType:r,doc:i,lib:l,flowId:a,isValidConnection:u=Ob},c,f,g,b){const I=r==="target",S=t?i.querySelector(`.${l}-flow__handle[data-id="${a}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:k,y:D}=Rt(e),N=i.elementFromPoint(k,D),m=N?.classList.contains(`${l}-flow__handle`)?N:S,w={handleDomNode:m,isValid:!1,connection:null,toHandle:null};if(m){const O=Hd(void 0,m),R=m.getAttribute("data-nodeid"),W=m.getAttribute("data-handleid"),H=m.classList.contains("connectable"),L=m.classList.contains("connectableend");if(!R||!O)return w;const Y={source:I?R:o,sourceHandle:I?W:s,target:I?o:R,targetHandle:I?s:W};w.connection=Y;const T=H&&L&&(n===gn.Strict?I&&O==="source"||!I&&O==="target":R!==o||W!==s);w.isValid=T&&u(Y,{nodes:f,edges:c,sourceNode:g(Y.source),targetNode:g(Y.target)}),w.toHandle=jd(R,O,W,b,n,!0)}return w}function Hd(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function Bb(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Fb(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function jd(e,t,n,o,s,r=!1){var i,l,a;const u=o.get(e);if(!u)return null;const c=s===gn.Strict?(i=u.handleBounds)==null?void 0:i[t]:[...((l=u.handleBounds)==null?void 0:l.source)??[],...((a=u.handleBounds)==null?void 0:a.target)??[]],f=(n?c?.find(g=>g.id===n):c?.[0])??null;return f&&r?{...f,...fo(u,f,f.position,!0)}:f}const Fi={[ae.Left]:ae.Right,[ae.Right]:ae.Left,[ae.Top]:ae.Bottom,[ae.Bottom]:ae.Top},Vb=["production","prod"];function cs(e,...t){Ud()&&console.warn(`[Vue Flow]: ${e}`,...t)}function Ud(){return!Vb.includes("production")}function tu(e,t,n,o,s){const r=t.querySelectorAll(`.vue-flow__handle.${e}`);return r?.length?Array.from(r).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:s,position:i.getAttribute("data-handlepos"),x:(l.left-n.left)/o,y:(l.top-n.top)/o,...Tr(i)}}):null}function Vi(e,t,n,o,s,r=!1,i){s.value=!1,e.selected?(r||e.selected&&t)&&(o([e]),dt(()=>{i.blur()})):n([e])}function Ue(e){return typeof V(e)<"u"}function zb(e,t,n,o){if(!e||!e.source||!e.target)return n(new Ke(Ge.EDGE_INVALID,e?.id??"[ID UNKNOWN]")),!1;let s;return mn(e)?s=e:s={...e,id:Od(e)},s=Ad(s,void 0,o),xb(s,t)?!1:s}function Hb(e,t,n,o,s){if(!t.source||!t.target)return s(new Ke(Ge.EDGE_INVALID,e.id)),!1;if(!n)return s(new Ke(Ge.EDGE_NOT_FOUND,e.id)),!1;const{id:r,...i}=e;return{...i,id:o?Od(t):r,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function nu(e,t,n){const o={},s=[];for(let r=0;r<e.length;++r){const i=e[r];if(!An(i)){n(new Ke(Ge.NODE_INVALID,i?.id)||`[ID UNKNOWN|INDEX ${r}]`);continue}const l=vb(i,t(i.id),i.parentNode);i.parentNode&&(o[i.parentNode]=!0),s[r]=l}for(const r of s){const i=t(r.parentNode)||s.find(l=>l.id===r.parentNode);r.parentNode&&!i&&n(new Ke(Ge.NODE_MISSING_PARENT,r.id,r.parentNode)),(r.parentNode||o[r.id])&&(o[r.id]&&(r.isParent=!0),i&&(i.isParent=!0))}return s}function ou(e,t,n,o,s,r){let i=s;const l=o.get(i)||new Map;o.set(i,l.set(n,t)),i=`${s}-${e}`;const a=o.get(i)||new Map;if(o.set(i,a.set(n,t)),r){i=`${s}-${e}-${r}`;const u=o.get(i)||new Map;o.set(i,u.set(n,t))}}function li(e,t,n){e.clear();for(const o of n){const{source:s,target:r,sourceHandle:i=null,targetHandle:l=null}=o,a={edgeId:o.id,source:s,target:r,sourceHandle:i,targetHandle:l},u=`${s}-${i}--${r}-${l}`,c=`${r}-${l}--${s}-${i}`;ou("source",a,c,e,s,i),ou("target",a,u,e,r,l)}}function su(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function ai(e,t,n,o,s,r,i,l){const a=[];for(const u of e){const c=mn(u)?u:zb(u,l,s,r);if(!c)continue;const f=n(c.source),g=n(c.target);if(!f||!g){s(new Ke(Ge.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!f){s(new Ke(Ge.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!g){s(new Ke(Ge.EDGE_TARGET_MISSING,c.id,c.target));continue}if(t&&!t(c,{edges:l,nodes:i,sourceNode:f,targetNode:g})){s(new Ke(Ge.EDGE_INVALID,c.id));continue}const b=o(c.id);a.push({...Ad(c,b,r),sourceNode:f,targetNode:g})}return a}const ru=Symbol("vueFlow"),Gd=Symbol("nodeId"),Yd=Symbol("nodeRef"),jb=Symbol("edgeId"),Ub=Symbol("edgeRef"),$r=Symbol("slots");function Kd(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:s,nodeLookup:r,nodeExtent:i,nodeDragThreshold:l,viewport:a,autoPanOnNodeDrag:u,autoPanSpeed:c,nodesDraggable:f,panBy:g,findNode:b,multiSelectionActive:I,nodesSelectionActive:S,selectNodesOnDrag:k,removeSelectedElements:D,addSelectedNodes:N,updateNodePositions:m,emits:w}=Le(),{onStart:O,onDrag:R,onStop:W,onClick:H,el:L,disabled:Y,id:G,selectable:T,dragHandle:q}=e,x=Wt(!1);let A=[],d,p=null,j={x:void 0,y:void 0},Z={x:0,y:0},Q=null,te=!1,le=!1,me=0,Se=!1;const ie=Kb(),re=({x:C,y:$})=>{j={x:C,y:$};let v=!1;if(A=A.map(y=>{const _={x:C-y.distance.x,y:$-y.distance.y},{computedPosition:E}=vl(y,n.value?Mr(_,o.value):_,w.error,i.value,y.parentNode?b(y.parentNode):void 0);return v=v||y.position.x!==E.x||y.position.y!==E.y,y.position=E,y}),le=le||v,!!v&&(m(A,!0,!0),x.value=!0,Q)){const[y,_]=ri({id:G,dragItems:A,findNode:b});R({event:Q,node:y,nodes:_})}},ue=()=>{if(!p)return;const[C,$]=Vd(Z,p,c.value);if(C!==0||$!==0){const v={x:(j.x??0)-C/a.value.zoom,y:(j.y??0)-$/a.value.zoom};g({x:C,y:$})&&re(v)}me=requestAnimationFrame(ue)},Ce=(C,$)=>{te=!0;const v=b(G);!k.value&&!I.value&&v&&(v.selected||D()),v&&xe(T)&&k.value&&Vi(v,I.value,N,D,S,!1,$);const y=ie(C.sourceEvent);if(j=y,A=Ib(r.value,f.value,y,G),A.length){const[_,E]=ri({id:G,dragItems:A,findNode:b});O({event:C.sourceEvent,node:_,nodes:E})}},ke=(C,$)=>{var v;C.sourceEvent.type==="touchmove"&&C.sourceEvent.touches.length>1||(le=!1,l.value===0&&Ce(C,$),j=ie(C.sourceEvent),p=((v=t.value)==null?void 0:v.getBoundingClientRect())||null,Z=Rt(C.sourceEvent,p))},ve=(C,$)=>{const v=ie(C.sourceEvent);if(!Se&&te&&u.value&&(Se=!0,ue()),!te){const y=v.xSnapped-(j.x??0),_=v.ySnapped-(j.y??0);Math.sqrt(y*y+_*_)>l.value&&Ce(C,$)}(j.x!==v.xSnapped||j.y!==v.ySnapped)&&A.length&&te&&(Q=C.sourceEvent,Z=Rt(C.sourceEvent,p),re(v))},$e=C=>{let $=!1;if(!te&&!x.value&&!I.value){const v=C.sourceEvent,y=ie(v),_=y.xSnapped-(j.x??0),E=y.ySnapped-(j.y??0),M=Math.sqrt(_*_+E*E);M!==0&&M<=l.value&&(H?.(v),$=!0)}if(A.length&&!$){le&&(m(A,!1,!1),le=!1);const[v,y]=ri({id:G,dragItems:A,findNode:b});W({event:C.sourceEvent,node:v,nodes:y})}A=[],x.value=!1,Se=!1,te=!1,j={x:void 0,y:void 0},cancelAnimationFrame(me)};return _e([()=>xe(Y),L],([C,$],v,y)=>{if($){const _=yt($);C||(d=m0().on("start",E=>ke(E,$)).on("drag",E=>ve(E,$)).on("end",E=>$e(E)).filter(E=>{const M=E.target,z=xe(q);return!E.button&&(!s.value||!Za(M,`.${s.value}`,$)&&(!z||Za(M,z,$)))}),_.call(d)),y(()=>{_.on(".drag",null),d&&(d.on("start",null),d.on("drag",null),d.on("end",null))})}}),x}function Gb(){return{doubleClick:oe(),click:oe(),mouseEnter:oe(),mouseMove:oe(),mouseLeave:oe(),contextMenu:oe(),updateStart:oe(),update:oe(),updateEnd:oe()}}function Yb(e,t){const n=Gb();return n.doubleClick.on(o=>{var s,r;t.edgeDoubleClick(o),(r=(s=e.events)==null?void 0:s.doubleClick)==null||r.call(s,o)}),n.click.on(o=>{var s,r;t.edgeClick(o),(r=(s=e.events)==null?void 0:s.click)==null||r.call(s,o)}),n.mouseEnter.on(o=>{var s,r;t.edgeMouseEnter(o),(r=(s=e.events)==null?void 0:s.mouseEnter)==null||r.call(s,o)}),n.mouseMove.on(o=>{var s,r;t.edgeMouseMove(o),(r=(s=e.events)==null?void 0:s.mouseMove)==null||r.call(s,o)}),n.mouseLeave.on(o=>{var s,r;t.edgeMouseLeave(o),(r=(s=e.events)==null?void 0:s.mouseLeave)==null||r.call(s,o)}),n.contextMenu.on(o=>{var s,r;t.edgeContextMenu(o),(r=(s=e.events)==null?void 0:s.contextMenu)==null||r.call(s,o)}),n.updateStart.on(o=>{var s,r;t.edgeUpdateStart(o),(r=(s=e.events)==null?void 0:s.updateStart)==null||r.call(s,o)}),n.update.on(o=>{var s,r;t.edgeUpdate(o),(r=(s=e.events)==null?void 0:s.update)==null||r.call(s,o)}),n.updateEnd.on(o=>{var s,r;t.edgeUpdateEnd(o),(r=(s=e.events)==null?void 0:s.updateEnd)==null||r.call(s,o)}),Object.entries(n).reduce((o,[s,r])=>(o.emit[s]=r.trigger,o.on[s]=r.on,o),{emit:{},on:{}})}function Kb(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:o}=Le();return s=>{var r;const i=((r=o.value)==null?void 0:r.getBoundingClientRect())??{left:0,top:0},l=Ab(s)?s.sourceEvent:s,{x:a,y:u}=Rt(l,i),c=ns({x:a,y:u},e.value),{x:f,y:g}=n.value?Mr(c,t.value):c;return{xSnapped:f,ySnapped:g,...c}}}function Ss(){return!0}function Wd({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:s,onEdgeUpdate:r,onEdgeUpdateEnd:i}){const{id:l,vueFlowRef:a,connectionMode:u,connectionRadius:c,connectOnClick:f,connectionClickStartHandle:g,nodesConnectable:b,autoPanOnConnect:I,autoPanSpeed:S,findNode:k,panBy:D,startConnection:N,updateConnection:m,endConnection:w,emits:O,viewport:R,edges:W,nodes:H,isValidConnection:L,nodeLookup:Y}=Le();let G=null,T=!1,q=null;function x(d){var p;const j=xe(n)==="target",Z=yl(d),Q=Ha(d.target),te=d.currentTarget;if(te&&(Z&&d.button===0||!Z)){let le=function(X){v=Rt(X,$e),re=Lb(ns(v,R.value,!1,[1,1]),c.value,Y.value,E),y||(_(),y=!0);const K=eu(X,{handle:re,connectionMode:u.value,fromNodeId:xe(t),fromHandleId:xe(e),fromType:j?"target":"source",isValidConnection:ie,doc:Q,lib:"vue",flowId:l,nodeLookup:Y.value},W.value,H.value,k,Y.value);q=K.handleDomNode,G=K.connection,T=Fb(!!re,K.isValid);const J={...B,isValid:T,to:K.toHandle&&T?ts({x:K.toHandle.x,y:K.toHandle.y},R.value):v,toHandle:K.toHandle,toPosition:T&&K.toHandle?K.toHandle.position:Fi[E.position],toNode:K.toHandle?Y.value.get(K.toHandle.nodeId):null};if(T&&re&&B?.toHandle&&J.toHandle&&B.toHandle.type===J.toHandle.type&&B.toHandle.nodeId===J.toHandle.nodeId&&B.toHandle.id===J.toHandle.id&&B.to.x===J.to.x&&B.to.y===J.to.y)return;const ee=re??K.toHandle;if(m(ee&&T?ts({x:ee.x,y:ee.y},R.value):v,ee,Bb(!!ee,T)),B=J,!re&&!T&&!q)return ii($);G&&G.source!==G.target&&q&&(ii($),$=q,q.classList.add("connecting","vue-flow__handle-connecting"),q.classList.toggle("valid",!!T),q.classList.toggle("vue-flow__handle-valid",!!T))},me=function(X){"touches"in X&&X.touches.length>0||((re||q)&&G&&T&&(r?r(X,G):O.connect(G)),O.connectEnd(X),s&&i?.(X),ii($),cancelAnimationFrame(ue),w(X),y=!1,T=!1,G=null,q=null,Q.removeEventListener("mousemove",le),Q.removeEventListener("mouseup",me),Q.removeEventListener("touchmove",le),Q.removeEventListener("touchend",me))};const Se=k(xe(t));let ie=xe(o)||L.value||Ss;!ie&&Se&&(ie=(j?Se.isValidSourcePos:Se.isValidTargetPos)||Ss);let re,ue=0;const{x:Ce,y:ke}=Rt(d),ve=Hd(xe(s),te),$e=(p=a.value)==null?void 0:p.getBoundingClientRect();if(!$e||!ve)return;const C=jd(xe(t),ve,xe(e),Y.value,u.value);if(!C)return;let $,v=Rt(d,$e),y=!1;const _=()=>{if(!I.value)return;const[X,K]=Vd(v,$e,S.value);D({x:X,y:K}),ue=requestAnimationFrame(_)},E={...C,nodeId:xe(t),type:ve,position:C.position},M=Y.value.get(xe(t)),F={inProgress:!0,isValid:null,from:fo(M,E,ae.Left,!0),fromHandle:E,fromPosition:E.position,fromNode:M,to:v,toHandle:null,toPosition:Fi[E.position],toNode:null};N({nodeId:xe(t),id:xe(e),type:ve,position:te?.getAttribute("data-handlepos")||ae.Top,...v},{x:Ce-$e.left,y:ke-$e.top}),O.connectStart({event:d,nodeId:xe(t),handleId:xe(e),handleType:ve});let B=F;Q.addEventListener("mousemove",le),Q.addEventListener("mouseup",me),Q.addEventListener("touchmove",le),Q.addEventListener("touchend",me)}}function A(d){var p,j;if(!f.value)return;const Z=xe(n)==="target";if(!g.value){O.clickConnectStart({event:d,nodeId:xe(t),handleId:xe(e)}),N({nodeId:xe(t),type:xe(n),id:xe(e),position:ae.Top,...Rt(d)},void 0,!0);return}let Q=xe(o)||L.value||Ss;const te=k(xe(t));if(!Q&&te&&(Q=(Z?te.isValidSourcePos:te.isValidTargetPos)||Ss),te&&(typeof te.connectable>"u"?b.value:te.connectable)===!1)return;const le=Ha(d.target),me=eu(d,{handle:{nodeId:xe(t),id:xe(e),type:xe(n),position:ae.Top,...Rt(d)},connectionMode:u.value,fromNodeId:g.value.nodeId,fromHandleId:g.value.id??null,fromType:g.value.type,isValidConnection:Q,doc:le,lib:"vue",flowId:l,nodeLookup:Y.value},W.value,H.value,k,Y.value),Se=((p=me.connection)==null?void 0:p.source)===((j=me.connection)==null?void 0:j.target);me.isValid&&me.connection&&!Se&&O.connect(me.connection),O.clickConnectEnd(d),w(d,!0)}return{handlePointerDown:x,handleClick:A}}function Wb(){return wt(Gd,"")}function Xd(e){const t=e??Wb()??"",n=wt(Yd,we(null)),{findNode:o,edges:s,emits:r}=Le(),i=o(t);return i||r.error(new Ke(Ge.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:i,parentNode:ne(()=>o(i.parentNode)),connectedEdges:ne(()=>Bd([i],s.value))}}function Xb(){return{doubleClick:oe(),click:oe(),mouseEnter:oe(),mouseMove:oe(),mouseLeave:oe(),contextMenu:oe(),dragStart:oe(),drag:oe(),dragStop:oe()}}function qb(e,t){const n=Xb();return n.doubleClick.on(o=>{var s,r;t.nodeDoubleClick(o),(r=(s=e.events)==null?void 0:s.doubleClick)==null||r.call(s,o)}),n.click.on(o=>{var s,r;t.nodeClick(o),(r=(s=e.events)==null?void 0:s.click)==null||r.call(s,o)}),n.mouseEnter.on(o=>{var s,r;t.nodeMouseEnter(o),(r=(s=e.events)==null?void 0:s.mouseEnter)==null||r.call(s,o)}),n.mouseMove.on(o=>{var s,r;t.nodeMouseMove(o),(r=(s=e.events)==null?void 0:s.mouseMove)==null||r.call(s,o)}),n.mouseLeave.on(o=>{var s,r;t.nodeMouseLeave(o),(r=(s=e.events)==null?void 0:s.mouseLeave)==null||r.call(s,o)}),n.contextMenu.on(o=>{var s,r;t.nodeContextMenu(o),(r=(s=e.events)==null?void 0:s.contextMenu)==null||r.call(s,o)}),n.dragStart.on(o=>{var s,r;t.nodeDragStart(o),(r=(s=e.events)==null?void 0:s.dragStart)==null||r.call(s,o)}),n.drag.on(o=>{var s,r;t.nodeDrag(o),(r=(s=e.events)==null?void 0:s.drag)==null||r.call(s,o)}),n.dragStop.on(o=>{var s,r;t.nodeDragStop(o),(r=(s=e.events)==null?void 0:s.dragStop)==null||r.call(s,o)}),Object.entries(n).reduce((o,[s,r])=>(o.emit[s]=r.trigger,o.on[s]=r.on,o),{emit:{},on:{}})}function qd(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:s,snapToGrid:r,nodesDraggable:i,emits:l}=Le();return(a,u=!1)=>{const c=r.value?s.value[0]:5,f=r.value?s.value[1]:5,g=u?4:1,b=a.x*c*g,I=a.y*f*g,S=[];for(const k of e.value)if(k.draggable||i&&typeof k.draggable>"u"){const D={x:k.computedPosition.x+b,y:k.computedPosition.y+I},{position:N}=vl(k,D,l.error,t.value,k.parentNode?o(k.parentNode):void 0);S.push({id:k.id,position:N,from:k.position,distance:{x:a.x,y:a.y},dimensions:k.dimensions})}n(S,!0,!1)}}const Cs=.1,Zb=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function rn(){return cs("Viewport not initialized yet."),Promise.resolve(!1)}const Jb={zoomIn:rn,zoomOut:rn,zoomTo:rn,fitView:rn,setCenter:rn,fitBounds:rn,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:rn,setTransform:rn,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function Qb(e){function t(o,s){return new Promise(r=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(s?.interpolate==="linear"?Vo:Os).scaleBy(ui(e.d3Selection,s?.duration,s?.ease,()=>{r(!0)}),o):r(!1)})}function n(o,s,r,i){return new Promise(l=>{var a;const{x:u,y:c}=kd({x:-o,y:-s},e.translateExtent),f=co.translate(-u,-c).scale(r);e.d3Selection&&e.d3Zoom?(a=e.d3Zoom)==null||a.interpolate(i?.interpolate==="linear"?Vo:Os).transform(ui(e.d3Selection,i?.duration,i?.ease,()=>{l(!0)}),f):l(!1)})}return ne(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:s=>t(1.2,s),zoomOut:s=>t(1/1.2,s),zoomTo:(s,r)=>new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(r?.interpolate==="linear"?Vo:Os).scaleTo(ui(e.d3Selection,r?.duration,r?.ease,()=>{i(!0)}),s):i(!1)}),setViewport:(s,r)=>n(s.x,s.y,s.zoom,r),setTransform:(s,r)=>n(s.x,s.y,s.zoom,r),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(s={padding:Cs,includeHiddenNodes:!1,duration:0})=>{var r,i;const l=[];for(const g of e.nodes)g.dimensions.width&&g.dimensions.height&&(s?.includeHiddenNodes||!g.hidden)&&(!((r=s.nodes)!=null&&r.length)||(i=s.nodes)!=null&&i.length&&s.nodes.includes(g.id))&&l.push(g);if(!l.length)return Promise.resolve(!1);const a=Rd(l),{x:u,y:c,zoom:f}=ja(a,e.dimensions.width,e.dimensions.height,s.minZoom??e.minZoom,s.maxZoom??e.maxZoom,s.padding??Cs);return n(u,c,f,s)},setCenter:(s,r,i)=>{const l=typeof i?.zoom<"u"?i.zoom:e.maxZoom,a=e.dimensions.width/2-s*l,u=e.dimensions.height/2-r*l;return n(a,u,l,i)},fitBounds:(s,r={padding:Cs})=>{const{x:i,y:l,zoom:a}=ja(s,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,r.padding??Cs);return n(i,l,a,r)},project:s=>ns(s,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:s=>{if(e.vueFlowRef){const{x:r,y:i}=e.vueFlowRef.getBoundingClientRect(),l={x:s.x-r,y:s.y-i};return ns(l,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:s=>{if(e.vueFlowRef){const{x:r,y:i}=e.vueFlowRef.getBoundingClientRect(),l={x:s.x+r,y:s.y+i};return ts(l,e.viewport)}return{x:0,y:0}}}:Jb)}function ui(e,t=0,n=Zb,o=()=>{}){const s=typeof t=="number"&&t>0;return s||o(),s?e.transition().duration(t).ease(n).on("end",o):e}function e1(e,t,n){const o=dr(!0);return o.run(()=>{const s=()=>{o.run(()=>{let S,k,D=!!(n.nodes.value.length||n.edges.value.length);S=Hn([e.modelValue,()=>{var N,m;return(m=(N=e.modelValue)==null?void 0:N.value)==null?void 0:m.length}],([N])=>{N&&Array.isArray(N)&&(k?.pause(),n.setElements(N),!k&&!D&&N.length?D=!0:k?.resume())}),k=Hn([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([N,m])=>{var w;(w=e.modelValue)!=null&&w.value&&Array.isArray(e.modelValue.value)&&(S?.pause(),e.modelValue.value=[...N,...m],dt(()=>{S?.resume()}))},{immediate:D}),ko(()=>{S?.stop(),k?.stop()})})},r=()=>{o.run(()=>{let S,k,D=!!n.nodes.value.length;S=Hn([e.nodes,()=>{var N,m;return(m=(N=e.nodes)==null?void 0:N.value)==null?void 0:m.length}],([N])=>{N&&Array.isArray(N)&&(k?.pause(),n.setNodes(N),!k&&!D&&N.length?D=!0:k?.resume())}),k=Hn([n.nodes,()=>n.nodes.value.length],([N])=>{var m;(m=e.nodes)!=null&&m.value&&Array.isArray(e.nodes.value)&&(S?.pause(),e.nodes.value=[...N],dt(()=>{S?.resume()}))},{immediate:D}),ko(()=>{S?.stop(),k?.stop()})})},i=()=>{o.run(()=>{let S,k,D=!!n.edges.value.length;S=Hn([e.edges,()=>{var N,m;return(m=(N=e.edges)==null?void 0:N.value)==null?void 0:m.length}],([N])=>{N&&Array.isArray(N)&&(k?.pause(),n.setEdges(N),!k&&!D&&N.length?D=!0:k?.resume())}),k=Hn([n.edges,()=>n.edges.value.length],([N])=>{var m;(m=e.edges)!=null&&m.value&&Array.isArray(e.edges.value)&&(S?.pause(),e.edges.value=[...N],dt(()=>{S?.resume()}))},{immediate:D}),ko(()=>{S?.stop(),k?.stop()})})},l=()=>{o.run(()=>{_e(()=>t.maxZoom,()=>{t.maxZoom&&Ue(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},a=()=>{o.run(()=>{_e(()=>t.minZoom,()=>{t.minZoom&&Ue(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},u=()=>{o.run(()=>{_e(()=>t.translateExtent,()=>{t.translateExtent&&Ue(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},c=()=>{o.run(()=>{_e(()=>t.nodeExtent,()=>{t.nodeExtent&&Ue(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},f=()=>{o.run(()=>{_e(()=>t.applyDefault,()=>{Ue(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},g=()=>{o.run(()=>{const S=async k=>{let D=k;typeof t.autoConnect=="function"&&(D=await t.autoConnect(k)),D!==!1&&n.addEdges([D])};_e(()=>t.autoConnect,()=>{Ue(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),_e(n.autoConnect,(k,D,N)=>{k?n.onConnect(S):n.hooks.value.connect.off(S),N(()=>{n.hooks.value.connect.off(S)})},{immediate:!0})})},b=()=>{const S=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const k of Object.keys(t)){const D=k;if(!S.includes(D)){const N=Pe(()=>t[D]),m=n[D];Fe(m)&&o.run(()=>{_e(N,w=>{Ue(w)&&(m.value=w)},{immediate:!0})})}}};s(),r(),i(),a(),l(),u(),c(),f(),g(),b()}),()=>o.stop()}function t1(){return{edgesChange:oe(),nodesChange:oe(),nodeDoubleClick:oe(),nodeClick:oe(),nodeMouseEnter:oe(),nodeMouseMove:oe(),nodeMouseLeave:oe(),nodeContextMenu:oe(),nodeDragStart:oe(),nodeDrag:oe(),nodeDragStop:oe(),nodesInitialized:oe(),miniMapNodeClick:oe(),miniMapNodeDoubleClick:oe(),miniMapNodeMouseEnter:oe(),miniMapNodeMouseMove:oe(),miniMapNodeMouseLeave:oe(),connect:oe(),connectStart:oe(),connectEnd:oe(),clickConnectStart:oe(),clickConnectEnd:oe(),paneReady:oe(),init:oe(),move:oe(),moveStart:oe(),moveEnd:oe(),selectionDragStart:oe(),selectionDrag:oe(),selectionDragStop:oe(),selectionContextMenu:oe(),selectionStart:oe(),selectionEnd:oe(),viewportChangeStart:oe(),viewportChange:oe(),viewportChangeEnd:oe(),paneScroll:oe(),paneClick:oe(),paneContextMenu:oe(),paneMouseEnter:oe(),paneMouseMove:oe(),paneMouseLeave:oe(),edgeContextMenu:oe(),edgeMouseEnter:oe(),edgeMouseMove:oe(),edgeMouseLeave:oe(),edgeDoubleClick:oe(),edgeClick:oe(),edgeUpdateStart:oe(),edgeUpdate:oe(),edgeUpdateEnd:oe(),updateNodeInternals:oe(),error:oe(e=>cs(e.message))}}function n1(e,t){const n=Et();Qu(()=>{for(const[s,r]of Object.entries(t.value)){const i=l=>{e(s,l)};r.setEmitter(i),qo(r.removeEmitter),r.setHasEmitListeners(()=>o(s)),qo(r.removeHasEmitListeners)}});function o(s){var r;const i=o1(s);return!!((r=n?.vnode.props)==null?void 0:r[i])}}function o1(e){const[t,...n]=e.split(":");return`on${t.replace(/(?:^|-)(\w)/g,(s,r)=>r.toUpperCase())}${n.length?`:${n.join(":")}`:""}`}function Zd(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:ml.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:zo.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:In.Bezier,style:{}},connectionMode:gn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:rr()?"Meta":"Control",zoomActivationKeyCode:rr()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:t1(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const s1=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function r1(e,t,n){const o=Qb(e),s=v=>{const y=v??[];e.hooks.updateNodeInternals.trigger(y)},r=v=>bb(v,e.nodes,e.edges),i=v=>yb(v,e.nodes,e.edges),l=v=>Bd(v,e.edges),a=({id:v,type:y,nodeId:_})=>{var E;const M=v?`-${y}-${v}`:`-${y}`;return Array.from(((E=e.connectionLookup.get(`${_}${M}`))==null?void 0:E.values())??[])},u=v=>{if(v)return t.value.get(v)},c=v=>{if(v)return n.value.get(v)},f=(v,y,_)=>{var E,M;const z=[];for(const F of v){const B={id:F.id,type:"position",dragging:_,from:F.from};if(y&&(B.position=F.position,F.parentNode)){const X=u(F.parentNode);B.position={x:B.position.x-(((E=X?.computedPosition)==null?void 0:E.x)??0),y:B.position.y-(((M=X?.computedPosition)==null?void 0:M.y)??0)}}z.push(B)}z?.length&&e.hooks.nodesChange.trigger(z)},g=v=>{if(!e.vueFlowRef)return;const y=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!y)return;const _=window.getComputedStyle(y),{m22:E}=new window.DOMMatrixReadOnly(_.transform),M=[];for(const z of v){const F=z,B=u(F.id);if(B){const X=Tr(F.nodeElement);if(!!(X.width&&X.height&&(B.dimensions.width!==X.width||B.dimensions.height!==X.height||F.forceUpdate))){const J=F.nodeElement.getBoundingClientRect();B.dimensions=X,B.handleBounds.source=tu("source",F.nodeElement,J,E,B.id),B.handleBounds.target=tu("target",F.nodeElement,J,E,B.id),M.push({id:B.id,type:"dimensions",dimensions:X})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),M.length&&e.hooks.nodesChange.trigger(M)},b=(v,y)=>{const _=new Set,E=new Set;for(const F of v)An(F)?_.add(F.id):mn(F)&&E.add(F.id);const M=pn(t.value,_,!0),z=pn(n.value,E);if(e.multiSelectionActive){for(const F of _)M.push(cn(F,y));for(const F of E)z.push(cn(F,y))}M.length&&e.hooks.nodesChange.trigger(M),z.length&&e.hooks.edgesChange.trigger(z)},I=v=>{if(e.multiSelectionActive){const y=v.map(_=>cn(_.id,!0));e.hooks.nodesChange.trigger(y);return}e.hooks.nodesChange.trigger(pn(t.value,new Set(v.map(y=>y.id)),!0)),e.hooks.edgesChange.trigger(pn(n.value))},S=v=>{if(e.multiSelectionActive){const y=v.map(_=>cn(_.id,!0));e.hooks.edgesChange.trigger(y);return}e.hooks.edgesChange.trigger(pn(n.value,new Set(v.map(y=>y.id)))),e.hooks.nodesChange.trigger(pn(t.value,new Set,!0))},k=v=>{b(v,!0)},D=v=>{const _=(v||e.nodes).map(E=>(E.selected=!1,cn(E.id,!1)));e.hooks.nodesChange.trigger(_)},N=v=>{const _=(v||e.edges).map(E=>(E.selected=!1,cn(E.id,!1)));e.hooks.edgesChange.trigger(_)},m=v=>{if(!v||!v.length)return b([],!1);const y=v.reduce((_,E)=>{const M=cn(E.id,!1);return An(E)?_.nodes.push(M):_.edges.push(M),_},{nodes:[],edges:[]});y.nodes.length&&e.hooks.nodesChange.trigger(y.nodes),y.edges.length&&e.hooks.edgesChange.trigger(y.edges)},w=v=>{var y;(y=e.d3Zoom)==null||y.scaleExtent([v,e.maxZoom]),e.minZoom=v},O=v=>{var y;(y=e.d3Zoom)==null||y.scaleExtent([e.minZoom,v]),e.maxZoom=v},R=v=>{var y;(y=e.d3Zoom)==null||y.translateExtent(v),e.translateExtent=v},W=v=>{e.nodeExtent=v,s()},H=v=>{var y;(y=e.d3Zoom)==null||y.clickDistance(v)},L=v=>{e.nodesDraggable=v,e.nodesConnectable=v,e.elementsSelectable=v},Y=v=>{const y=v instanceof Function?v(e.nodes):v;!e.initialized&&!y.length||(e.nodes=nu(y,u,e.hooks.error.trigger))},G=v=>{const y=v instanceof Function?v(e.edges):v;if(!e.initialized&&!y.length)return;const _=ai(y,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);li(e.connectionLookup,n.value,_),e.edges=_},T=v=>{const y=v instanceof Function?v([...e.nodes,...e.edges]):v;!e.initialized&&!y.length||(Y(y.filter(An)),G(y.filter(mn)))},q=v=>{let y=v instanceof Function?v(e.nodes):v;y=Array.isArray(y)?y:[y];const _=nu(y,u,e.hooks.error.trigger),E=[];for(const M of _)E.push(Ka(M));E.length&&e.hooks.nodesChange.trigger(E)},x=v=>{let y=v instanceof Function?v(e.edges):v;y=Array.isArray(y)?y:[y];const _=ai(y,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),E=[];for(const M of _)E.push(Ka(M));E.length&&e.hooks.edgesChange.trigger(E)},A=(v,y=!0,_=!1)=>{const E=v instanceof Function?v(e.nodes):v,M=Array.isArray(E)?E:[E],z=[],F=[];function B(K){const J=l(K);for(const ee of J)(!Ue(ee.deletable)||ee.deletable)&&F.push(Xa(ee.id,ee.source,ee.target,ee.sourceHandle,ee.targetHandle))}function X(K){const J=[];for(const ee of e.nodes)ee.parentNode===K&&J.push(ee);if(J.length){for(const ee of J)z.push(Wa(ee.id));y&&B(J);for(const ee of J)X(ee.id)}}for(const K of M){const J=typeof K=="string"?u(K):K;J&&(Ue(J.deletable)&&!J.deletable||(z.push(Wa(J.id)),y&&B([J]),_&&X(J.id)))}F.length&&e.hooks.edgesChange.trigger(F),z.length&&e.hooks.nodesChange.trigger(z)},d=v=>{const y=v instanceof Function?v(e.edges):v,_=Array.isArray(y)?y:[y],E=[];for(const M of _){const z=typeof M=="string"?c(M):M;z&&(Ue(z.deletable)&&!z.deletable||E.push(Xa(typeof M=="string"?M:M.id,z.source,z.target,z.sourceHandle,z.targetHandle)))}e.hooks.edgesChange.trigger(E)},p=(v,y,_=!0)=>{const E=c(v.id);if(!E)return!1;const M=e.edges.indexOf(E),z=Hb(v,y,E,_,e.hooks.error.trigger);if(z){const[F]=ai([z],e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((B,X)=>X===M?F:B),li(e.connectionLookup,n.value,[F]),F}return!1},j=(v,y,_={replace:!1})=>{const E=c(v);if(!E)return;const M=typeof y=="function"?y(E):y;E.data=_.replace?M:{...E.data,...M}},Z=v=>Ya(v,e.nodes),Q=v=>{const y=Ya(v,e.edges);return li(e.connectionLookup,n.value,y),y},te=(v,y,_={replace:!1})=>{const E=u(v);if(!E)return;const M=typeof y=="function"?y(E):y;_.replace?e.nodes.splice(e.nodes.indexOf(E),1,M):Object.assign(E,M)},le=(v,y,_={replace:!1})=>{const E=u(v);if(!E)return;const M=typeof y=="function"?y(E):y;E.data=_.replace?M:{...E.data,...M}},me=(v,y,_=!1)=>{_?e.connectionClickStartHandle=v:e.connectionStartHandle=v,e.connectionEndHandle=null,e.connectionStatus=null,y&&(e.connectionPosition=y)},Se=(v,y=null,_=null)=>{e.connectionStartHandle&&(e.connectionPosition=v,e.connectionEndHandle=y,e.connectionStatus=_)},ie=(v,y)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,y?e.connectionClickStartHandle=null:e.connectionStartHandle=null},re=v=>{const y=mb(v),_=y?null:Mo(v)?v:u(v.id);return!y&&!_?[null,null,y]:[y?v:or(_),_,y]},ue=(v,y=!0,_=e.nodes)=>{const[E,M,z]=re(v);if(!E)return[];const F=[];for(const B of _||e.nodes){if(!z&&(B.id===M.id||!B.computedPosition))continue;const X=or(B),K=sr(X,E);(y&&K>0||K>=X.width*X.height||K>=Number(E.width)*Number(E.height))&&F.push(B)}return F},Ce=(v,y,_=!0)=>{const[E]=re(v);if(!E)return!1;const M=sr(E,y);return _&&M>0||M>=Number(E.width)*Number(E.height)},ke=v=>{const{viewport:y,dimensions:_,d3Zoom:E,d3Selection:M,translateExtent:z}=e;if(!E||!M||!v.x&&!v.y)return!1;const F=co.translate(y.x+v.x,y.y+v.y).scale(y.zoom),B=[[0,0],[_.width,_.height]],X=E.constrain()(F,B,z),K=e.viewport.x!==X.x||e.viewport.y!==X.y||e.viewport.zoom!==X.k;return E.transform(M,X),K},ve=v=>{const y=v instanceof Function?v(e):v,_=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Ue(y.defaultEdgeOptions)&&(e.defaultEdgeOptions=y.defaultEdgeOptions);const E=y.modelValue||y.nodes||y.edges?[]:void 0;E&&(y.modelValue&&E.push(...y.modelValue),y.nodes&&E.push(...y.nodes),y.edges&&E.push(...y.edges),T(E));const M=()=>{Ue(y.maxZoom)&&O(y.maxZoom),Ue(y.minZoom)&&w(y.minZoom),Ue(y.translateExtent)&&R(y.translateExtent)};for(const z of Object.keys(y)){const F=z,B=y[F];![...s1,..._].includes(F)&&Ue(B)&&(e[F]=B)}Ti(()=>e.d3Zoom).not.toBeNull().then(M),e.initialized||(e.initialized=!0)};return{updateNodePositions:f,updateNodeDimensions:g,setElements:T,setNodes:Y,setEdges:G,addNodes:q,addEdges:x,removeNodes:A,removeEdges:d,findNode:u,findEdge:c,updateEdge:p,updateEdgeData:j,updateNode:te,updateNodeData:le,applyEdgeChanges:Q,applyNodeChanges:Z,addSelectedElements:k,addSelectedNodes:I,addSelectedEdges:S,setMinZoom:w,setMaxZoom:O,setTranslateExtent:R,setNodeExtent:W,setPaneClickDistance:H,removeSelectedElements:m,removeSelectedNodes:D,removeSelectedEdges:N,startConnection:me,updateConnection:Se,endConnection:ie,setInteractive:L,setState:ve,getIntersectingNodes:ue,getIncomers:r,getOutgoers:i,getConnectedEdges:l,getHandleConnections:a,isNodeIntersecting:Ce,panBy:ke,fitView:v=>o.value.fitView(v),zoomIn:v=>o.value.zoomIn(v),zoomOut:v=>o.value.zoomOut(v),zoomTo:(v,y)=>o.value.zoomTo(v,y),setViewport:(v,y)=>o.value.setViewport(v,y),setTransform:(v,y)=>o.value.setTransform(v,y),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(v,y,_)=>o.value.setCenter(v,y,_),fitBounds:(v,y)=>o.value.fitBounds(v,y),project:v=>o.value.project(v),screenToFlowCoordinate:v=>o.value.screenToFlowCoordinate(v),flowToScreenCoordinate:v=>o.value.flowToScreenCoordinate(v),toObject:()=>{const v=[],y=[];for(const _ of e.nodes){const{computedPosition:E,handleBounds:M,selected:z,dimensions:F,isParent:B,resizing:X,dragging:K,events:J,...ee}=_;v.push(ee)}for(const _ of e.edges){const{selected:E,sourceNode:M,targetNode:z,events:F,...B}=_;y.push(B)}return JSON.parse(JSON.stringify({nodes:v,edges:y,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:v=>new Promise(y=>{const{nodes:_,edges:E,position:M,zoom:z,viewport:F}=v;_&&Y(_),E&&G(E);const[B,X]=F?.x&&F?.y?[F.x,F.y]:M??[null,null];if(B&&X){const K=F?.zoom||z||e.viewport.zoom;return Ti(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:B,y:X,zoom:K}).then(()=>{y(!0)})})}else y(!0)}),updateNodeInternals:s,viewportHelper:o,$reset:()=>{const v=Zd();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const y=co.translate(v.defaultViewport.x??0,v.defaultViewport.y??0).scale(Bn(v.defaultViewport.zoom??1,v.minZoom,v.maxZoom)),_=e.viewportRef.getBoundingClientRect(),E=[[0,0],[_.width,_.height]],M=e.d3Zoom.constrain()(y,E,v.translateExtent);e.d3Zoom.transform(e.d3Selection,M)}ve(v)},$destroy:()=>{}}}const i1=["data-id","data-handleid","data-nodeid","data-handlepos"],l1={name:"Handle",compatConfig:{MODE:3}},po=ze({...l1,props:{id:{default:null},type:{},position:{default:()=>ae.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=yp(e,["position","connectable","connectableStart","connectableEnd","id"]),o=Pe(()=>n.type??"source"),s=Pe(()=>n.isValidConnection??null),{id:r,connectionStartHandle:i,connectionClickStartHandle:l,connectionEndHandle:a,vueFlowRef:u,nodesConnectable:c,noDragClassName:f,noPanClassName:g}=Le(),{id:b,node:I,nodeEl:S,connectedEdges:k}=Xd(),D=we(),N=Pe(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),m=Pe(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),w=Pe(()=>{var G,T,q,x,A,d;return((G=i.value)==null?void 0:G.nodeId)===b&&((T=i.value)==null?void 0:T.id)===e.id&&((q=i.value)==null?void 0:q.type)===o.value||((x=a.value)==null?void 0:x.nodeId)===b&&((A=a.value)==null?void 0:A.id)===e.id&&((d=a.value)==null?void 0:d.type)===o.value}),O=Pe(()=>{var G,T,q;return((G=l.value)==null?void 0:G.nodeId)===b&&((T=l.value)==null?void 0:T.id)===e.id&&((q=l.value)==null?void 0:q.type)===o.value}),{handlePointerDown:R,handleClick:W}=Wd({nodeId:b,handleId:e.id,isValidConnection:s,type:o}),H=ne(()=>typeof e.connectable=="string"&&e.connectable==="single"?!k.value.some(G=>{const T=G[`${o.value}Handle`];return G[o.value]!==b?!1:T?T===e.id:!0}):typeof e.connectable=="number"?k.value.filter(G=>{const T=G[`${o.value}Handle`];return G[o.value]!==b?!1:T?T===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(I,k.value):Ue(e.connectable)?e.connectable:c.value);at(()=>{var G;if(!I.dimensions.width||!I.dimensions.height)return;const T=(G=I.handleBounds[o.value])==null?void 0:G.find(Z=>Z.id===e.id);if(!u.value||T)return;const q=u.value.querySelector(".vue-flow__transformationpane");if(!S.value||!D.value||!q||!e.id)return;const x=S.value.getBoundingClientRect(),A=D.value.getBoundingClientRect(),d=window.getComputedStyle(q),{m22:p}=new window.DOMMatrixReadOnly(d.transform),j={id:e.id,position:e.position,x:(A.left-x.left)/p,y:(A.top-x.top)/p,type:o.value,nodeId:b,...Tr(D.value)};I.handleBounds[o.value]=[...I.handleBounds[o.value]??[],j]});function L(G){const T=yl(G);H.value&&N.value&&(T&&G.button===0||!T)&&R(G)}function Y(G){!b||!l.value&&!N.value||H.value&&W(G)}return t({handleClick:W,handlePointerDown:R,onClick:Y,onPointerDown:L}),(G,T)=>(P(),U("div",{ref_key:"handle",ref:D,"data-id":`${V(r)}-${V(b)}-${e.id}-${o.value}`,"data-handleid":e.id,"data-nodeid":V(b),"data-handlepos":G.position,class:pe(["vue-flow__handle",[`vue-flow__handle-${G.position}`,`vue-flow__handle-${e.id}`,V(f),V(g),o.value,{connectable:H.value,connecting:O.value,connectablestart:N.value,connectableend:m.value,connectionindicator:H.value&&(N.value&&!w.value||m.value&&w.value)}]]),onMousedown:L,onTouchstartPassive:L,onClick:Y},[He(G.$slots,"default",{id:G.id})],42,i1))}}),kr=function({sourcePosition:e=ae.Bottom,targetPosition:t=ae.Top,label:n,connectable:o=!0,isValidTargetPos:s,isValidSourcePos:r,data:i}){const l=i.label??n;return[Me(po,{type:"target",position:t,connectable:o,isValidConnection:s}),typeof l!="string"&&l?Me(l):Me(ce,[l]),Me(po,{type:"source",position:e,connectable:o,isValidConnection:r})]};kr.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];kr.inheritAttrs=!1;kr.compatConfig={MODE:3};const a1=kr,Ar=function({targetPosition:e=ae.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:s}){const r=s.label??t;return[Me(po,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof r!="string"&&r?Me(r):Me(ce,[r])]};Ar.props=["targetPosition","label","isValidTargetPos","connectable","data"];Ar.inheritAttrs=!1;Ar.compatConfig={MODE:3};const u1=Ar,Dr=function({sourcePosition:e=ae.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:s}){const r=s.label??t;return[typeof r!="string"&&r?Me(r):Me(ce,[r]),Me(po,{type:"source",position:e,connectable:n,isValidConnection:o})]};Dr.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Dr.inheritAttrs=!1;Dr.compatConfig={MODE:3};const c1=Dr,d1=["transform"],f1=["width","height","x","y","rx","ry"],p1=["y"],h1={name:"EdgeText",compatConfig:{MODE:3}},g1=ze({...h1,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=we({x:0,y:0,width:0,height:0}),n=we(null),o=ne(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);at(s),_e([()=>e.x,()=>e.y,n,()=>e.label],s);function s(){if(!n.value)return;const r=n.value.getBBox();(r.width!==t.value.width||r.height!==t.value.height)&&(t.value=r)}return(r,i)=>(P(),U("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[r.labelShowBg?(P(),U("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*r.labelBgPadding[0]}px`,height:`${t.value.height+2*r.labelBgPadding[1]}px`,x:-r.labelBgPadding[0],y:-r.labelBgPadding[1],style:Xe(r.labelBgStyle),rx:r.labelBgBorderRadius,ry:r.labelBgBorderRadius},null,12,f1)):fe("",!0),h("text",ol(r.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:r.labelStyle}),[He(r.$slots,"default",{},()=>[typeof r.label!="string"?(P(),Ve(Gn(r.label),{key:0})):(P(),U(ce,{key:1},[We(he(r.label),1)],64))])],16,p1)],8,d1))}}),m1=["id","d","marker-end","marker-start"],v1=["d","stroke-width"],y1={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Or=ze({...y1,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=we(null),o=we(null),s=we(null),r=vp();return t({pathEl:n,interactionEl:o,labelEl:s}),(i,l)=>(P(),U(ce,null,[h("path",ol(V(r),{id:i.id,ref_key:"pathEl",ref:n,d:i.path,class:"vue-flow__edge-path","marker-end":i.markerEnd,"marker-start":i.markerStart}),null,16,m1),i.interactionWidth?(P(),U("path",{key:0,ref_key:"interactionEl",ref:o,fill:"none",d:i.path,"stroke-width":i.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,v1)):fe("",!0),i.label&&i.labelX&&i.labelY?(P(),Ve(g1,{key:1,ref_key:"labelEl",ref:s,x:i.labelX,y:i.labelY,label:i.label,"label-show-bg":i.labelShowBg,"label-bg-style":i.labelBgStyle,"label-bg-padding":i.labelBgPadding,"label-bg-border-radius":i.labelBgBorderRadius,"label-style":i.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):fe("",!0)],64))}});function Jd({sourceX:e,sourceY:t,targetX:n,targetY:o}){const s=Math.abs(n-e)/2,r=n<e?n+s:n-s,i=Math.abs(o-t)/2,l=o<t?o+i:o-i;return[r,l,s,i]}function Qd({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:s,sourceControlY:r,targetControlX:i,targetControlY:l}){const a=e*.125+s*.375+i*.375+n*.125,u=t*.125+r*.375+l*.375+o*.125,c=Math.abs(a-e),f=Math.abs(u-t);return[a,u,c,f]}function Es(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function iu({pos:e,x1:t,y1:n,x2:o,y2:s,c:r}){let i,l;switch(e){case ae.Left:i=t-Es(t-o,r),l=n;break;case ae.Right:i=t+Es(o-t,r),l=n;break;case ae.Top:i=t,l=n-Es(n-s,r);break;case ae.Bottom:i=t,l=n+Es(s-n,r);break}return[i,l]}function ef(e){const{sourceX:t,sourceY:n,sourcePosition:o=ae.Bottom,targetX:s,targetY:r,targetPosition:i=ae.Top,curvature:l=.25}=e,[a,u]=iu({pos:o,x1:t,y1:n,x2:s,y2:r,c:l}),[c,f]=iu({pos:i,x1:s,y1:r,x2:t,y2:n,c:l}),[g,b,I,S]=Qd({sourceX:t,sourceY:n,targetX:s,targetY:r,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:f});return[`M${t},${n} C${a},${u} ${c},${f} ${s},${r}`,g,b,I,S]}function lu({pos:e,x1:t,y1:n,x2:o,y2:s}){let r,i;switch(e){case ae.Left:case ae.Right:r=.5*(t+o),i=n;break;case ae.Top:case ae.Bottom:r=t,i=.5*(n+s);break}return[r,i]}function tf(e){const{sourceX:t,sourceY:n,sourcePosition:o=ae.Bottom,targetX:s,targetY:r,targetPosition:i=ae.Top}=e,[l,a]=lu({pos:o,x1:t,y1:n,x2:s,y2:r}),[u,c]=lu({pos:i,x1:s,y1:r,x2:t,y2:n}),[f,g,b,I]=Qd({sourceX:t,sourceY:n,targetX:s,targetY:r,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${t},${n} C${l},${a} ${u},${c} ${s},${r}`,f,g,b,I]}const au={[ae.Left]:{x:-1,y:0},[ae.Right]:{x:1,y:0},[ae.Top]:{x:0,y:-1},[ae.Bottom]:{x:0,y:1}};function b1({source:e,sourcePosition:t=ae.Bottom,target:n}){return t===ae.Left||t===ae.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function uu(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function x1({source:e,sourcePosition:t=ae.Bottom,target:n,targetPosition:o=ae.Top,center:s,offset:r}){const i=au[t],l=au[o],a={x:e.x+i.x*r,y:e.y+i.y*r},u={x:n.x+l.x*r,y:n.y+l.y*r},c=b1({source:a,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",g=c[f];let b,I,S;const k={x:0,y:0},D={x:0,y:0},[N,m,w,O]=Jd({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[f]*l[f]===-1){I=s.x??N,S=s.y??m;const W=[{x:I,y:a.y},{x:I,y:u.y}],H=[{x:a.x,y:S},{x:u.x,y:S}];i[f]===g?b=f==="x"?W:H:b=f==="x"?H:W}else{const W=[{x:a.x,y:u.y}],H=[{x:u.x,y:a.y}];if(f==="x"?b=i.x===g?H:W:b=i.y===g?W:H,t===o){const q=Math.abs(e[f]-n[f]);if(q<=r){const x=Math.min(r-1,r-q);i[f]===g?k[f]=(a[f]>e[f]?-1:1)*x:D[f]=(u[f]>n[f]?-1:1)*x}}if(t!==o){const q=f==="x"?"y":"x",x=i[f]===l[q],A=a[q]>u[q],d=a[q]<u[q];(i[f]===1&&(!x&&A||x&&d)||i[f]!==1&&(!x&&d||x&&A))&&(b=f==="x"?W:H)}const L={x:a.x+k.x,y:a.y+k.y},Y={x:u.x+D.x,y:u.y+D.y},G=Math.max(Math.abs(L.x-b[0].x),Math.abs(Y.x-b[0].x)),T=Math.max(Math.abs(L.y-b[0].y),Math.abs(Y.y-b[0].y));G>=T?(I=(L.x+Y.x)/2,S=b[0].y):(I=b[0].x,S=(L.y+Y.y)/2)}return[[e,{x:a.x+k.x,y:a.y+k.y},...b,{x:u.x+D.x,y:u.y+D.y},n],I,S,w,O]}function w1(e,t,n,o){const s=Math.min(uu(e,t)/2,uu(t,n)/2,o),{x:r,y:i}=t;if(e.x===r&&r===n.x||e.y===i&&i===n.y)return`L${r} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${r+s*u},${i}Q ${r},${i} ${r},${i+s*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${r},${i+s*a}Q ${r},${i} ${r+s*l},${i}`}function zi(e){const{sourceX:t,sourceY:n,sourcePosition:o=ae.Bottom,targetX:s,targetY:r,targetPosition:i=ae.Top,borderRadius:l=5,centerX:a,centerY:u,offset:c=20}=e,[f,g,b,I,S]=x1({source:{x:t,y:n},sourcePosition:o,target:{x:s,y:r},targetPosition:i,center:{x:a,y:u},offset:c});return[f.reduce((D,N,m)=>{let w;return m>0&&m<f.length-1?w=w1(f[m-1],N,f[m+1],l):w=`${m===0?"M":"L"}${N.x} ${N.y}`,D+=w,D},""),g,b,I,S]}function _1(e){const{sourceX:t,sourceY:n,targetX:o,targetY:s}=e,[r,i,l,a]=Jd({sourceX:t,sourceY:n,targetX:o,targetY:s});return[`M ${t},${n}L ${o},${s}`,r,i,l,a]}const S1=ze({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,s]=_1(e);return Me(Or,{path:n,labelX:o,labelY:s,...t,...e})}}}),C1=S1,E1=ze({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,s]=zi({...e,sourcePosition:e.sourcePosition??ae.Bottom,targetPosition:e.targetPosition??ae.Top});return Me(Or,{path:n,labelX:o,labelY:s,...t,...e})}}}),nf=E1,I1=ze({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Me(nf,{...e,...t,borderRadius:0})}}),N1=I1,T1=ze({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,s]=ef({...e,sourcePosition:e.sourcePosition??ae.Bottom,targetPosition:e.targetPosition??ae.Top});return Me(Or,{path:n,labelX:o,labelY:s,...t,...e})}}}),M1=T1,$1=ze({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,s]=tf({...e,sourcePosition:e.sourcePosition??ae.Bottom,targetPosition:e.targetPosition??ae.Top});return Me(Or,{path:n,labelX:o,labelY:s,...t,...e})}}}),k1=$1,A1={input:c1,default:a1,output:u1},D1={default:M1,straight:C1,step:N1,smoothstep:nf,simplebezier:k1};function O1(e,t,n){const o=ne(()=>S=>t.value.get(S)),s=ne(()=>S=>n.value.get(S)),r=ne(()=>{const S={...D1,...e.edgeTypes},k=Object.keys(S);for(const D of e.edges)D.type&&!k.includes(D.type)&&(S[D.type]=D.type);return S}),i=ne(()=>{const S={...A1,...e.nodeTypes},k=Object.keys(S);for(const D of e.nodes)D.type&&!k.includes(D.type)&&(S[D.type]=D.type);return S}),l=ne(()=>e.onlyRenderVisibleElements?Ld(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),a=ne(()=>{if(e.onlyRenderVisibleElements){const S=[];for(const k of e.edges){const D=t.value.get(k.source),N=t.value.get(k.target);$b({sourcePos:D.computedPosition||{x:0,y:0},targetPos:N.computedPosition||{x:0,y:0},sourceWidth:D.dimensions.width,sourceHeight:D.dimensions.height,targetWidth:N.dimensions.width,targetHeight:N.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&S.push(k)}return S}return e.edges}),u=ne(()=>[...l.value,...a.value]),c=ne(()=>{const S=[];for(const k of e.nodes)k.selected&&S.push(k);return S}),f=ne(()=>{const S=[];for(const k of e.edges)k.selected&&S.push(k);return S}),g=ne(()=>[...c.value,...f.value]),b=ne(()=>{const S=[];for(const k of e.nodes)k.dimensions.width&&k.dimensions.height&&k.handleBounds!==void 0&&S.push(k);return S}),I=ne(()=>l.value.length>0&&b.value.length===l.value.length);return{getNode:o,getEdge:s,getElements:u,getEdgeTypes:r,getNodeTypes:i,getEdges:a,getNodes:l,getSelectedElements:g,getSelectedNodes:c,getSelectedEdges:f,getNodesInitialized:b,areNodesInitialized:I}}let P1=class Kn{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=Et())==null?void 0:t.appContext.app,o=n?.config.globalProperties.$vueFlowStorage??Kn.instance;return Kn.instance=o??new Kn,n&&(n.config.globalProperties.$vueFlowStorage=Kn.instance),Kn.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=Zd(),s=rs(o),r={};for(const[g,b]of Object.entries(s.hooks)){const I=`on${g.charAt(0).toUpperCase()+g.slice(1)}`;r[I]=b.on}const i={};for(const[g,b]of Object.entries(s.hooks))i[g]=b.trigger;const l=ne(()=>{const g=new Map;for(const b of s.nodes)g.set(b.id,b);return g}),a=ne(()=>{const g=new Map;for(const b of s.edges)g.set(b.id,b);return g}),u=O1(s,l,a),c=r1(s,l,a);c.setState({...s,...n});const f={...r,...u,...c,...Em(s),nodeLookup:l,edgeLookup:a,emits:i,id:t,vueFlowVersion:"1.48.2",$destroy:()=>{this.remove(t)}};return this.set(t,f),f}getId(){return`vue-flow-${this.currentId++}`}};function Le(e){const t=P1.getInstance(),n=fr(),o=typeof e=="object",s=o?e:{id:e},r=s.id,i=r??n?.vueFlowId;let l;if(n){const a=wt(ru,null);typeof a<"u"&&a!==null&&(!i||a.id===i)&&(l=a)}if(l||i&&(l=t.get(i)),!l||i&&l.id!==i){const a=r??t.getId(),u=t.create(a,s);l=u,(n??dr(!0)).run(()=>{_e(u.applyDefault,(f,g,b)=>{const I=k=>{u.applyNodeChanges(k)},S=k=>{u.applyEdgeChanges(k)};f?(u.onNodesChange(I),u.onEdgesChange(S)):(u.hooks.value.nodesChange.off(I),u.hooks.value.edgesChange.off(S)),b(()=>{u.hooks.value.nodesChange.off(I),u.hooks.value.edgesChange.off(S)})},{immediate:!0}),qo(()=>{if(l){const f=t.get(l.id);f?f.$destroy():cs(`No store instance found for id ${l.id} in storage.`)}})})}else o&&l.setState(s);if(n&&(Dn(ru,l),n.vueFlowId=l.id),o){const a=Et();a?.type.name!=="VueFlow"&&l.emits.error(new Ke(Ge.USEVUEFLOW_OPTIONS))}return l}function R1(e){const{emits:t,dimensions:n}=Le();let o;at(()=>{const s=()=>{var r,i;if(!e.value||!(((i=(r=e.value).checkVisibility)==null?void 0:i.call(r))??!0))return;const l=Tr(e.value);(l.width===0||l.height===0)&&t.error(new Ke(Ge.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:l.width||500,height:l.height||500}};s(),window.addEventListener("resize",s),e.value&&(o=new ResizeObserver(()=>s()),o.observe(e.value)),yr(()=>{window.removeEventListener("resize",s),o&&e.value&&o.unobserve(e.value)})})}const L1={name:"UserSelection",compatConfig:{MODE:3}},B1=ze({...L1,props:{userSelectionRect:{}},setup(e){return(t,n)=>(P(),U("div",{class:"vue-flow__selection vue-flow__container",style:Xe({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),F1=["tabIndex"],V1={name:"NodesSelection",compatConfig:{MODE:3}},z1=ze({...V1,setup(e){const{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:s,disableKeyboardA11y:r,userSelectionActive:i}=Le(),l=qd(),a=we(null),u=Kd({el:a,onStart(I){t.selectionDragStart(I),t.nodeDragStart(I)},onDrag(I){t.selectionDrag(I),t.nodeDrag(I)},onStop(I){t.selectionDragStop(I),t.nodeDragStop(I)}});at(()=>{var I;r.value||(I=a.value)==null||I.focus({preventScroll:!0})});const c=ne(()=>Rd(o.value)),f=ne(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function g(I){t.selectionContextMenu({event:I,nodes:o.value})}function b(I){r.value||no[I.key]&&(I.preventDefault(),l({x:no[I.key].x,y:no[I.key].y},I.shiftKey))}return(I,S)=>!V(i)&&c.value.width&&c.value.height?(P(),U("div",{key:0,class:pe(["vue-flow__nodesselection vue-flow__container",V(s)]),style:Xe({transform:`translate(${V(n).x}px,${V(n).y}px) scale(${V(n).zoom})`})},[h("div",{ref_key:"el",ref:a,class:pe([{dragging:V(u)},"vue-flow__nodesselection-rect"]),style:Xe(f.value),tabIndex:V(r)?void 0:-1,onContextmenu:g,onKeydown:b},null,46,F1)],6)):fe("",!0)}});function H1(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const j1={name:"Pane",compatConfig:{MODE:3}},U1=ze({...j1,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:o,emits:s,userSelectionActive:r,removeSelectedElements:i,userSelectionRect:l,elementsSelectable:a,nodesSelectionActive:u,getSelectedEdges:c,getSelectedNodes:f,removeNodes:g,removeEdges:b,selectionMode:I,deleteKeyCode:S,multiSelectionKeyCode:k,multiSelectionActive:D,edgeLookup:N,nodeLookup:m,connectionLookup:w,defaultEdgeOptions:O,connectionStartHandle:R,panOnDrag:W}=Le(),H=Wt(null),L=Wt(new Set),Y=Wt(new Set),G=Wt(null),T=Pe(()=>a.value&&(e.isSelecting||r.value)),q=Pe(()=>R.value!==null);let x=!1,A=!1;const d=Ho(S,{actInsideInputWithModifier:!1}),p=Ho(k);_e(d,ie=>{ie&&(g(f.value),b(c.value),u.value=!1)}),_e(p,ie=>{D.value=ie});function j(ie,re){return ue=>{ue.target===re&&ie?.(ue)}}function Z(ie){if(x||q.value){x=!1;return}s.paneClick(ie),i(),u.value=!1}function Q(ie){var re;if(Array.isArray(W.value)&&((re=W.value)!=null&&re.includes(2))){ie.preventDefault();return}s.paneContextMenu(ie)}function te(ie){s.paneScroll(ie)}function le(ie){var re,ue,Ce;if(G.value=((re=t.value)==null?void 0:re.getBoundingClientRect())??null,!a.value||!e.isSelecting||ie.button!==0||ie.target!==H.value||!G.value)return;(Ce=(ue=ie.target)==null?void 0:ue.setPointerCapture)==null||Ce.call(ue,ie.pointerId);const{x:ke,y:ve}=H1(ie,G.value);A=!0,x=!1,i(),l.value={width:0,height:0,startX:ke,startY:ve,x:ke,y:ve},s.selectionStart(ie)}function me(ie){var re;if(!G.value||!l.value)return;x=!0;const{x:ue,y:Ce}=Rt(ie,G.value),{startX:ke=0,startY:ve=0}=l.value,$e={startX:ke,startY:ve,x:ue<ke?ue:ke,y:Ce<ve?Ce:ve,width:Math.abs(ue-ke),height:Math.abs(Ce-ve)},C=L.value,$=Y.value;L.value=new Set(Ld(n.value,$e,o.value,I.value===ml.Partial,!0).map(y=>y.id)),Y.value=new Set;const v=((re=O.value)==null?void 0:re.selectable)??!0;for(const y of L.value){const _=w.value.get(y);if(_)for(const{edgeId:E}of _.values()){const M=N.value.get(E);M&&(M.selectable??v)&&Y.value.add(E)}}if(!su(C,L.value)){const y=pn(m.value,L.value,!0);s.nodesChange(y)}if(!su($,Y.value)){const y=pn(N.value,Y.value);s.edgesChange(y)}l.value=$e,r.value=!0,u.value=!1}function Se(ie){var re;ie.button!==0||!A||((re=ie.target)==null||re.releasePointerCapture(ie.pointerId),!r.value&&l.value&&ie.target===H.value&&Z(ie),r.value=!1,l.value=null,u.value=L.value.size>0,s.selectionEnd(ie),e.selectionKeyPressed&&(x=!1),A=!1)}return(ie,re)=>(P(),U("div",{ref_key:"container",ref:H,class:pe(["vue-flow__pane vue-flow__container",{selection:ie.isSelecting}]),onClick:re[0]||(re[0]=ue=>T.value?void 0:j(Z,H.value)(ue)),onContextmenu:re[1]||(re[1]=ue=>j(Q,H.value)(ue)),onWheelPassive:re[2]||(re[2]=ue=>j(te,H.value)(ue)),onPointerenter:re[3]||(re[3]=ue=>T.value?void 0:V(s).paneMouseEnter(ue)),onPointerdown:re[4]||(re[4]=ue=>T.value?le(ue):V(s).paneMouseMove(ue)),onPointermove:re[5]||(re[5]=ue=>T.value?me(ue):V(s).paneMouseMove(ue)),onPointerup:re[6]||(re[6]=ue=>T.value?Se(ue):void 0),onPointerleave:re[7]||(re[7]=ue=>V(s).paneMouseLeave(ue))},[He(ie.$slots,"default"),V(r)&&V(l)?(P(),Ve(B1,{key:0,"user-selection-rect":V(l)},null,8,["user-selection-rect"])):fe("",!0),V(u)&&V(f).length?(P(),Ve(z1,{key:1})):fe("",!0)],34))}}),G1={name:"Transform",compatConfig:{MODE:3}},Y1=ze({...G1,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=Le(),s=ne(()=>n.value?!o.value:!1),r=ne(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(i,l)=>(P(),U("div",{class:"vue-flow__transformationpane vue-flow__container",style:Xe({transform:r.value,opacity:s.value?0:void 0})},[He(i.$slots,"default")],4))}}),K1={name:"Viewport",compatConfig:{MODE:3}},W1=ze({...K1,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:s,zoomActivationKeyCode:r,selectionKeyCode:i,panActivationKeyCode:l,panOnScroll:a,panOnScrollMode:u,panOnScrollSpeed:c,panOnDrag:f,zoomOnDoubleClick:g,zoomOnPinch:b,zoomOnScroll:I,preventScrolling:S,noWheelClassName:k,noPanClassName:D,emits:N,connectionStartHandle:m,userSelectionActive:w,paneDragging:O,d3Zoom:R,d3Selection:W,d3ZoomHandler:H,viewport:L,viewportRef:Y,paneClickDistance:G}=Le();R1(Y);const T=Wt(!1),q=Wt(!1);let x=null,A=!1,d=0,p={x:0,y:0,zoom:0};const j=Ho(l),Z=Ho(i),Q=Ho(r),te=Pe(()=>(!Z.value||Z.value&&i.value===!0)&&(j.value||f.value)),le=Pe(()=>j.value||a.value),me=Pe(()=>i.value===!0&&te.value!==!0),Se=Pe(()=>Z.value&&i.value!==!0||w.value||me.value),ie=Pe(()=>m.value!==null);at(()=>{if(!Y.value){cs("Viewport element is missing");return}const ve=Y.value,$e=ve.getBoundingClientRect(),C=ub().clickDistance(G.value).scaleExtent([t.value,n.value]).translateExtent(s.value),$=yt(ve).call(C),v=$.on("wheel.zoom"),y=co.translate(o.value.x??0,o.value.y??0).scale(Bn(o.value.zoom??1,t.value,n.value)),_=[[0,0],[$e.width,$e.height]],E=C.constrain()(y,_,s.value);C.transform($,E),C.wheelDelta(Ua),R.value=C,W.value=$,H.value=v,L.value={x:E.x,y:E.y,zoom:E.k},C.on("start",M=>{var z;if(!M.sourceEvent)return null;d=M.sourceEvent.button,T.value=!0;const F=Ce(M.transform);((z=M.sourceEvent)==null?void 0:z.type)==="mousedown"&&(O.value=!0),p=F,N.viewportChangeStart(F),N.moveStart({event:M,flowTransform:F})}),C.on("end",M=>{if(!M.sourceEvent)return null;if(T.value=!1,O.value=!1,re(te.value,d??0)&&!A&&N.paneContextMenu(M.sourceEvent),A=!1,ue(p,M.transform)){const z=Ce(M.transform);p=z,N.viewportChangeEnd(z),N.moveEnd({event:M,flowTransform:z})}}),C.filter(M=>{var z;const F=Q.value||I.value,B=b.value&&M.ctrlKey,X=M.button,K=M.type==="wheel";if(X===1&&M.type==="mousedown"&&(ke(M,"vue-flow__node")||ke(M,"vue-flow__edge")))return!0;if(!te.value&&!F&&!le.value&&!g.value&&!b.value||w.value||ie.value&&!K||!g.value&&M.type==="dblclick"||ke(M,k.value)&&K||ke(M,D.value)&&(!K||le.value&&K&&!Q.value)||!b.value&&M.ctrlKey&&K||!F&&!le.value&&!B&&K)return!1;if(!b&&M.type==="touchstart"&&((z=M.touches)==null?void 0:z.length)>1)return M.preventDefault(),!1;if(!te.value&&(M.type==="mousedown"||M.type==="touchstart")||me.value&&Array.isArray(f.value)&&f.value.includes(0)&&X===0||Array.isArray(f.value)&&!f.value.includes(X)&&(M.type==="mousedown"||M.type==="touchstart"))return!1;const J=Array.isArray(f.value)&&f.value.includes(X)||i.value===!0&&Array.isArray(f.value)&&!f.value.includes(0)||!X||X<=1;return(!M.ctrlKey||j.value||K)&&J}),_e([w,te],()=>{w.value&&!T.value?C.on("zoom",null):w.value||C.on("zoom",M=>{L.value={x:M.transform.x,y:M.transform.y,zoom:M.transform.k};const z=Ce(M.transform);A=re(te.value,d??0),N.viewportChange(z),N.move({event:M,flowTransform:z})})},{immediate:!0}),_e([w,le,u,Q,b,S,k],()=>{le.value&&!Q.value&&!w.value?$.on("wheel.zoom",M=>{if(ke(M,k.value))return!1;const z=Q.value||I.value,F=b.value&&M.ctrlKey;if(!(!S.value||le.value||z||F))return!1;M.preventDefault(),M.stopImmediatePropagation();const X=$.property("__zoom").k||1,K=rr();if(!j.value&&M.ctrlKey&&b.value&&K){const Ae=Dt(M),Je=Ua(M),Qe=X*2**Je;C.scaleTo($,Qe,Ae,M);return}const J=M.deltaMode===1?20:1;let ee=u.value===zo.Vertical?0:M.deltaX*J,be=u.value===zo.Horizontal?0:M.deltaY*J;!K&&M.shiftKey&&u.value!==zo.Vertical&&!ee&&be&&(ee=be,be=0),C.translateBy($,-(ee/X)*c.value,-(be/X)*c.value);const Ee=Ce($.property("__zoom"));x&&clearTimeout(x),q.value?(N.move({event:M,flowTransform:Ee}),N.viewportChange(Ee),x=setTimeout(()=>{N.moveEnd({event:M,flowTransform:Ee}),N.viewportChangeEnd(Ee),q.value=!1},150)):(q.value=!0,N.moveStart({event:M,flowTransform:Ee}),N.viewportChangeStart(Ee))},{passive:!1}):typeof v<"u"&&$.on("wheel.zoom",function(M,z){const F=!S.value&&M.type==="wheel"&&!M.ctrlKey,B=Q.value||I.value,X=b.value&&M.ctrlKey;if(!B&&!a.value&&!X&&M.type==="wheel"||F||ke(M,k.value))return null;M.preventDefault(),v.call(this,M,z)},{passive:!1})},{immediate:!0})});function re(ve,$e){return $e===2&&Array.isArray(ve)&&ve.includes(2)}function ue(ve,$e){return ve.x!==$e.x&&!Number.isNaN($e.x)||ve.y!==$e.y&&!Number.isNaN($e.y)||ve.zoom!==$e.k&&!Number.isNaN($e.k)}function Ce(ve){return{x:ve.x,y:ve.y,zoom:ve.k}}function ke(ve,$e){return ve.target.closest(`.${$e}`)}return(ve,$e)=>(P(),U("div",{ref_key:"viewportRef",ref:Y,class:"vue-flow__viewport vue-flow__container"},[se(U1,{"is-selecting":Se.value,"selection-key-pressed":V(Z),class:pe({connecting:ie.value,dragging:V(O),draggable:V(f)===!0||Array.isArray(V(f))&&V(f).includes(0)})},{default:pt(()=>[se(Y1,null,{default:pt(()=>[He(ve.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),X1=["id"],q1=["id"],Z1=["id"],J1={name:"A11yDescriptions",compatConfig:{MODE:3}},Q1=ze({...J1,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=Le();return(s,r)=>(P(),U(ce,null,[h("div",{id:`${V(Td)}-${V(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+he(V(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,X1),h("div",{id:`${V(Md)}-${V(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,q1),V(n)?fe("",!0):(P(),U("div",{key:0,id:`${V(gb)}-${V(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},he(V(o)),9,Z1))],64))}});function ex(){const e=Le();_e(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function tx(e,t,n){return n===ae.Left?e-t:n===ae.Right?e+t:e}function nx(e,t,n){return n===ae.Top?e-t:n===ae.Bottom?e+t:e}const bl=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=ae.Top,type:s}){return Me("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${s}`,cx:tx(t,e,o),cy:nx(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};bl.props=["radius","centerX","centerY","position","type"];bl.compatConfig={MODE:3};const cu=bl,ox=ze({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:s,emits:r,nodesSelectionActive:i,noPanClassName:l,getEdgeTypes:a,removeSelectedEdges:u,findEdge:c,findNode:f,isValidConnection:g,multiSelectionActive:b,disableKeyboardA11y:I,elementsSelectable:S,edgesUpdatable:k,edgesFocusable:D,hooks:N}=Le(),m=ne(()=>c(e.id)),{emit:w,on:O}=Yb(m.value,r),R=wt($r),W=Et(),H=we(!1),L=we(!1),Y=we(""),G=we(null),T=we("source"),q=we(null),x=Pe(()=>typeof m.value.selectable>"u"?S.value:m.value.selectable),A=Pe(()=>typeof m.value.updatable>"u"?k.value:m.value.updatable),d=Pe(()=>typeof m.value.focusable>"u"?D.value:m.value.focusable);Dn(jb,e.id),Dn(Ub,q);const p=ne(()=>m.value.class instanceof Function?m.value.class(m.value):m.value.class),j=ne(()=>m.value.style instanceof Function?m.value.style(m.value):m.value.style),Z=ne(()=>{const y=m.value.type||"default",_=R?.[`edge-${y}`];if(_)return _;let E=m.value.template??a.value[y];if(typeof E=="string"&&W){const M=Object.keys(W.appContext.components);M&&M.includes(y)&&(E=Ji(y,!1))}return E&&typeof E!="string"?E:(r.error(new Ke(Ge.EDGE_TYPE_MISSING,E)),!1)}),{handlePointerDown:Q}=Wd({nodeId:Y,handleId:G,type:T,isValidConnection:g,edgeUpdaterType:T,onEdgeUpdate:me,onEdgeUpdateEnd:Se});return()=>{const y=f(m.value.source),_=f(m.value.target),E="pathOptions"in m.value?m.value.pathOptions:{};if(!y&&!_)return r.error(new Ke(Ge.EDGE_SOURCE_TARGET_MISSING,m.value.id,m.value.source,m.value.target)),null;if(!y)return r.error(new Ke(Ge.EDGE_SOURCE_MISSING,m.value.id,m.value.source)),null;if(!_)return r.error(new Ke(Ge.EDGE_TARGET_MISSING,m.value.id,m.value.target)),null;if(!m.value||m.value.hidden||y.hidden||_.hidden)return null;let M;o.value===gn.Strict?M=y.handleBounds.source:M=[...y.handleBounds.source||[],...y.handleBounds.target||[]];const z=Ja(M,m.value.sourceHandle);let F;o.value===gn.Strict?F=_.handleBounds.target:F=[..._.handleBounds.target||[],..._.handleBounds.source||[]];const B=Ja(F,m.value.targetHandle),X=z?.position||ae.Bottom,K=B?.position||ae.Top,{x:J,y:ee}=fo(y,z,X),{x:be,y:Ee}=fo(_,B,K);return m.value.sourceX=J,m.value.sourceY=ee,m.value.targetX=be,m.value.targetY=Ee,Me("g",{ref:q,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${Z.value===!1?"default":m.value.type||"default"}`,l.value,p.value,{updating:H.value,selected:m.value.selected,animated:m.value.animated,inactive:!x.value&&!N.value.edgeClick.hasListeners()}],tabIndex:d.value?0:void 0,"aria-label":m.value.ariaLabel===null?void 0:m.value.ariaLabel??`Edge from ${m.value.source} to ${m.value.target}`,"aria-describedby":d.value?`${Md}-${t}`:void 0,"aria-roledescription":"edge",role:d.value?"group":"img",...m.value.domAttributes,onClick:re,onContextmenu:ue,onDblclick:Ce,onMouseenter:ke,onMousemove:ve,onMouseleave:$e,onKeyDown:d.value?v:void 0},[L.value?null:Me(Z.value===!1?a.value.default:Z.value,{id:e.id,sourceNode:y,targetNode:_,source:m.value.source,target:m.value.target,type:m.value.type,updatable:A.value,selected:m.value.selected,animated:m.value.animated,label:m.value.label,labelStyle:m.value.labelStyle,labelShowBg:m.value.labelShowBg,labelBgStyle:m.value.labelBgStyle,labelBgPadding:m.value.labelBgPadding,labelBgBorderRadius:m.value.labelBgBorderRadius,data:m.value.data,events:{...m.value.events,...O},style:j.value,markerStart:`url('#${os(m.value.markerStart,t)}')`,markerEnd:`url('#${os(m.value.markerEnd,t)}')`,sourcePosition:X,targetPosition:K,sourceX:J,sourceY:ee,targetX:be,targetY:Ee,sourceHandleId:m.value.sourceHandle,targetHandleId:m.value.targetHandle,interactionWidth:m.value.interactionWidth,...E}),[A.value==="source"||A.value===!0?[Me("g",{onMousedown:C,onMouseenter:te,onMouseout:le},Me(cu,{position:X,centerX:J,centerY:ee,radius:s.value,type:"source","data-type":"source"}))]:null,A.value==="target"||A.value===!0?[Me("g",{onMousedown:$,onMouseenter:te,onMouseout:le},Me(cu,{position:K,centerX:be,centerY:Ee,radius:s.value,type:"target","data-type":"target"}))]:null]])};function te(){H.value=!0}function le(){H.value=!1}function me(y,_){w.update({event:y,edge:m.value,connection:_})}function Se(y){w.updateEnd({event:y,edge:m.value}),L.value=!1}function ie(y,_){y.button===0&&(L.value=!0,Y.value=_?m.value.target:m.value.source,G.value=(_?m.value.targetHandle:m.value.sourceHandle)??null,T.value=_?"target":"source",w.updateStart({event:y,edge:m.value}),Q(y))}function re(y){var _;const E={event:y,edge:m.value};x.value&&(i.value=!1,m.value.selected&&b.value?(u([m.value]),(_=q.value)==null||_.blur()):n([m.value])),w.click(E)}function ue(y){w.contextMenu({event:y,edge:m.value})}function Ce(y){w.doubleClick({event:y,edge:m.value})}function ke(y){w.mouseEnter({event:y,edge:m.value})}function ve(y){w.mouseMove({event:y,edge:m.value})}function $e(y){w.mouseLeave({event:y,edge:m.value})}function C(y){ie(y,!0)}function $(y){ie(y,!1)}function v(y){var _;!I.value&&$d.includes(y.key)&&x.value&&(y.key==="Escape"?((_=q.value)==null||_.blur(),u([c(e.id)])):n([c(e.id)]))}}}),sx=ox,rx=ze({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:s,connectionPosition:r,connectionLineType:i,connectionLineStyle:l,connectionLineOptions:a,connectionStatus:u,viewport:c,findNode:f}=Le(),g=(e=wt($r))==null?void 0:e["connection-line"],b=ne(()=>{var N;return f((N=o.value)==null?void 0:N.nodeId)}),I=ne(()=>{var N;return f((N=s.value)==null?void 0:N.nodeId)??null}),S=ne(()=>({x:(r.value.x-c.value.x)/c.value.zoom,y:(r.value.y-c.value.y)/c.value.zoom})),k=ne(()=>a.value.markerStart?`url(#${os(a.value.markerStart,t)})`:""),D=ne(()=>a.value.markerEnd?`url(#${os(a.value.markerEnd,t)})`:"");return()=>{var N,m,w;if(!b.value||!o.value)return null;const O=o.value.id,R=o.value.type,W=b.value.handleBounds;let H=W?.[R]??[];if(n.value===gn.Loose){const j=W?.[R==="source"?"target":"source"]??[];H=[...H,...j]}if(!H)return null;const L=(O?H.find(j=>j.id===O):H[0])??null,Y=L?.position??ae.Top,{x:G,y:T}=fo(b.value,L,Y);let q=null;I.value&&(n.value===gn.Strict?q=((N=I.value.handleBounds[R==="source"?"target":"source"])==null?void 0:N.find(j=>{var Z;return j.id===((Z=s.value)==null?void 0:Z.id)}))||null:q=((m=[...I.value.handleBounds.source??[],...I.value.handleBounds.target??[]])==null?void 0:m.find(j=>{var Z;return j.id===((Z=s.value)==null?void 0:Z.id)}))||null);const x=((w=s.value)==null?void 0:w.position)??(Y?Fi[Y]:null);if(!Y||!x)return null;const A=i.value??a.value.type??In.Bezier;let d="";const p={sourceX:G,sourceY:T,sourcePosition:Y,targetX:S.value.x,targetY:S.value.y,targetPosition:x};return A===In.Bezier?[d]=ef(p):A===In.Step?[d]=zi({...p,borderRadius:0}):A===In.SmoothStep?[d]=zi(p):A===In.SimpleBezier?[d]=tf(p):d=`M${G},${T} ${S.value.x},${S.value.y}`,Me("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Me("g",{class:"vue-flow__connection"},g?Me(g,{sourceX:G,sourceY:T,sourcePosition:Y,targetX:S.value.x,targetY:S.value.y,targetPosition:x,sourceNode:b.value,sourceHandle:L,targetNode:I.value,targetHandle:q,markerEnd:D.value,markerStart:k.value,connectionStatus:u.value}):Me("path",{d,class:[a.value.class,u.value,"vue-flow__connection-path"],style:{...l.value,...a.value.style},"marker-end":D.value,"marker-start":k.value})))}}}),ix=rx,lx=["id","markerWidth","markerHeight","markerUnits","orient"],ax={name:"MarkerType",compatConfig:{MODE:3}},ux=ze({...ax,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(P(),U("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===V(Li).ArrowClosed?(P(),U("polyline",{key:0,style:Xe({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):fe("",!0),t.type===V(Li).Arrow?(P(),U("polyline",{key:1,style:Xe({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):fe("",!0)],8,lx))}}),cx={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},dx={name:"MarkerDefinitions",compatConfig:{MODE:3}},fx=ze({...dx,setup(e){const{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:s}=Le(),r=ne(()=>{const i=new Set,l=[],a=u=>{if(u){const c=os(u,t);i.has(c)||(typeof u=="object"?l.push({...u,id:c,color:u.color||s.value}):l.push({id:c,color:s.value,type:u}),i.add(c))}};for(const u of[o.value.markerEnd,o.value.markerStart])a(u);for(const u of n.value)for(const c of[u.markerStart,u.markerEnd])a(c);return l.sort((u,c)=>u.id.localeCompare(c.id))});return(i,l)=>(P(),U("svg",cx,[h("defs",null,[(P(!0),U(ce,null,Ie(r.value,a=>(P(),Ve(ux,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,"stroke-width":a.strokeWidth,orient:a.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),px={name:"Edges",compatConfig:{MODE:3}},hx=ze({...px,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=Le();return(s,r)=>(P(),U(ce,null,[se(fx),(P(!0),U(ce,null,Ie(V(n),i=>(P(),U("svg",{key:i.id,class:"vue-flow__edges vue-flow__container",style:Xe({zIndex:V(kb)(i,V(t),V(o))})},[se(V(sx),{id:i.id},null,8,["id"])],4))),128)),se(V(ix))],64))}}),gx=ze({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:s,multiSelectionActive:r,emits:i,removeSelectedNodes:l,addSelectedNodes:a,updateNodeDimensions:u,onUpdateNodeInternals:c,getNodeTypes:f,nodeExtent:g,elevateNodesOnSelect:b,disableKeyboardA11y:I,ariaLiveMessage:S,snapToGrid:k,snapGrid:D,nodeDragThreshold:N,nodesDraggable:m,elementsSelectable:w,nodesConnectable:O,nodesFocusable:R,hooks:W}=Le(),H=we(null);Dn(Yd,H),Dn(Gd,e.id);const L=wt($r),Y=Et(),G=qd(),{node:T,parentNode:q}=Xd(e.id),{emit:x,on:A}=qb(T,i),d=Pe(()=>typeof T.draggable>"u"?m.value:T.draggable),p=Pe(()=>typeof T.selectable>"u"?w.value:T.selectable),j=Pe(()=>typeof T.connectable>"u"?O.value:T.connectable),Z=Pe(()=>typeof T.focusable>"u"?R.value:T.focusable),Q=ne(()=>p.value||d.value||W.value.nodeClick.hasListeners()||W.value.nodeDoubleClick.hasListeners()||W.value.nodeMouseEnter.hasListeners()||W.value.nodeMouseMove.hasListeners()||W.value.nodeMouseLeave.hasListeners()),te=Pe(()=>!!T.dimensions.width&&!!T.dimensions.height),le=ne(()=>{const _=T.type||"default",E=L?.[`node-${_}`];if(E)return E;let M=T.template||f.value[_];if(typeof M=="string"&&Y){const z=Object.keys(Y.appContext.components);z&&z.includes(_)&&(M=Ji(_,!1))}return M&&typeof M!="string"?M:(i.error(new Ke(Ge.NODE_TYPE_MISSING,M)),!1)}),me=Kd({id:e.id,el:H,disabled:()=>!d.value,selectable:p,dragHandle:()=>T.dragHandle,onStart(_){x.dragStart(_)},onDrag(_){x.drag(_)},onStop(_){x.dragStop(_)},onClick(_){v(_)}}),Se=ne(()=>T.class instanceof Function?T.class(T):T.class),ie=ne(()=>{const _=(T.style instanceof Function?T.style(T):T.style)||{},E=T.width instanceof Function?T.width(T):T.width,M=T.height instanceof Function?T.height(T):T.height;return!_.width&&E&&(_.width=typeof E=="string"?E:`${E}px`),!_.height&&M&&(_.height=typeof M=="string"?M:`${M}px`),_}),re=Pe(()=>Number(T.zIndex??ie.value.zIndex??0));return c(_=>{(_.includes(e.id)||!_.length)&&Ce()}),at(()=>{_e(()=>T.hidden,(_=!1,E,M)=>{!_&&H.value&&(e.resizeObserver.observe(H.value),M(()=>{H.value&&e.resizeObserver.unobserve(H.value)}))},{immediate:!0,flush:"post"})}),_e([()=>T.type,()=>T.sourcePosition,()=>T.targetPosition],()=>{dt(()=>{u([{id:e.id,nodeElement:H.value,forceUpdate:!0}])})}),_e([()=>T.position.x,()=>T.position.y,()=>{var _;return(_=q.value)==null?void 0:_.computedPosition.x},()=>{var _;return(_=q.value)==null?void 0:_.computedPosition.y},()=>{var _;return(_=q.value)==null?void 0:_.computedPosition.z},re,()=>T.selected,()=>T.dimensions.height,()=>T.dimensions.width,()=>{var _;return(_=q.value)==null?void 0:_.dimensions.height},()=>{var _;return(_=q.value)==null?void 0:_.dimensions.width}],([_,E,M,z,F,B])=>{const X={x:_,y:E,z:B+(b.value&&T.selected?1e3:0)};typeof M<"u"&&typeof z<"u"?T.computedPosition=Eb({x:M,y:z,z:F},X):T.computedPosition=X},{flush:"post",immediate:!0}),_e([()=>T.extent,g],([_,E],[M,z])=>{(_!==M||E!==z)&&ue()}),T.extent==="parent"||typeof T.extent=="object"&&"range"in T.extent&&T.extent.range==="parent"?Ti(()=>te).toBe(!0).then(ue):ue(),()=>T.hidden?null:Me("div",{ref:H,"data-id":T.id,class:["vue-flow__node",`vue-flow__node-${le.value===!1?"default":T.type||"default"}`,{[n.value]:d.value,dragging:me?.value,draggable:d.value,selected:T.selected,selectable:p.value,parent:T.isParent},Se.value],style:{visibility:te.value?"visible":"hidden",zIndex:T.computedPosition.z??re.value,transform:`translate(${T.computedPosition.x}px,${T.computedPosition.y}px)`,pointerEvents:Q.value?"all":"none",...ie.value},tabIndex:Z.value?0:void 0,role:Z.value?"group":void 0,"aria-describedby":I.value?void 0:`${Td}-${t}`,"aria-label":T.ariaLabel,"aria-roledescription":"node",...T.domAttributes,onMouseenter:ke,onMousemove:ve,onMouseleave:$e,onContextmenu:C,onClick:v,onDblclick:$,onKeydown:y},[Me(le.value===!1?f.value.default:le.value,{id:T.id,type:T.type,data:T.data,events:{...T.events,...A},selected:T.selected,resizing:T.resizing,dragging:me.value,connectable:j.value,position:T.computedPosition,dimensions:T.dimensions,isValidTargetPos:T.isValidTargetPos,isValidSourcePos:T.isValidSourcePos,parent:T.parentNode,parentNodeId:T.parentNode,zIndex:T.computedPosition.z??re.value,targetPosition:T.targetPosition,sourcePosition:T.sourcePosition,label:T.label,dragHandle:T.dragHandle,onUpdateNodeInternals:Ce})]);function ue(){const _=T.computedPosition,{computedPosition:E,position:M}=vl(T,k.value?Mr(_,D.value):_,i.error,g.value,q.value);(T.computedPosition.x!==E.x||T.computedPosition.y!==E.y)&&(T.computedPosition={...T.computedPosition,...E}),(T.position.x!==M.x||T.position.y!==M.y)&&(T.position=M)}function Ce(){H.value&&u([{id:e.id,nodeElement:H.value,forceUpdate:!0}])}function ke(_){me?.value||x.mouseEnter({event:_,node:T})}function ve(_){me?.value||x.mouseMove({event:_,node:T})}function $e(_){me?.value||x.mouseLeave({event:_,node:T})}function C(_){return x.contextMenu({event:_,node:T})}function $(_){return x.doubleClick({event:_,node:T})}function v(_){p.value&&(!o.value||!d.value||N.value>0)&&Vi(T,r.value,a,l,s,!1,H.value),x.click({event:_,node:T})}function y(_){if(!(Bi(_)||I.value))if($d.includes(_.key)&&p.value){const E=_.key==="Escape";Vi(T,r.value,a,l,s,E,H.value)}else d.value&&T.selected&&no[_.key]&&(_.preventDefault(),S.value=`Moved selected node ${_.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~T.position.x}, y: ${~~T.position.y}`,G({x:no[_.key].x,y:no[_.key].y},_.shiftKey))}}}),mx=gx;function vx(e={includeHiddenNodes:!1}){const{nodes:t}=Le();return ne(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&(n?.handleBounds===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const yx={class:"vue-flow__nodes vue-flow__container"},bx={name:"Nodes",compatConfig:{MODE:3}},xx=ze({...bx,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:o}=Le(),s=vx(),r=we();return _e(s,i=>{i&&dt(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),at(()=>{r.value=new ResizeObserver(i=>{const l=i.map(a=>({id:a.target.getAttribute("data-id"),nodeElement:a.target,forceUpdate:!0}));dt(()=>n(l))})}),yr(()=>{var i;return(i=r.value)==null?void 0:i.disconnect()}),(i,l)=>(P(),U("div",yx,[r.value?(P(!0),U(ce,{key:0},Ie(V(t),(a,u,c,f)=>{const g=[a.id];if(f&&f.key===a.id&&th(f,g))return f;const b=(P(),Ve(V(mx),{id:a.id,key:a.id,"resize-observer":r.value},null,8,["id","resize-observer"]));return b.memo=g,b},l,0),128)):fe("",!0)]))}});function wx(){const{emits:e}=Le();at(()=>{if(Ud()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Ke(Ge.MISSING_STYLES))}})}const _x=h("div",{class:"vue-flow__edge-labels"},null,-1),Sx={name:"VueFlow",compatConfig:{MODE:3}},Cx=ze({...Sx,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,s=mp(),r=Qr(o,"modelValue",n),i=Qr(o,"nodes",n),l=Qr(o,"edges",n),a=Le(o),u=e1({modelValue:r,nodes:i,edges:l},o,a);return n1(n,a.hooks),ex(),wx(),Dn($r,s),yn(u),t(a),(c,f)=>(P(),U("div",{ref:V(a).vueFlowRef,class:"vue-flow"},[se(W1,null,{default:pt(()=>[se(hx),_x,se(xx),He(c.$slots,"zoom-pane")]),_:3}),He(c.$slots,"default"),se(Q1)],512))}}),Ex={name:"Panel",compatConfig:{MODE:3}},Ix=ze({...Ex,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=Le(),o=ne(()=>`${t.position}`.split("-"));return(s,r)=>(P(),U("div",{class:pe(["vue-flow__panel",o.value]),style:Xe({pointerEvents:V(n)?"none":"all"})},[He(s.$slots,"default")],6))}});var qt=(e=>(e.Lines="lines",e.Dots="dots",e))(qt||{});const of=function({dimensions:e,size:t,color:n}){return Me("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},sf=function({radius:e,color:t}){return Me("circle",{cx:e,cy:e,r:e,fill:t})};qt.Lines+"",qt.Dots+"";const Nx={[qt.Dots]:"#81818a",[qt.Lines]:"#eee"},Tx=["id","x","y","width","height","patternTransform"],Mx={key:2,height:"100",width:"100"},$x=["fill"],kx=["x","y","fill"],Ax={name:"Background",compatConfig:{MODE:3}},Dx=ze({...Ax,props:{id:{},variant:{default:()=>qt.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=Le(),o=ne(()=>{const i=n.value.zoom,[l,a]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],u=[l*i||1,a*i||1],c=e.size*i,[f,g]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],b=[f*i||1+u[0]/2,g*i||1+u[1]/2];return{scaledGap:u,offset:b,size:c}}),s=Pe(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),r=Pe(()=>e.color||e.patternColor||Nx[e.variant||qt.Dots]);return(i,l)=>(P(),U("svg",{class:"vue-flow__background vue-flow__container",style:Xe({height:`${i.height>100?100:i.height}%`,width:`${i.width>100?100:i.width}%`})},[He(i.$slots,"pattern-container",{id:s.value},()=>[h("pattern",{id:s.value,x:V(n).x%o.value.scaledGap[0],y:V(n).y%o.value.scaledGap[1],width:o.value.scaledGap[0],height:o.value.scaledGap[1],patternTransform:`translate(-${o.value.offset[0]},-${o.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[He(i.$slots,"pattern",{},()=>[i.variant===V(qt).Lines?(P(),Ve(V(of),{key:0,size:i.lineWidth,color:r.value,dimensions:o.value.scaledGap},null,8,["size","color","dimensions"])):i.variant===V(qt).Dots?(P(),Ve(V(sf),{key:1,color:r.value,radius:o.value.size/2},null,8,["color","radius"])):fe("",!0),i.bgColor?(P(),U("svg",Mx,[h("rect",{width:"100%",height:"100%",fill:i.bgColor},null,8,$x)])):fe("",!0)])],8,Tx)]),h("rect",{x:i.x,y:i.y,width:"100%",height:"100%",fill:`url(#${s.value})`},null,8,kx),He(i.$slots,"default",{id:s.value})],4))}}),Ox={name:"ControlButton",compatConfig:{MODE:3}},Px=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},Rx={type:"button",class:"vue-flow__controls-button"};function Lx(e,t,n,o,s,r){return P(),U("button",Rx,[He(e.$slots,"default")])}const Is=Px(Ox,[["render",Lx]]),Bx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Fx=h("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),Vx=[Fx];function zx(e,t){return P(),U("svg",Bx,Vx)}const Hx={render:zx},jx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Ux=h("path",{d:"M0 0h32v4.2H0z"},null,-1),Gx=[Ux];function Yx(e,t){return P(),U("svg",jx,Gx)}const Kx={render:Yx},Wx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Xx=h("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),qx=[Xx];function Zx(e,t){return P(),U("svg",Wx,qx)}const Jx={render:Zx},Qx={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ew=h("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),tw=[ew];function nw(e,t){return P(),U("svg",Qx,tw)}const ow={render:nw},sw={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},rw=h("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),iw=[rw];function lw(e,t){return P(),U("svg",sw,iw)}const aw={render:lw},uw={name:"Controls",compatConfig:{MODE:3}},cw=ze({...uw,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>Nd.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:o,elementsSelectable:s,setInteractive:r,zoomIn:i,zoomOut:l,fitView:a,viewport:u,minZoom:c,maxZoom:f}=Le(),g=Pe(()=>n.value||o.value||s.value),b=Pe(()=>u.value.zoom<=c.value),I=Pe(()=>u.value.zoom>=f.value);function S(){i(),t("zoomIn")}function k(){l(),t("zoomOut")}function D(){a(e.fitViewParams),t("fitView")}function N(){r(!g.value),t("interactionChange",!g.value)}return(m,w)=>(P(),Ve(V(Ix),{class:"vue-flow__controls",position:m.position},{default:pt(()=>[He(m.$slots,"top"),m.showZoom?(P(),U(ce,{key:0},[He(m.$slots,"control-zoom-in",{},()=>[se(Is,{class:"vue-flow__controls-zoomin",disabled:I.value,onClick:S},{default:pt(()=>[He(m.$slots,"icon-zoom-in",{},()=>[(P(),Ve(Gn(V(Hx))))])]),_:3},8,["disabled"])]),He(m.$slots,"control-zoom-out",{},()=>[se(Is,{class:"vue-flow__controls-zoomout",disabled:b.value,onClick:k},{default:pt(()=>[He(m.$slots,"icon-zoom-out",{},()=>[(P(),Ve(Gn(V(Kx))))])]),_:3},8,["disabled"])])],64)):fe("",!0),m.showFitView?He(m.$slots,"control-fit-view",{key:1},()=>[se(Is,{class:"vue-flow__controls-fitview",onClick:D},{default:pt(()=>[He(m.$slots,"icon-fit-view",{},()=>[(P(),Ve(Gn(V(Jx))))])]),_:3})]):fe("",!0),m.showInteractive?He(m.$slots,"control-interactive",{key:2},()=>[m.showInteractive?(P(),Ve(Is,{key:0,class:"vue-flow__controls-interactive",onClick:N},{default:pt(()=>[g.value?He(m.$slots,"icon-unlock",{key:0},()=>[(P(),Ve(Gn(V(aw))))]):fe("",!0),g.value?fe("",!0):He(m.$slots,"icon-lock",{key:1},()=>[(P(),Ve(Gn(V(ow))))])]),_:3})):fe("",!0)]):fe("",!0),He(m.$slots,"default")]),_:3},8,["position"]))}}),xl=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},dw={class:"nodrag"},fw=["draggable"],pw={class:"text-gray-500/80 group-hover/field:text-gray-300 transition-colors cursor-grab active:cursor-grabbing",title:"Drag to reorder field"},hw={key:0,class:"text-xs text-yellow-500 font-mono"},gw={key:1,class:"flex-1 mr-2"},mw={key:2,class:"text-[13px] text-gray-100 truncate select-none"},vw={key:3,class:"text-[10px] text-red-500 font-bold"},yw={class:"flex items-center gap-2 ml-2"},bw={key:0,class:"relative"},Ns=16,xw={__name:"FieldItem",props:{field:Object,collectionId:String,parentId:{type:String,default:null},index:{type:Number,default:0},isLast:{type:Boolean,default:!1},level:{type:Number,default:0},ancestorLastFlags:{type:Array,default:()=>[]}},setup(e){const t=e,n=bn(),o=ne(()=>n.selectedItemId===t.field.id),s=ne(()=>`${t.level*Ns+16}px`),r=ne(()=>({ObjectId:"text-amber-400",String:"text-blue-400",Number:"text-violet-400",Date:"text-emerald-400",Boolean:"text-pink-400",Array:"text-slate-300",Object:"text-cyan-300",Map:"text-indigo-300",Buffer:"text-orange-300",Mixed:"text-gray-300"})[t.field.type]||"text-gray-300"),i=we(!1),l=we(""),a=we(null),u=we(!1),c=we(!1),f=()=>{i.value=!0,l.value=t.field.name,setTimeout(()=>{a.value?.focus()},0)},g=()=>{l.value.trim()&&n.updateFieldProps(t.collectionId,t.field.id,{name:l.value.trim()}),i.value=!1},b=()=>{n.selectItem(t.field.id,"field",t.collectionId)},I=()=>{const O=`f-${Date.now()}`,R=qc(n.activeDatabaseType);n.addChildField(t.collectionId,t.field.id,{id:O,name:"childField",type:R}),n.selectItem(O,"field",t.collectionId)},S=O=>{if(c.value){O.preventDefault();return}O.dataTransfer.effectAllowed="move",O.dataTransfer.setData("application/json",JSON.stringify({fieldId:t.field.id,index:t.index,parentId:t.parentId,collectionId:t.collectionId})),O.stopPropagation()},k=O=>{O.preventDefault(),O.dataTransfer.dropEffect="move",u.value=!0},D=O=>{u.value=!1},N=O=>{O.preventDefault(),O.stopPropagation(),u.value=!1;try{const R=JSON.parse(O.dataTransfer.getData("application/json"));R.collectionId===t.collectionId&&R.parentId===t.parentId&&R.index!==t.index&&n.reorderField(t.collectionId,t.parentId,R.index,t.index)}catch(R){console.error("Drop error:",R)}},m=()=>{c.value=!0},w=()=>{requestAnimationFrame(()=>{c.value=!1})};return at(()=>{window.addEventListener("mouseup",w),window.addEventListener("touchend",w)}),yn(()=>{window.removeEventListener("mouseup",w),window.removeEventListener("touchend",w)}),(O,R)=>{const W=Ji("FieldItem",!0);return P(),U("div",dw,[h("div",{onClick:ut(b,["stop"]),class:pe(["relative group/field flex items-center justify-between text-sm py-1.5 pr-2.5 rounded cursor-pointer border-2 transition-all duration-150",[o.value?"bg-[#2a2a2a] border-emerald-500":"border-transparent hover:bg-[#2a2a2a]",u.value?"border-t-emerald-500 bg-[#2a2a2a]/50 scale-[1.02]":""]]),style:Xe({paddingLeft:s.value}),draggable:!c.value,onDragstart:S,onDragover:k,onDragleave:D,onDrop:N},[(P(!0),U(ce,null,Ie(e.ancestorLastFlags,(H,L)=>ro((P(),U("div",{key:L,class:"absolute top-0 bottom-0 w-px bg-[#404040]",style:Xe({left:`${L*Ns+22}px`})},null,4)),[[kc,!H]])),128)),e.level>0?(P(),U(ce,{key:0},[h("div",{class:"absolute w-px bg-[#404040]",style:Xe({left:`${(e.level-1)*Ns+22}px`,top:"0",height:e.isLast?"50%":"100%"})},null,4),h("div",{class:"absolute h-px bg-[#404040]",style:Xe({left:`${(e.level-1)*Ns+22}px`,top:"50%",width:"8px"})},null,4)],64)):fe("",!0),se(V(po),{type:"target",position:V(ae).Left,id:e.field.id,onMousedown:ut(m,["stop"]),onTouchstart:ut(m,["stop"]),class:"!w-2 !h-2 !bg-gray-500 !-left-2.5 opacity-0 group-hover/field:opacity-100 transition-opacity"},null,8,["position","id"]),h("div",{class:"flex items-center gap-2 flex-1 min-w-0",onDblclick:ut(f,["stop"])},[h("span",pw,[se(V(Mg),{size:13})]),e.field.key?(P(),U("span",hw,"PK")):fe("",!0),i.value?(P(),U("div",gw,[ro(h("input",{ref_key:"nameInput",ref:a,"onUpdate:modelValue":R[0]||(R[0]=H=>l.value=H),onBlur:g,onKeydown:_r(g,["enter"]),onClick:R[1]||(R[1]=ut(()=>{},["stop"])),class:"w-full bg-[#1e1e1e] text-gray-200 font-bold px-1 py-0.5 rounded border border-emerald-500 focus:outline-none text-xs"},null,544),[[rl,l.value]])])):(P(),U("span",mw,he(e.field.name),1)),e.field.required?(P(),U("span",vw,"*")):fe("",!0)],32),h("div",yw,[h("span",{class:pe(["w-[82px] text-right text-[11px] font-semibold font-mono uppercase tracking-wider",r.value])},he(e.field.type),3),e.field.type==="Object"||e.field.type==="Array"?(P(),U("button",{key:0,onClick:ut(I,["stop"]),class:"p-0.5 rounded hover:bg-emerald-600/20 text-gray-400 hover:text-emerald-400 opacity-0 group-hover/field:opacity-100 transition-opacity"},[se(V(Xs),{size:13})])):fe("",!0)]),se(V(po),{type:"source",position:V(ae).Right,id:e.field.id,onMousedown:ut(m,["stop"]),onTouchstart:ut(m,["stop"]),class:"!w-2 !h-2 !bg-emerald-500 !-right-2.5 opacity-0 group-hover/field:opacity-100 transition-opacity"},null,8,["position","id"])],46,fw),e.field.children&&e.field.children.length>0?(P(),U("div",bw,[se(sl,{name:"field-list"},{default:pt(()=>[(P(!0),U(ce,null,Ie(e.field.children,(H,L)=>(P(),Ve(W,{key:H.id,field:H,collectionId:e.collectionId,parentId:e.field.id,index:L,isLast:L===e.field.children.length-1,level:e.level+1,ancestorLastFlags:[...e.ancestorLastFlags,e.isLast]},null,8,["field","collectionId","parentId","index","isLast","level","ancestorLastFlags"]))),128))]),_:1})])):fe("",!0)])}}},ww=xl(xw,[["__scopeId","data-v-95450e23"]]),_w={class:"flex items-center gap-2 min-w-0 flex-1 mr-2"},Sw={class:"w-6 h-6 rounded-md bg-emerald-500/15 border border-emerald-500/30 flex items-center justify-center text-emerald-400"},Cw={key:0,class:"flex-1 min-w-0"},Ew={key:1,class:"min-w-0 flex-1"},Iw={class:"font-bold text-emerald-300 truncate block leading-tight select-none"},Nw={class:"text-[10px] text-gray-500"},Tw={key:0,class:"flex gap-1"},Mw={class:"p-1 rounded text-gray-500 hover:text-white hover:bg-gray-700/70 transition-colors"},$w={class:"px-2.5 py-2.5 space-y-1.5 nodrag bg-[#1a1a1f]"},kw={class:"p-2 border-t border-gray-700/80 bg-[#212127]"},Aw={__name:"CollectionNode",props:{data:{type:Object,required:!0},id:{type:String,required:!0},selected:{type:Boolean,default:!1}},setup(e){const t=e,n=bn(),{updateNodeInternals:o,findNode:s,addSelectedNodes:r,removeSelectedNodes:i}=Le(),l=we(!1),a=we(""),u=we(null);let c=null;const f=()=>{l.value=!0,a.value=t.data.label,setTimeout(()=>{u.value?.focus()},0)},g=()=>{a.value.trim()&&n.updateCollectionProps(t.id,{label:a.value.trim()}),l.value=!1},b=()=>{const D=new Set(n.activeCollections.filter(w=>w.selected).map(w=>w.id)),N=[],m=[];n.activeCollections.forEach(w=>{const O=s(w.id);if(O){if(D.has(w.id)){O.selected||N.push(O);return}O.selected&&m.push(O)}}),m.length>0&&i(m),N.length>0&&r(N)},I=D=>{const N=D.shiftKey||D.metaKey||D.ctrlKey;if(s(t.id)){if(N){const w=n.activeCollections.filter(R=>R.selected).length;if(!!n.activeCollections.find(R=>R.id===t.id)?.selected&&w===1){n.selectItem(t.id,"collection"),b();return}n.setCollectionSelection(t.id,!0),b();return}n.setCollectionSelection(t.id,!1),b()}},S=()=>{const D=`f-${Date.now()}`,N=qc(n.activeDatabaseType);n.addField(t.id,{id:D,name:"newField",type:N}),n.selectItem(D,"field",t.id)},k=()=>{c&&(cancelAnimationFrame(c),c=null);const D=180,N=performance.now(),m=()=>{o([t.id]),performance.now()-N<D?c=requestAnimationFrame(m):c=null};c=requestAnimationFrame(m)};return _e(()=>t.data.fields,async()=>{await dt(),k()},{deep:!0}),yn(()=>{c&&cancelAnimationFrame(c)}),(D,N)=>(P(),U("div",{onClick:ut(I,["stop"]),class:pe(["min-w-[276px] bg-gradient-to-b from-[#1f1f23] to-[#17171a] rounded-xl border shadow-[0_8px_28px_rgba(0,0,0,0.35)] overflow-hidden transition-all duration-200 group",e.selected||V(n).selectedItemId===e.id&&V(n).selectedItemType==="collection"?"border-emerald-400 ring-1 ring-emerald-400/90 shadow-[0_8px_28px_rgba(16,185,129,0.16)]":"border-gray-700/90 hover:border-gray-500"])},[N[2]||(N[2]=h("div",{class:"h-0.5 bg-gradient-to-r from-emerald-400/80 via-cyan-400/70 to-blue-400/60"},null,-1)),h("div",{class:"px-3 py-2 bg-[#27272d] border-b border-gray-700/80 flex justify-between items-center handle drag-handle cursor-grab active:cursor-grabbing",onDblclick:ut(f,["stop"])},[h("div",_w,[h("div",Sw,[se(V(Gc),{size:13})]),l.value?(P(),U("div",Cw,[ro(h("input",{ref_key:"titleInput",ref:u,"onUpdate:modelValue":N[0]||(N[0]=m=>a.value=m),onBlur:g,onKeydown:_r(g,["enter"]),class:"w-full bg-[#1e1e1e] text-emerald-300 font-bold px-2 py-1 rounded border border-emerald-500 focus:outline-none text-sm"},null,544),[[rl,a.value]])])):(P(),U("div",Ew,[h("span",Iw,he(e.data.label),1),h("span",Nw,he(e.data.fields.length)+" fields",1)]))]),l.value?fe("",!0):(P(),U("div",Tw,[h("button",Mw,[se(V(Tg),{size:14})])]))],32),h("div",$w,[se(sl,{name:"field-list"},{default:pt(()=>[(P(!0),U(ce,null,Ie(e.data.fields,(m,w)=>(P(),Ve(ww,{key:m.id,field:m,collectionId:e.id,parentId:null,index:w,isLast:w===e.data.fields.length-1,level:0},null,8,["field","collectionId","index","isLast"]))),128))]),_:1})]),h("div",kw,[h("button",{onClick:ut(S,["stop"]),class:"w-full flex items-center justify-center gap-1 py-1.5 text-xs font-medium text-gray-300 hover:text-emerald-200 bg-[#2a2a33] hover:bg-[#30303a] border border-gray-600/60 rounded-md transition-colors"},[se(V(Xs),{size:14}),N[1]||(N[1]=We(" Add Field ",-1))])])],2))}},Dw=xl(Aw,[["__scopeId","data-v-5d8c1a09"]]),Ow={key:0,class:"px-2 py-1 text-xs font-bold text-gray-500 uppercase border-b border-gray-700 mb-1"},Pw={key:1,class:"px-2 py-1 text-xs font-bold text-gray-500 uppercase border-b border-gray-700 mb-1"},Rw={key:2,class:"px-2 py-1 text-xs font-bold text-gray-500 uppercase border-b border-gray-700 mb-1"},Lw={__name:"ContextMenu",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},type:{type:String,required:!0},id:{type:String,default:null}},emits:["close","delete","duplicate"],setup(e,{emit:t}){const n=t,o=we(null),s=bn(),r=ne(()=>xn(s.activeDatabaseType)),i=l=>{o.value&&!o.value.contains(l.target)&&n("close")};return at(()=>{console.log("[ContextMenu] Component Mounted"),setTimeout(()=>{console.log("[ContextMenu] Adding global listeners"),document.addEventListener("click",i),document.addEventListener("contextmenu",i)},100)}),yn(()=>{console.log("[ContextMenu] Component Unmounted"),document.removeEventListener("click",i),document.removeEventListener("contextmenu",i)}),(l,a)=>(P(),Ve(op,{to:"body"},[(P(),U("div",{key:0,ref_key:"menuRef",ref:o,class:"fixed z-[9999] bg-[#1e1e1e] border border-gray-700 rounded-lg shadow-xl py-1 w-48 text-sm",style:Xe({top:`${e.y}px`,left:`${e.x}px`})},[e.type==="collection"?(P(),U("div",Ow,he(r.value.singular)+" Actions ",1)):e.type==="edge"?(P(),U("div",Pw," Relation Actions ")):e.type==="canvas"?(P(),U("div",Rw," Canvas Actions ")):fe("",!0),e.type==="canvas"?(P(),U("button",{key:3,onClick:a[0]||(a[0]=u=>l.$emit("create")),class:"w-full text-left px-3 py-2 hover:bg-[#2a2a2a] text-emerald-400 hover:text-emerald-300 flex items-center gap-2 transition-colors"},[se(V(Uc),{size:14}),We(" Create "+he(r.value.singular),1)])):fe("",!0),e.type!=="canvas"?(P(),U("button",{key:4,onClick:a[1]||(a[1]=u=>l.$emit("delete",e.id)),class:"w-full text-left px-3 py-2 hover:bg-red-900/30 text-red-400 hover:text-red-300 flex items-center gap-2 transition-colors"},[se(V($n),{size:14}),a[2]||(a[2]=We(" Delete ",-1))])):fe("",!0)],4))]))}},Bw={class:"h-full w-full bg-[#1a1a1a]"},Fw="#64748b",Vw={__name:"DiagramCanvas",setup(e){const t=bn(),{onConnect:n,addEdges:o,onPaneClick:s,onEdgeClick:r,onNodeContextMenu:i,onEdgeContextMenu:l,onPaneContextMenu:a,project:u,getSelectedNodes:c,getSelectedEdges:f,findEdge:g,addSelectedEdges:b,removeSelectedEdges:I}=Le(),S={collection:hn(Dw)},k=ne({get:()=>t.activeCollections,set:x=>{const A=t.activeDatabaseId,d=t.collections.filter(j=>j.databaseId!==A),p=(x||[]).map(j=>j?.databaseId===A?j:{...j,databaseId:A});t.collections=[...d,...p]}}),D=(x=[])=>{const A=t.activeDatabaseId,d=new Set(t.activeCollections.map(p=>p.id));return(x||[]).filter(p=>p&&p.source&&p.target&&p.sourceHandle&&p.targetHandle).filter(p=>d.has(p.source)&&d.has(p.target)).filter(p=>R(p.source,p.sourceHandle)).filter(p=>R(p.target,p.targetHandle)).map(p=>p?.databaseId===A?p:{...p,databaseId:A})},N=ne({get:()=>t.activeEdges,set:x=>{const A=t.activeDatabaseId,d=t.edges.filter(j=>j.databaseId!==A),p=D(x);t.edges=[...d,...p]}}),m={ObjectId:"#fbbf24",String:"#60a5fa",Number:"#a78bfa",Date:"#34d399",Boolean:"#f472b6",Array:"#cbd5e1",Object:"#67e8f9",Map:"#818cf8",Buffer:"#fdba74",Mixed:"#9ca3af"},w=(x,A)=>{for(const d of x||[]){if(d.id===A)return d;if(d.children?.length){const p=w(d.children,A);if(p)return p}}return null},O=(x,A)=>{const d=t.collections.find(j=>j.id===x);return!d||!A?null:w(d.data?.fields||[],A)?.type||null},R=(x,A)=>A?!!O(x,A):!1,W=x=>({stroke:m[x]||Fw,strokeWidth:2,strokeDasharray:"7 5"}),H=()=>{t.edges.forEach(x=>{const A=O(x.source,x.sourceHandle),d=W(A),p=x.style||{};(p.stroke!==d.stroke||p.strokeWidth!==d.strokeWidth||p.strokeDasharray!==d.strokeDasharray)&&(x.style={...p,...d}),x.animated!==!1&&(x.animated=!1)})},L=we({visible:!1,x:0,y:0,type:null,id:null}),Y=(x,A,d)=>{x.preventDefault(),x.stopPropagation(),L.value={visible:!0,x:x.clientX,y:x.clientY,type:A,id:d}},G=()=>{L.value.visible=!1},T=(x,A)=>{if(x==="delete")L.value.type==="collection"?t.removeCollection(A):L.value.type==="edge"&&t.removeEdge(A);else if(x==="create"){const{x:d,y:p}=u({x:L.value.x,y:L.value.y}),j=`col-${Date.now()}`,Q={...al(t.activeDatabaseType).getDefaultField(),id:`f-${Date.now()}-1`},te=Xc(t.activeDatabaseType,t.activeCollections.map(me=>me?.data?.label)),le={id:j,type:"collection",position:{x:d,y:p},data:{label:te,fields:[Q]}};t.addCollection(le)}G()};n(x=>{if(!x.source||!x.target||!x.sourceHandle||!x.targetHandle||!R(x.source,x.sourceHandle)||!R(x.target,x.targetHandle))return;const A=O(x.source,x.sourceHandle);o([{...x,databaseId:t.activeDatabaseId,style:W(A),animated:!1}])}),s(()=>{t.clearSelections(),G()}),r(x=>{if(x.event.shiftKey||x.event.metaKey||x.event.ctrlKey){const d=g(x.edge.id);if(d){const p=f.value.some(Z=>Z.id===d.id),j=f.value.length;if(p&&j===1){t.selectItem(d.id,"edge"),G();return}p?I([d]):b([d])}G();return}t.selectItem(x.edge.id,"edge"),G()}),i(x=>{Y(x.event,"collection",x.node.id)}),l(x=>{Y(x.event,"edge",x.edge.id)}),a(x=>{Y(x,"canvas",null)}),_e([c,f],([x,A])=>{if(x.length+A.length!==1){t.selectedItemType!=="field"&&t.selectItem(null,null,null);return}if(x.length===1){t.selectItem(x[0].id,"collection");return}A.length===1&&t.selectItem(A[0].id,"edge")},{deep:!0}),_e(()=>t.collections,()=>{t.pruneInvalidEdges(t.activeDatabaseId),H()},{deep:!0});const q=x=>{if(!(["INPUT","TEXTAREA"].includes(document.activeElement.tagName)||document.activeElement.isContentEditable)){if(x.key==="Delete"||x.key==="Backspace"){const A=c.value.map(p=>p.id),d=f.value.map(p=>p.id);if(A.length||d.length){A.forEach(p=>t.removeCollection(p)),d.forEach(p=>t.removeEdge(p));return}t.selectedItemId&&(t.selectedItemType==="collection"?t.removeCollection(t.selectedItemId):t.selectedItemType==="edge"&&t.removeEdge(t.selectedItemId))}if(x.ctrlKey||x.metaKey){const A=x.key.toLowerCase();if(A==="z"){x.preventDefault(),x.shiftKey?t.redo():t.undo();return}if(A==="y"){x.preventDefault(),t.redo();return}A==="c"?t.selectedItemId&&t.selectedItemType==="collection"&&t.copyNode(t.selectedItemId):A==="v"&&t.pasteNode()}}};return at(()=>{t.pruneInvalidEdges(t.activeDatabaseId),H(),window.addEventListener("keydown",q)}),yn(()=>{window.removeEventListener("keydown",q)}),(x,A)=>(P(),U("div",Bw,[(P(),Ve(V(Cx),{key:V(t).activeDatabaseId,nodes:k.value,"onUpdate:nodes":A[2]||(A[2]=d=>k.value=d),edges:N.value,"onUpdate:edges":A[3]||(A[3]=d=>N.value=d),"node-types":S,"multi-selection-key-code":["Meta","Control","Shift"],class:"h-full w-full","default-viewport":{zoom:1},"min-zoom":.2,"max-zoom":4},{default:pt(()=>[se(V(Dx),{"pattern-color":"#333",gap:20}),se(V(cw)),L.value.visible?(P(),Ve(Lw,{key:0,x:L.value.x,y:L.value.y,type:L.value.type,id:L.value.id,onClose:G,onDelete:A[0]||(A[0]=d=>T("delete",d)),onCreate:A[1]||(A[1]=()=>T("create"))},null,8,["x","y","type","id"])):fe("",!0)]),_:1},8,["nodes","edges"]))]))}},zw={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"},Hw={class:"bg-[#1e1e1e] border border-gray-700 rounded-lg shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col overflow-hidden"},jw={class:"px-6 py-4 border-b border-gray-700 flex justify-between items-center bg-[#252525]"},Uw={class:"flex-1 bg-[#1e1e1e] overflow-hidden relative"},Gw={class:"absolute inset-0 flex flex-col items-center justify-center z-10 bg-[#1e1e1e]"},Yw={class:"px-6 py-4 border-t border-gray-700 bg-[#252525] flex justify-end gap-3"},Kw={__name:"CodeExport",props:{isOpen:Boolean,collectionId:{type:String,default:null},collectionIds:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const n=e,o=bn(),s=ho(),r=ne(()=>al(o.activeDatabaseType)),i=()=>{const I=o.activeDatabaseId,S=o.collections.filter(k=>k.databaseId===I);if(n.collectionIds.length>0){const k=new Set(n.collectionIds);return S.filter(D=>k.has(D.id))}return n.collectionId?S.filter(k=>k.id===n.collectionId):S},l=ne(()=>r.value.generateCode({store:o,collectionId:n.collectionId,collectionIds:n.collectionIds,collections:i()})),a=we(null),u=we(!0),c=ne(()=>r.value.getLanguage());let f=null;const g=async()=>{try{await navigator.clipboard.writeText(l.value),s.showToast("Code copied to clipboard.","success")}catch{s.showToast("Failed to copy code.","error")}},b=()=>{if(f)return;u.value=!0;const I=()=>{require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs"}}),require(["vs/editor/editor.main"],function(){u.value=!1,a.value&&(f&&f.dispose(),f=monaco.editor.create(a.value,{value:l.value,language:c.value,theme:"vs-dark",readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14,padding:{top:16}}))})};if(window.monaco&&window.monaco.editor){I();return}if(document.getElementById("monaco-loader")){if(window.require)I();else{const k=setInterval(()=>{window.require&&(clearInterval(k),I())},100)}return}const S=document.createElement("script");S.id="monaco-loader",S.src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js",S.onload=I,document.body.appendChild(S)};return _e(()=>n.isOpen,I=>{I?setTimeout(()=>{b(),f&&f.setValue(l.value)},100):f&&(f.dispose(),f=null)}),_e(l,I=>{f&&(f.setValue(I),monaco.editor.setModelLanguage(f.getModel(),c.value))}),yn(()=>{f&&f.dispose()}),(I,S)=>e.isOpen?(P(),U("div",zw,[h("div",Hw,[h("div",jw,[S[2]||(S[2]=h("h2",{class:"text-xl font-bold text-white"},"Export Schema",-1)),h("button",{onClick:S[0]||(S[0]=k=>I.$emit("close")),class:"text-gray-400 hover:text-white transition-colors"},[se(V(ll),{size:20})])]),h("div",Uw,[ro(h("div",Gw,[...S[3]||(S[3]=[h("div",{class:"w-8 h-8 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin mb-2"},null,-1),h("span",{class:"text-gray-400 text-sm"},"Loading Editor...",-1)])],512),[[kc,u.value]]),h("div",{ref_key:"editorContainer",ref:a,class:pe(["w-full h-full",{"opacity-0":u.value}])},null,2)]),h("div",Yw,[h("button",{onClick:S[1]||(S[1]=k=>I.$emit("close")),class:"px-4 py-2 rounded bg-gray-700 hover:bg-gray-600 text-white font-medium transition-colors"}," Close "),h("button",{onClick:g,class:"px-4 py-2 rounded bg-emerald-600 hover:bg-emerald-700 text-white font-medium flex items-center gap-2 transition-colors"},[se(V(Uc),{size:16}),S[4]||(S[4]=We(" Copy Code ",-1))])])])])):fe("",!0)}},Ww={class:"w-80 bg-[#1e1e1e] border-l border-gray-700 flex flex-col h-full overflow-y-auto"},Xw={key:0,class:"flex-1 flex flex-col items-center justify-center text-gray-500 p-8 text-center"},qw={class:"text-sm"},Zw={key:1,class:"p-4 space-y-6"},Jw={class:"pt-4 border-t border-gray-700"},Qw={key:2,class:"p-4 space-y-6"},e_={class:"block text-xs font-bold text-gray-500 uppercase mb-2"},t_=["value"],n_={key:0,class:"space-y-3"},o_={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},s_={key:0,class:"space-y-2 pl-2 border-l-2 border-emerald-500/30"},r_=["value"],i_=["value"],l_={key:1,class:"space-y-3"},a_=["value"],u_={class:"grid grid-cols-2 gap-2"},c_=["value"],d_=["value"],f_=["value"],p_=["value"],h_=["value"],g_=["value"],m_=["value"],v_=["value"],y_=["value"],b_=["value"],x_=["value"],w_=["value"],__=["value"],S_=["value"],C_=["value"],E_=["value"],I_={class:"grid grid-cols-2 gap-2"},N_=["value"],T_={key:0},M_=["value"],$_={class:"grid grid-cols-2 gap-2"},k_=["value"],A_=["value"],D_=["value"],O_=["value"],P_={class:"space-y-2"},R_={class:"grid grid-cols-3 gap-2"},L_=["value"],B_=["value"],F_=["value"],V_=["value"],z_={class:"space-y-2"},H_={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},j_={key:0,class:"grid grid-cols-3 gap-2"},U_=["value"],G_=["value"],Y_=["value"],K_=["value"],W_={class:"space-y-2"},X_={class:"grid grid-cols-2 gap-2"},q_=["value"],Z_=["value"],J_=["value"],Q_=["value"],e2=["value"],t2=["value"],n2=["value"],o2=["value"],s2={class:"pt-4 border-t border-gray-700"},r2={key:3,class:"p-4 space-y-6"},i2=["value"],l2=["value"],a2=["value"],u2={class:"space-y-3"},c2={key:0,class:"grid grid-cols-2 gap-2"},d2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},f2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},p2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},h2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},g2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},m2={key:1,class:"grid grid-cols-2 gap-2"},v2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},y2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},b2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},x2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},w2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},_2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},S2={key:2,class:"grid grid-cols-2 gap-2"},C2=["value"],E2=["value"],I2=["value"],N2={key:3},T2=["value"],M2={key:0,class:"space-y-3"},$2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},k2={key:0,class:"grid grid-cols-2 gap-2"},A2=["value"],D2=["value"],O2=["value"],P2=["value"],R2=["value"],L2=["value"],B2=["value"],F2=["value"],V2=["value"],z2={class:"space-y-2"},H2=["value"],j2=["value"],U2={key:1,class:"space-y-1"},G2=["value"],Y2={key:1,class:"space-y-3"},K2={class:"grid grid-cols-3 gap-2"},W2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},X2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},q2={class:"flex items-center justify-between p-2 bg-[#2a2a2a] rounded"},Z2={class:"grid grid-cols-2 gap-2"},J2=["value"],Q2=["value"],eS={class:"grid grid-cols-2 gap-2"},tS=["value"],nS=["value"],oS=["value"],sS={class:"space-y-2"},rS=["value","onInput"],iS=["onClick"],lS={key:2,class:"space-y-2"},aS=["value","onInput"],uS=["onClick"],cS={key:3,class:"space-y-2"},dS=["value"],fS={key:4,class:"space-y-3"},pS={class:"grid grid-cols-3 gap-2"},hS=["value"],gS=["value"],mS=["value"],vS={key:5,class:"space-y-3"},yS=["value"],bS=["value"],xS={key:6,class:"space-y-3"},wS={class:"grid grid-cols-2 gap-2"},_S=["value"],SS=["value"],CS={class:"grid grid-cols-3 gap-2"},ES=["value"],IS=["value"],NS=["value"],TS={key:7,class:"space-y-3"},MS=["value"],$S=["value"],kS=["value"],AS={key:8,class:"space-y-3"},DS=["value"],OS=["value"],PS={key:9,class:"space-y-3"},RS=["value"],LS=["value"],BS={class:"pt-4 border-t border-gray-700"},FS={__name:"PropertiesPanel",setup(e){const t=bn(),n=ho(),o=ne(()=>t.selectedItem),s=ne(()=>t.selectedItemType==="collection"),r=ne(()=>t.selectedItemType==="field"),i=ne(()=>t.selectedItemType==="edge"),l=ne(()=>t.activeDatabaseType),a=ne(()=>xn(l.value)),u=ne(()=>fg[l.value]||[]),c=[{value:"",label:"Default"},{value:"true",label:"True"},{value:"false",label:"False"}],f=[{value:"",label:"Default"},{value:"true",label:"True"},{value:"false",label:"False"},{value:"throw",label:"Throw"}],g=[{value:"",label:"Default"},{value:"primary",label:"primary"},{value:"primaryPreferred",label:"primaryPreferred"},{value:"secondary",label:"secondary"},{value:"secondaryPreferred",label:"secondaryPreferred"},{value:"nearest",label:"nearest"}],b=[{value:"",label:"Default"},{value:"upper",label:"upper"},{value:"lower",label:"lower"},{value:"off",label:"off"}],I=["String","Number","Boolean","Date","ObjectId","Object","Mixed"],S=[{value:"",label:"No Action"},{value:"CASCADE",label:"CASCADE"},{value:"RESTRICT",label:"RESTRICT"},{value:"SET NULL",label:"SET NULL"},{value:"NO ACTION",label:"NO ACTION"}],k=ne(()=>t.activeCollections||[]),D=ne(()=>{if(!r.value||l.value===de.MONGODB)return null;const A=String(o.value?.referencesTable||"");return k.value.find(d=>d.data?.label===A)||null}),N=ne(()=>D.value?.data?.fields||[]),m=(A,d)=>{t.updateCollectionProps(t.selectedItemId,{[A]:d})},w=(A,d)=>{r.value&&t.updateFieldProps(t.selectedCollectionId,t.selectedItemId,{[A]:d})},O=A=>{w("referencesTable",A),w("referencesColumnId",""),w("referencesColumn","")},R=A=>{w("referencesColumnId",A);const d=N.value.find(p=>p.id===A);w("referencesColumn",d?.name||"")},W=()=>{if(!r.value||!o.value)return[];if(Array.isArray(o.value.enumValues))return o.value.enumValues;if(typeof o.value.enum=="string"&&o.value.enum.trim()){const A=o.value.enum.split(",").map(d=>d.trim()).filter(Boolean);return t.updateFieldProps(t.selectedCollectionId,t.selectedItemId,{enumValues:A,enum:""}),A}return[]},H=()=>{w("enumValues",[...W(),""])},L=(A,d)=>{const p=[...W()];A<0||A>=p.length||(p[A]=d,w("enumValues",p))},Y=A=>{const d=[...W()];A<0||A>=d.length||(d.splice(A,1),w("enumValues",d))},G=A=>{s.value?t.updateCollectionProps(t.selectedItemId,{label:A.target.value}):r.value&&t.updateFieldProps(t.selectedCollectionId,t.selectedItemId,{name:A.target.value})},T=A=>{r.value&&t.updateFieldProps(t.selectedCollectionId,t.selectedItemId,{type:A.target.value})},q=A=>{if(r.value){const d=o.value[A]||!1;t.updateFieldProps(t.selectedCollectionId,t.selectedItemId,{[A]:!d})}},x=async()=>{await n.openConfirm({title:"Delete Item",message:"Are you sure?",confirmText:"Delete"})&&(s.value?(t.removeCollection(t.selectedItemId),n.showToast(`${a.value.singular} deleted.`,"success")):r.value?(t.removeField(t.selectedCollectionId,t.selectedItemId),n.showToast("Field deleted.","success")):i.value&&(t.removeEdge(t.selectedItemId),n.showToast("Relationship deleted.","success")))};return(A,d)=>(P(),U("aside",Ww,[d[145]||(d[145]=h("div",{class:"p-4 border-b border-gray-700"},[h("h2",{class:"font-bold text-gray-200"},"Properties")],-1)),!o.value&&!i.value?(P(),U("div",Xw,[se(V(Ng),{size:48,class:"mb-4 opacity-50"}),h("p",qw,"Select a "+he(a.value.singularLower)+", field, or relationship to edit properties",1)])):i.value?(P(),U("div",Zw,[d[74]||(d[74]=h("div",{class:"p-4 bg-[#2a2a2a] rounded text-center"},[h("h3",{class:"text-gray-300 font-medium mb-2"},"Relationship Selected"),h("p",{class:"text-xs text-gray-500"},"You can delete this relationship connection.")],-1)),h("div",Jw,[h("button",{onClick:x,class:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-900/30 hover:bg-red-900/50 text-red-500 border border-red-900/50 rounded transition-colors text-sm"},[se(V($n),{size:16}),d[73]||(d[73]=We(" Delete Relationship ",-1))])])])):s.value?(P(),U("div",Qw,[h("div",null,[h("label",e_,he(a.value.singular)+" Name",1),h("input",{value:o.value.data.label,onInput:G,class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-3 py-2 text-white text-sm focus:border-emerald-500 focus:outline-none transition-colors",type:"text"},null,40,t_)]),l.value===V(de).MONGODB?(P(),U("div",n_,[d[78]||(d[78]=h("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Schema Options",-1)),h("div",o_,[d[75]||(d[75]=h("span",{class:"text-sm text-gray-300"},"Timestamps",-1)),h("button",{onClick:d[0]||(d[0]=p=>V(t).updateCollectionProps(V(t).selectedItemId,{timestampsEnabled:!o.value.data.timestampsEnabled})),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.data.timestampsEnabled?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.data.timestampsEnabled?"translate-x-5":""])},null,2)],2)]),o.value.data.timestampsEnabled?(P(),U("div",s_,[h("div",null,[d[76]||(d[76]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Created At Field",-1)),h("input",{value:o.value.data.createdAtName,onInput:d[1]||(d[1]=p=>V(t).updateCollectionProps(V(t).selectedItemId,{createdAtName:p.target.value})),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs focus:border-emerald-500 focus:outline-none transition-colors",type:"text",placeholder:"default: createdAt"},null,40,r_)]),h("div",null,[d[77]||(d[77]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Updated At Field",-1)),h("input",{value:o.value.data.updatedAtName,onInput:d[2]||(d[2]=p=>V(t).updateCollectionProps(V(t).selectedItemId,{updatedAtName:p.target.value})),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs focus:border-emerald-500 focus:outline-none transition-colors",type:"text",placeholder:"default: updatedAt"},null,40,i_)])])):fe("",!0)])):fe("",!0),l.value===V(de).MONGODB?(P(),U("div",l_,[d[96]||(d[96]=h("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Advanced Schema Options",-1)),h("div",null,[d[79]||(d[79]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Collection Name",-1)),h("input",{value:o.value.data.schemaCollectionName||"",onInput:d[3]||(d[3]=p=>m("schemaCollectionName",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs focus:border-emerald-500 focus:outline-none transition-colors",type:"text",placeholder:"default model name plural"},null,40,a_)]),h("div",u_,[h("div",null,[d[80]||(d[80]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Strict",-1)),h("select",{value:o.value.data.schemaStrictMode||"",onChange:d[4]||(d[4]=p=>m("schemaStrictMode",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(f,p=>h("option",{key:p.value,value:p.value},he(p.label),9,d_)),64))],40,c_)]),h("div",null,[d[81]||(d[81]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Strict Query",-1)),h("select",{value:o.value.data.schemaStrictQueryMode||"",onChange:d[5]||(d[5]=p=>m("schemaStrictQueryMode",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`strict-query-${p.value}`,value:p.value},he(p.label),9,p_)),64))],40,f_)]),h("div",null,[d[82]||(d[82]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Auto Index",-1)),h("select",{value:o.value.data.schemaAutoIndexMode||"",onChange:d[6]||(d[6]=p=>m("schemaAutoIndexMode",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`auto-index-${p.value}`,value:p.value},he(p.label),9,g_)),64))],40,h_)]),h("div",null,[d[83]||(d[83]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Auto Create",-1)),h("select",{value:o.value.data.schemaAutoCreateMode||"",onChange:d[7]||(d[7]=p=>m("schemaAutoCreateMode",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`auto-create-${p.value}`,value:p.value},he(p.label),9,v_)),64))],40,m_)]),h("div",null,[d[84]||(d[84]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"id Virtual",-1)),h("select",{value:o.value.data.schemaIdVirtualMode||"",onChange:d[8]||(d[8]=p=>m("schemaIdVirtualMode",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`id-virtual-${p.value}`,value:p.value},he(p.label),9,b_)),64))],40,y_)]),h("div",null,[d[85]||(d[85]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"_id Field",-1)),h("select",{value:o.value.data.schemaUnderscoreIdMode||"",onChange:d[9]||(d[9]=p=>m("schemaUnderscoreIdMode",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`id-field-${p.value}`,value:p.value},he(p.label),9,w_)),64))],40,x_)]),h("div",null,[d[86]||(d[86]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Minimize",-1)),h("select",{value:o.value.data.schemaMinimizeMode||"",onChange:d[10]||(d[10]=p=>m("schemaMinimizeMode",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`minimize-${p.value}`,value:p.value},he(p.label),9,S_)),64))],40,__)]),h("div",null,[d[87]||(d[87]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Optimistic Concurrency",-1)),h("select",{value:o.value.data.schemaOptimisticConcurrencyMode||"",onChange:d[11]||(d[11]=p=>m("schemaOptimisticConcurrencyMode",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`optimistic-${p.value}`,value:p.value},he(p.label),9,E_)),64))],40,C_)])]),h("div",I_,[h("div",null,[d[89]||(d[89]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Version Key",-1)),h("select",{value:o.value.data.schemaVersionKeyMode||"",onChange:d[12]||(d[12]=p=>m("schemaVersionKeyMode",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[...d[88]||(d[88]=[h("option",{value:""},"Default",-1),h("option",{value:"disable"},"Disable",-1),h("option",{value:"custom"},"Custom",-1)])],40,N_)]),o.value.data.schemaVersionKeyMode==="custom"?(P(),U("div",T_,[d[90]||(d[90]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Version Key Name",-1)),h("input",{value:o.value.data.schemaVersionKeyName||"",onInput:d[13]||(d[13]=p=>m("schemaVersionKeyName",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"e.g. version"},null,40,M_)])):fe("",!0)]),h("div",$_,[h("div",null,[d[91]||(d[91]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Read Preference",-1)),h("select",{value:o.value.data.schemaReadPreference||"",onChange:d[14]||(d[14]=p=>m("schemaReadPreference",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(g,p=>h("option",{key:`read-${p.value}`,value:p.value},he(p.label),9,A_)),64))],40,k_)]),h("div",null,[d[92]||(d[92]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"skipVersioning",-1)),h("select",{value:o.value.data.schemaSkipVersioningMode||"",onChange:d[15]||(d[15]=p=>m("schemaSkipVersioningMode",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`skip-version-${p.value}`,value:p.value},he(p.label),9,O_)),64))],40,D_)])]),h("div",P_,[d[93]||(d[93]=h("label",{class:"block text-[10px] text-gray-400 uppercase"},"Write Concern",-1)),h("div",R_,[h("input",{value:o.value.data.schemaWriteConcernW||"",onInput:d[16]||(d[16]=p=>m("schemaWriteConcernW",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"w (1/majority)"},null,40,L_),h("select",{value:o.value.data.schemaWriteConcernJMode||"",onChange:d[17]||(d[17]=p=>m("schemaWriteConcernJMode",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`write-j-${p.value}`,value:p.value},"j: "+he(p.label),9,F_)),64))],40,B_),h("input",{value:o.value.data.schemaWriteConcernWtimeout||"",onInput:d[18]||(d[18]=p=>m("schemaWriteConcernWtimeout",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"0",placeholder:"wtimeout ms"},null,40,V_)])]),h("div",z_,[h("div",H_,[d[94]||(d[94]=h("span",{class:"text-sm text-gray-300"},"Capped Collection",-1)),h("button",{onClick:d[19]||(d[19]=p=>m("schemaCappedEnabled",!o.value.data.schemaCappedEnabled)),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.data.schemaCappedEnabled?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.data.schemaCappedEnabled?"translate-x-5":""])},null,2)],2)]),o.value.data.schemaCappedEnabled?(P(),U("div",j_,[h("input",{value:o.value.data.schemaCappedSize||"",onInput:d[20]||(d[20]=p=>m("schemaCappedSize",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"1",placeholder:"size bytes"},null,40,U_),h("input",{value:o.value.data.schemaCappedMax||"",onInput:d[21]||(d[21]=p=>m("schemaCappedMax",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"1",placeholder:"max docs"},null,40,G_),h("select",{value:o.value.data.schemaCappedAutoIndexIdMode||"",onChange:d[22]||(d[22]=p=>m("schemaCappedAutoIndexIdMode",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`capped-id-${p.value}`,value:p.value},"autoIndexId: "+he(p.label),9,K_)),64))],40,Y_)])):fe("",!0)]),h("div",W_,[d[95]||(d[95]=h("label",{class:"block text-[10px] text-gray-400 uppercase"},"Collation",-1)),h("div",X_,[h("input",{value:o.value.data.schemaCollationLocale||"",onInput:d[23]||(d[23]=p=>m("schemaCollationLocale",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"locale (e.g. en)"},null,40,q_),h("input",{value:o.value.data.schemaCollationStrength||"",onInput:d[24]||(d[24]=p=>m("schemaCollationStrength",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"1",max:"5",placeholder:"strength 1-5"},null,40,Z_),h("select",{value:o.value.data.schemaCollationCaseLevelMode||"",onChange:d[25]||(d[25]=p=>m("schemaCollationCaseLevelMode",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`collation-case-level-${p.value}`,value:p.value},"caseLevel: "+he(p.label),9,Q_)),64))],40,J_),h("select",{value:o.value.data.schemaCollationCaseFirst||"",onChange:d[26]||(d[26]=p=>m("schemaCollationCaseFirst",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(b,p=>h("option",{key:`collation-case-first-${p.value}`,value:p.value},"caseFirst: "+he(p.label),9,t2)),64))],40,e2),h("select",{value:o.value.data.schemaCollationNumericOrderingMode||"",onChange:d[27]||(d[27]=p=>m("schemaCollationNumericOrderingMode",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs col-span-2"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`collation-numeric-${p.value}`,value:p.value},"numericOrdering: "+he(p.label),9,o2)),64))],40,n2)])])])):fe("",!0),h("div",s2,[h("button",{onClick:x,class:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-900/30 hover:bg-red-900/50 text-red-500 border border-red-900/50 rounded transition-colors text-sm"},[se(V($n),{size:16}),We(" Delete "+he(a.value.singular),1)])])])):r.value?(P(),U("div",r2,[h("div",null,[d[97]||(d[97]=h("label",{class:"block text-xs font-bold text-gray-500 uppercase mb-2"},"Field Name",-1)),h("input",{value:o.value.name,onInput:G,class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-3 py-2 text-white text-sm focus:border-emerald-500 focus:outline-none transition-colors",type:"text"},null,40,i2)]),h("div",null,[d[98]||(d[98]=h("label",{class:"block text-xs font-bold text-gray-500 uppercase mb-2"},"Type",-1)),h("select",{value:o.value.type,onChange:T,class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-3 py-2 text-white text-sm focus:border-emerald-500 focus:outline-none transition-colors appearance-none"},[(P(!0),U(ce,null,Ie(u.value,p=>(P(),U("option",{key:p,value:p},he(p),9,a2))),128))],40,l2)]),h("div",u2,[d[113]||(d[113]=h("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Field Options",-1)),l.value===V(de).MONGODB?(P(),U("div",c2,[h("div",d2,[d[99]||(d[99]=h("span",{class:"text-sm text-gray-300"},"Required",-1)),h("button",{onClick:d[28]||(d[28]=p=>q("required")),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.required?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.required?"translate-x-5":""])},null,2)],2)]),h("div",f2,[d[100]||(d[100]=h("span",{class:"text-sm text-gray-300"},"Unique",-1)),h("button",{onClick:d[29]||(d[29]=p=>q("unique")),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.unique?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.unique?"translate-x-5":""])},null,2)],2)]),h("div",p2,[d[101]||(d[101]=h("span",{class:"text-sm text-gray-300"},"Index",-1)),h("button",{onClick:d[30]||(d[30]=p=>q("index")),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.index?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.index?"translate-x-5":""])},null,2)],2)]),h("div",h2,[d[102]||(d[102]=h("span",{class:"text-sm text-gray-300"},"Sparse",-1)),h("button",{onClick:d[31]||(d[31]=p=>q("sparse")),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.sparse?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.sparse?"translate-x-5":""])},null,2)],2)]),h("div",g2,[d[103]||(d[103]=h("span",{class:"text-sm text-gray-300"},"Immutable",-1)),h("button",{onClick:d[32]||(d[32]=p=>q("immutable")),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.immutable?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.immutable?"translate-x-5":""])},null,2)],2)])])):(P(),U("div",m2,[h("div",v2,[d[104]||(d[104]=h("span",{class:"text-sm text-gray-300"},"Primary Key",-1)),h("button",{onClick:d[33]||(d[33]=p=>q("primaryKey")),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.primaryKey?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.primaryKey?"translate-x-5":""])},null,2)],2)]),h("div",y2,[d[105]||(d[105]=h("span",{class:"text-sm text-gray-300"},"Auto Increment",-1)),h("button",{onClick:d[34]||(d[34]=p=>q("autoIncrement")),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.autoIncrement?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.autoIncrement?"translate-x-5":""])},null,2)],2)]),h("div",b2,[d[106]||(d[106]=h("span",{class:"text-sm text-gray-300"},"Nullable",-1)),h("button",{onClick:d[35]||(d[35]=p=>q("nullable")),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.nullable?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.nullable?"translate-x-5":""])},null,2)],2)]),h("div",x2,[d[107]||(d[107]=h("span",{class:"text-sm text-gray-300"},"Unique",-1)),h("button",{onClick:d[36]||(d[36]=p=>q("unique")),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.unique?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.unique?"translate-x-5":""])},null,2)],2)]),h("div",w2,[d[108]||(d[108]=h("span",{class:"text-sm text-gray-300"},"Index",-1)),h("button",{onClick:d[37]||(d[37]=p=>q("index")),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.index?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.index?"translate-x-5":""])},null,2)],2)]),h("div",_2,[d[109]||(d[109]=h("span",{class:"text-sm text-gray-300"},"Unsigned",-1)),h("button",{onClick:d[38]||(d[38]=p=>q("unsigned")),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.unsigned?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.unsigned?"translate-x-5":""])},null,2)],2)])])),l.value===V(de).MONGODB?(P(),U("div",S2,[h("div",null,[d[110]||(d[110]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Alias",-1)),h("input",{value:o.value.alias||"",onInput:d[39]||(d[39]=p=>w("alias",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"optional alias"},null,40,C2)]),h("div",null,[d[111]||(d[111]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Select",-1)),h("select",{value:o.value.selectMode||"",onChange:d[40]||(d[40]=p=>w("selectMode",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`field-select-${p.value}`,value:p.value},he(p.label),9,I2)),64))],40,E2)])])):(P(),U("div",N2,[d[112]||(d[112]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Default Value",-1)),h("input",{value:o.value.defaultValue||"",onInput:d[41]||(d[41]=p=>w("defaultValue",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"default value"},null,40,T2)]))]),l.value!==V(de).MONGODB?(P(),U("div",M2,[d[124]||(d[124]=h("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"SQL Constraints",-1)),h("div",$2,[d[114]||(d[114]=h("span",{class:"text-sm text-gray-300"},"Foreign Key",-1)),h("button",{onClick:d[42]||(d[42]=p=>q("foreignKey")),class:pe(["w-10 h-5 rounded-full relative transition-colors",o.value.foreignKey?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform",o.value.foreignKey?"translate-x-5":""])},null,2)],2)]),o.value.foreignKey?(P(),U("div",k2,[h("div",null,[d[116]||(d[116]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Reference Table",-1)),h("select",{value:o.value.referencesTable||"",onChange:d[43]||(d[43]=p=>O(p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[d[115]||(d[115]=h("option",{value:""},"Select table...",-1)),(P(!0),U(ce,null,Ie(k.value,p=>(P(),U("option",{key:p.id,value:p.data.label},he(p.data.label),9,D2))),128))],40,A2)]),h("div",null,[d[118]||(d[118]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Reference Column",-1)),h("select",{value:o.value.referencesColumnId||"",onChange:d[44]||(d[44]=p=>R(p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[d[117]||(d[117]=h("option",{value:""},"Select column...",-1)),(P(!0),U(ce,null,Ie(N.value,p=>(P(),U("option",{key:p.id,value:p.id},he(p.name),9,P2))),128))],40,O2)]),h("div",null,[d[119]||(d[119]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"FK Constraint Name",-1)),h("input",{value:o.value.fkConstraintName||"",onInput:d[45]||(d[45]=p=>w("fkConstraintName",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"optional"},null,40,R2)]),h("div",null,[d[120]||(d[120]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"On Delete",-1)),h("select",{value:o.value.onDelete||"",onChange:d[46]||(d[46]=p=>w("onDelete",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(S,p=>h("option",{key:`on-delete-${p.value}`,value:p.value},he(p.label),9,B2)),64))],40,L2)]),h("div",null,[d[121]||(d[121]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"On Update",-1)),h("select",{value:o.value.onUpdate||"",onChange:d[47]||(d[47]=p=>w("onUpdate",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(S,p=>h("option",{key:`on-update-${p.value}`,value:p.value},he(p.label),9,V2)),64))],40,F2)])])):fe("",!0),h("div",z2,[d[122]||(d[122]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Check Constraint Expression",-1)),h("input",{value:o.value.checkExpression||"",onInput:d[48]||(d[48]=p=>w("checkExpression",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"e.g. amount > 0"},null,40,H2),h("input",{value:o.value.checkConstraintName||"",onInput:d[49]||(d[49]=p=>w("checkConstraintName",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"check constraint name (optional)"},null,40,j2)]),o.value.index?(P(),U("div",U2,[d[123]||(d[123]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Index Name",-1)),h("input",{value:o.value.indexName||"",onInput:d[50]||(d[50]=p=>w("indexName",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"optional"},null,40,G2)])):fe("",!0)])):fe("",!0),o.value.type==="String"&&l.value===V(de).MONGODB?(P(),U("div",Y2,[d[130]||(d[130]=h("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"String Options",-1)),h("div",K2,[h("div",W2,[d[125]||(d[125]=h("span",{class:"text-xs text-gray-300"},"Trim",-1)),h("button",{onClick:d[51]||(d[51]=p=>q("trim")),class:pe(["w-8 h-4 rounded-full relative transition-colors",o.value.trim?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full transition-transform",o.value.trim?"translate-x-4":""])},null,2)],2)]),h("div",X2,[d[126]||(d[126]=h("span",{class:"text-xs text-gray-300"},"Lowercase",-1)),h("button",{onClick:d[52]||(d[52]=p=>q("lowercase")),class:pe(["w-8 h-4 rounded-full relative transition-colors",o.value.lowercase?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full transition-transform",o.value.lowercase?"translate-x-4":""])},null,2)],2)]),h("div",q2,[d[127]||(d[127]=h("span",{class:"text-xs text-gray-300"},"Uppercase",-1)),h("button",{onClick:d[53]||(d[53]=p=>q("uppercase")),class:pe(["w-8 h-4 rounded-full relative transition-colors",o.value.uppercase?"bg-emerald-500":"bg-gray-600"])},[h("div",{class:pe(["absolute top-0.5 left-0.5 bg-white w-3 h-3 rounded-full transition-transform",o.value.uppercase?"translate-x-4":""])},null,2)],2)])]),h("div",Z2,[h("input",{value:o.value.minLength||"",onInput:d[54]||(d[54]=p=>w("minLength",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"0",placeholder:"minLength"},null,40,J2),h("input",{value:o.value.maxLength||"",onInput:d[55]||(d[55]=p=>w("maxLength",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"0",placeholder:"maxLength"},null,40,Q2)]),h("div",eS,[h("input",{value:o.value.matchPattern||"",onInput:d[56]||(d[56]=p=>w("matchPattern",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"regex pattern"},null,40,tS),h("input",{value:o.value.matchFlags||"",onInput:d[57]||(d[57]=p=>w("matchFlags",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"flags (e.g. i)"},null,40,nS)]),h("div",null,[d[128]||(d[128]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Default",-1)),h("input",{value:o.value.defaultString||"",onInput:d[58]||(d[58]=p=>w("defaultString",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"default string"},null,40,oS)]),h("div",sS,[h("div",{class:"flex items-center justify-between"},[d[129]||(d[129]=h("label",{class:"block text-[10px] text-gray-400 uppercase"},"Enum Values",-1)),h("button",{onClick:H,class:"px-2 py-1 text-xs rounded bg-[#2d2d2d] hover:bg-[#3d3d3d] text-gray-300"},"Add")]),(P(!0),U(ce,null,Ie(W(),(p,j)=>(P(),U("div",{key:`enum-${j}`,class:"flex gap-2"},[h("input",{value:p,onInput:Z=>L(j,Z.target.value),class:"flex-1 bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"enum value"},null,40,rS),h("button",{onClick:Z=>Y(j),class:"px-2 py-1 text-xs rounded bg-red-900/30 hover:bg-red-900/50 text-red-300"},"Remove",8,iS)]))),128))])])):fe("",!0),o.value.type==="ENUM"&&l.value===V(de).MYSQL?(P(),U("div",lS,[h("div",{class:"flex items-center justify-between"},[d[131]||(d[131]=h("label",{class:"block text-[10px] text-gray-400 uppercase"},"Enum Values",-1)),h("button",{onClick:H,class:"px-2 py-1 text-xs rounded bg-[#2d2d2d] hover:bg-[#3d3d3d] text-gray-300"},"Add")]),(P(!0),U(ce,null,Ie(W(),(p,j)=>(P(),U("div",{key:`enum-${j}`,class:"flex gap-2"},[h("input",{value:p,onInput:Z=>L(j,Z.target.value),class:"flex-1 bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"value"},null,40,aS),h("button",{onClick:Z=>Y(j),class:"px-2 py-1 text-xs rounded bg-red-900/30 hover:bg-red-900/50 text-red-300"},"Remove",8,uS)]))),128))])):fe("",!0),l.value!==V(de).MONGODB&&["VARCHAR","CHAR","DECIMAL","FLOAT"].includes(o.value.type)?(P(),U("div",cS,[d[132]||(d[132]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Length / Parameters",-1)),h("input",{value:o.value.typeParams||"",onInput:d[59]||(d[59]=p=>w("typeParams",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"e.g. 255 or 10,2"},null,40,dS)])):fe("",!0),o.value.type==="Number"&&l.value===V(de).MONGODB?(P(),U("div",fS,[d[133]||(d[133]=h("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Number Options",-1)),h("div",pS,[h("input",{value:o.value.min||"",onInput:d[60]||(d[60]=p=>w("min",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",placeholder:"min"},null,40,hS),h("input",{value:o.value.max||"",onInput:d[61]||(d[61]=p=>w("max",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",placeholder:"max"},null,40,gS),h("input",{value:o.value.defaultNumber||"",onInput:d[62]||(d[62]=p=>w("defaultNumber",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",placeholder:"default"},null,40,mS)])])):fe("",!0),o.value.type==="Boolean"&&l.value===V(de).MONGODB?(P(),U("div",vS,[d[135]||(d[135]=h("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Boolean Options",-1)),h("div",null,[d[134]||(d[134]=h("label",{class:"block text-[10px] text-gray-400 uppercase mb-1"},"Default",-1)),h("select",{value:o.value.defaultBooleanMode||"",onChange:d[63]||(d[63]=p=>w("defaultBooleanMode",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[(P(),U(ce,null,Ie(c,p=>h("option",{key:`bool-default-${p.value}`,value:p.value},he(p.label),9,bS)),64))],40,yS)])])):fe("",!0),o.value.type==="Date"&&l.value===V(de).MONGODB?(P(),U("div",xS,[d[137]||(d[137]=h("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Date Options",-1)),h("div",wS,[h("select",{value:o.value.defaultDateMode||"",onChange:d[64]||(d[64]=p=>w("defaultDateMode",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[...d[136]||(d[136]=[h("option",{value:""},"Default: none",-1),h("option",{value:"now"},"Default: Date.now",-1),h("option",{value:"custom"},"Default: custom date",-1)])],40,_S),o.value.defaultDateMode==="custom"?(P(),U("input",{key:0,value:o.value.defaultDateValue||"",onInput:d[65]||(d[65]=p=>w("defaultDateValue",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"datetime-local"},null,40,SS)):fe("",!0)]),h("div",CS,[h("input",{value:o.value.minDate||"",onInput:d[66]||(d[66]=p=>w("minDate",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"datetime-local",placeholder:"min date"},null,40,ES),h("input",{value:o.value.maxDate||"",onInput:d[67]||(d[67]=p=>w("maxDate",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"datetime-local",placeholder:"max date"},null,40,IS),h("input",{value:o.value.expiresSeconds||"",onInput:d[68]||(d[68]=p=>w("expiresSeconds",p.target.value)),class:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"number",min:"0",placeholder:"expires sec"},null,40,NS)])])):fe("",!0),o.value.type==="ObjectId"&&l.value===V(de).MONGODB?(P(),U("div",TS,[d[139]||(d[139]=h("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"ObjectId Options",-1)),h("select",{value:o.value.ref||"",onChange:d[69]||(d[69]=p=>w("ref",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-3 py-2 text-white text-sm"},[d[138]||(d[138]=h("option",{value:""},"Reference collection...",-1)),(P(!0),U(ce,null,Ie(V(t).collections,p=>(P(),U("option",{key:p.id,value:p.data.label},he(p.data.label),9,$S))),128))],40,MS),h("input",{value:o.value.defaultObjectId||"",onInput:d[70]||(d[70]=p=>w("defaultObjectId",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs",type:"text",placeholder:"default objectId (optional)"},null,40,kS)])):fe("",!0),o.value.type==="Map"&&l.value===V(de).MONGODB?(P(),U("div",AS,[d[141]||(d[141]=h("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Map Options",-1)),h("select",{value:o.value.mapOfType||"",onChange:d[71]||(d[71]=p=>w("mapOfType",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[d[140]||(d[140]=h("option",{value:""},"Map value type (default Mixed)",-1)),(P(),U(ce,null,Ie(I,p=>h("option",{key:`map-${p}`,value:p},he(p),9,OS)),64))],40,DS)])):fe("",!0),o.value.type==="Array"&&l.value===V(de).MONGODB?(P(),U("div",PS,[d[143]||(d[143]=h("label",{class:"block text-xs font-bold text-gray-500 uppercase"},"Array Options",-1)),h("select",{value:o.value.arrayOfType||"",onChange:d[72]||(d[72]=p=>w("arrayOfType",p.target.value)),class:"w-full bg-[#2a2a2a] border border-gray-600 rounded px-2 py-1 text-white text-xs"},[d[142]||(d[142]=h("option",{value:""},"Array item type (default Mixed)",-1)),(P(),U(ce,null,Ie(I,p=>h("option",{key:`arr-${p}`,value:p},he(p),9,LS)),64))],40,RS)])):fe("",!0),h("div",BS,[h("button",{onClick:x,class:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-900/30 hover:bg-red-900/50 text-red-500 border border-red-900/50 rounded transition-colors text-sm"},[se(V($n),{size:16}),d[144]||(d[144]=We(" Delete Field ",-1))])])])):fe("",!0)]))}},VS={class:"pointer-events-none fixed inset-0 z-[120]"},zS={class:"absolute top-4 right-4 space-y-2"},HS={class:"w-full max-w-md rounded-xl border border-gray-700 bg-[#1e1e1e] text-gray-100 shadow-2xl"},jS={class:"flex items-center justify-between border-b border-gray-700 px-4 py-3"},US={class:"font-semibold"},GS={class:"space-y-3 px-4 py-4"},YS={class:"text-sm text-gray-300"},KS=["value","placeholder"],WS={class:"flex justify-end gap-2 border-t border-gray-700 px-4 py-3"},XS=["disabled"],qS={__name:"UiLayer",setup(e){const t=ho(),n=ne(()=>t.modal.kind==="prompt"&&t.modal.inputRequired&&!String(t.modal.inputValue||"").trim()),o=()=>{t.modal.kind==="alert"?t.resolveModal(!0):t.resolveModal(t.modal.kind==="prompt"?null:!1)},s=()=>{if(t.modal.kind==="prompt"){t.resolveModal(String(t.modal.inputValue||"").trim());return}t.resolveModal(!0)},r=()=>{t.resolveModal(t.modal.kind==="prompt"?null:!1)};return(i,l)=>(P(),U("div",VS,[h("div",zS,[se(sl,{name:"toast"},{default:pt(()=>[(P(!0),U(ce,null,Ie(V(t).toasts,a=>(P(),U("div",{key:a.id,class:pe(["pointer-events-auto min-w-[260px] max-w-[360px] rounded-lg border px-3 py-2 text-sm shadow-lg backdrop-blur",a.type==="error"?"bg-red-900/40 border-red-700 text-red-200":a.type==="success"?"bg-emerald-900/35 border-emerald-700 text-emerald-200":"bg-[#1e1e1e]/95 border-gray-700 text-gray-200"])},he(a.message),3))),128))]),_:1})]),V(t).modal.isOpen?(P(),U("div",{key:0,class:"pointer-events-auto absolute inset-0 bg-black/50 flex items-center justify-center p-4",onClick:ut(o,["self"])},[h("div",HS,[h("div",jS,[h("h3",US,he(V(t).modal.title),1),h("button",{class:"rounded p-1 text-gray-400 hover:bg-[#2a2a2a] hover:text-white",onClick:r},[se(V(ll),{size:16})])]),h("div",GS,[h("p",YS,he(V(t).modal.message),1),V(t).modal.kind==="prompt"?(P(),U("input",{key:0,value:V(t).modal.inputValue,onInput:l[0]||(l[0]=a=>V(t).setModalInputValue(a.target.value)),placeholder:V(t).modal.inputPlaceholder,class:"w-full rounded border border-gray-600 bg-[#2a2a2a] px-3 py-2 text-sm text-white focus:border-emerald-500 focus:outline-none",type:"text",onKeydown:l[1]||(l[1]=_r(a=>!n.value&&s(),["enter"]))},null,40,KS)):fe("",!0)]),h("div",WS,[V(t).modal.kind!=="alert"?(P(),U("button",{key:0,class:"rounded border border-gray-600 bg-[#2d2d2d] px-3 py-1.5 text-sm text-gray-200 hover:bg-[#3a3a3a]",onClick:r},he(V(t).modal.cancelText),1)):fe("",!0),h("button",{class:"rounded border border-emerald-700 bg-emerald-600 px-3 py-1.5 text-sm text-white hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:n.value,onClick:s},he(V(t).modal.confirmText),9,XS)])])])):fe("",!0)]))}},ZS=xl(qS,[["__scopeId","data-v-9c87af23"]]),JS={class:"flex h-screen w-screen overflow-hidden bg-[#1a1a1a] text-white font-sans antialiased"},QS={class:"flex-1 h-full w-full relative flex"},eC={class:"flex-1 relative h-full"},tC={class:"absolute top-4 right-4 bg-[#1e1e1e]/90 backdrop-blur border border-gray-700 rounded-lg shadow-2xl p-2 flex gap-2 z-10"},nC=["disabled"],oC=["disabled"],sC={class:"flex items-center gap-2 px-3 py-1.5 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-gray-300 hover:text-white rounded text-sm font-medium transition-colors border border-gray-600/50"},rC={__name:"App",setup(e){const t=we(!1),n=we(null),o=we([]),s=we(!0),r=bn(),i=ho(),l=ne(()=>xn(r.activeDatabaseType)),a=ne(()=>r.selectedItemType==="collection"||r.selectedItemType==="field"),u=ne(()=>r.activeCollections.filter(O=>O.selected)),c=ne(()=>u.value.length>1),f=ne(()=>s.value?"left-[1.05rem] top-4":"left-4 top-16"),g=()=>{i.showToast("AI Assistant: Analysis complete! Consider indexing 'email' in Users.","success")},b=()=>{n.value=null,o.value=[],t.value=!0},I=O=>{o.value=[],n.value=O,t.value=!0},S=O=>{n.value=null,o.value=O,t.value=!0},k=()=>{const O=u.value.map(R=>R.id);O.length<2||S(O)},D=async()=>{const O=u.value.map(W=>W.id);O.length<2||!await i.openConfirm({title:`Delete Selected ${l.value.plural}`,message:`Delete ${O.length} selected ${l.value.pluralLower}? This action cannot be undone immediately.`,confirmText:"Delete"})||(r.removeCollections(O),i.showToast(`${O.length} ${l.value.pluralLower} deleted.`,"success"))},N=()=>{r.undo()},m=()=>{r.redo()},w=()=>{s.value=!s.value};return at(()=>{r.initializeDatabases(),r.clearSelections(),r.initializeHistory()}),(O,R)=>(P(),U("div",JS,[s.value?(P(),Ve(mm,{key:0,onToggleSidebar:w,onExportCollection:I})):fe("",!0),h("main",QS,[h("div",eC,[se(Vw),s.value?fe("",!0):(P(),U("button",{key:0,onClick:w,class:"absolute top-4 left-4 z-20 flex items-center gap-2 px-3 py-1.5 bg-[#1e1e1e]/90 backdrop-blur border border-gray-700 rounded-lg text-gray-300 hover:text-white hover:bg-[#2a2a2a] transition-colors",title:"Show Sidebar"},[se(V(kg),{size:16}),R[1]||(R[1]=We(" Menu ",-1))])),c.value?(P(),U("div",{key:1,class:pe([f.value,"absolute z-20 bg-[#1e1e1e]/90 backdrop-blur border border-gray-700 rounded-lg shadow-2xl p-2 flex gap-2"])},[h("button",{onClick:k,class:"flex items-center gap-2 px-3 py-1.5 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-gray-300 hover:text-white rounded text-sm font-medium transition-colors border border-gray-600/50"},[se(V(jc),{size:16}),We(" Export Selected "+he(l.value.plural),1)]),h("button",{onClick:D,class:"flex items-center gap-2 px-3 py-1.5 bg-red-900/25 hover:bg-red-900/40 text-red-300 hover:text-red-200 rounded text-sm font-medium transition-colors border border-red-800/60"},[se(V($n),{size:16}),We(" Delete Selected "+he(l.value.plural),1)])],2)):fe("",!0),h("div",tC,[h("button",{onClick:N,disabled:!V(r).canUndo||!V(r).isDirty,class:"flex items-center gap-2 px-3 py-1.5 bg-[#2d2d2d] hover:bg-[#3d3d3d] disabled:hover:bg-[#2d2d2d] text-gray-300 hover:text-white disabled:text-gray-500 rounded text-sm font-medium transition-colors border border-gray-600/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Undo (Ctrl/Cmd+Z)"},[se(V(Pg),{size:16}),R[2]||(R[2]=We(" Undo ",-1))],8,nC),h("button",{onClick:m,disabled:!V(r).canRedo||!V(r).isDirty,class:"flex items-center gap-2 px-3 py-1.5 bg-[#2d2d2d] hover:bg-[#3d3d3d] disabled:hover:bg-[#2d2d2d] text-gray-300 hover:text-white disabled:text-gray-500 rounded text-sm font-medium transition-colors border border-gray-600/50 disabled:opacity-60 disabled:cursor-not-allowed",title:"Redo (Ctrl/Cmd+Shift+Z / Ctrl+Y)"},[se(V(Ag),{size:16}),R[3]||(R[3]=We(" Redo ",-1))],8,oC),R[7]||(R[7]=h("div",{class:"w-px bg-gray-700 mx-1"},null,-1)),h("button",{onClick:g,class:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white rounded text-sm font-medium transition-all shadow-lg shadow-purple-900/20"},[se(V(Og),{size:16}),R[4]||(R[4]=We(" AI Analyze ",-1))]),R[8]||(R[8]=h("div",{class:"w-px bg-gray-700 mx-1"},null,-1)),h("button",{onClick:b,class:"flex items-center gap-2 px-3 py-1.5 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-gray-300 hover:text-white rounded text-sm font-medium transition-colors border border-gray-600/50"},[se(V(Yc),{size:16}),R[5]||(R[5]=We(" Export ",-1))]),h("button",sC,[se(V(Dg),{size:16}),R[6]||(R[6]=We(" Share ",-1))])])]),a.value?(P(),Ve(FS,{key:0})):fe("",!0),se(Kw,{isOpen:t.value,collectionId:n.value,collectionIds:o.value,onClose:R[0]||(R[0]=W=>t.value=!1)},null,8,["isOpen","collectionId","collectionIds"]),se(ZS)])]))}},rf=Bh(rC),iC=zh();rf.use(iC);rf.mount("#app");
